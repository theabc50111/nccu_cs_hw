<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Indri: Indri Query Retrieval</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="IndriRunQuery"><a class="el" href="namespaceIndri.html">Indri</a> Query Retrieval </a></h1><h3>QueryEnvironment Parameters</h3>
<h4>Retrieval Parameters</h4>
<dl>
<dt>index </dt>
<dd>path to an <a class="el" href="namespaceIndri.html">Indri</a> Repository. Specified as &lt;index&gt;/path/to/repository&lt;/index&gt; in the parameter file and as <code>-index=/path/to/repository</code> on the command line. This element can be specified multiple times to combine Repositories.  </dd>
<dt>server </dt>
<dd>hostname of a host running an <a class="el" href="namespaceIndri.html">Indri</a> server (IndriDaemon). Specified as &lt;server&gt;hostname&lt;/server&gt; in the parameter file and as <code>-server=hostname</code> on the command line. The hostname can include an optional port number to connect to, using the form <code>hostname:portnum</code>. This element can be specified multiple times to combine servers.  </dd>
<dt>count </dt>
<dd>an integer value specifying the maximum number of results to return for a given query. Specified as &lt;count&gt;number&lt;/count&gt; in the parameter file and as <code>-count=number</code> on the command line.  </dd>
<dt>query </dt>
<dd><p class="startdd">An <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language query to run. This element can be specified multiple times. The query element may take numerous optional parameters. With none of the optional parameters, the query text can be the body of the element, eg:<br/>
</p>
<p>&lt;query&gt;combine(query terms)&lt;/query&gt; </p>
<p>The optional parameters are: </p>
<dl>
<dt>type</dt>
<dd>one of <code><a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a></code>, to use the <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language, or <code>nexi</code> to use the nexi query language. The default is <code><a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a></code>. This element may appear 0 or 1 times. </dd>
<dt>number</dt>
<dd>The query number or identifier. This may be a non-numeric symbol. The default is to number the queries in the parameters in order, starting with 0. This element may appear 0 or 1 times. </dd>
<dt>text</dt>
<dd>The query text, eg, "#combine(query terms)". This element may appear 0 or 1 times and must be used if any of the other parameters are supplied. </dd>
<dt>workingSetDocno</dt>
<dd>The external document id of a document to add to the working set for the query. This element may appear 0 or more times. When specified, query evaluation is restricted to the document ids specified. </dd>
<dt>feedbackDocno</dt>
<dd>The external document id of a document to add to the relevance feeedback set for the query. This element may appear 0 or more times. When specified, query expansion is performed using only the document ids specified. It is still necessary to specify a non-zero value for the fbDocs parameter when specifying feedbackDocno elements. </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>rule </dt>
<dd><p class="startdd">specifies the smoothing rule (TermScoreFunction) to apply. Format of the rule is:<br/>
</p>
<p><code> ( key ":" value ) [ "," key ":" value ]* </code> </p>
<p>Here's an example rule in command line format:<br/>
</p>
<p><code>-rule=method:linear,collectionLambda:0.2,field:title</code> </p>
<p>and in parameter file format:<br/>
 <code> &lt;rule&gt;method:linear,collectionLambda:0.2,field:title&lt;/rule&gt; </code></p>
<p></p>
<p>This corresponds to Jelinek-Mercer smoothing with background lambda equal to 0.2, only for items in a title field.</p>
<p></p>
<p>If nothing is listed for a key, all values are assumed. So, a rule that does not specify a field matches all fields. This makes <code>-rule=method:linear,collectionLambda:0.2</code> a valid rule.</p>
<p></p>
<p>Valid keys: </p>
<dl>
<dt>method</dt>
<dd>smoothing method (text) </dd>
<dt>field</dt>
<dd>field to apply this rule to </dd>
<dt>operator </dt>
<dd>type of item in query to apply to { term, window } </dd>
</dl>
<p></p>
<p class="enddd">Valid methods: </p>
<dl>
<dt>dirichlet</dt>
<dd>(also 'd', 'dir') (default mu=2500) </dd>
<dt>jelinek-mercer</dt>
<dd>(also 'jm', 'linear') (default collectionLambda=0.4, documentLambda=0.0), collectionLambda is also known as just "lambda", either will work  </dd>
<dt>twostage</dt>
<dd>(also 'two-stage', 'two') (default mu=2500, lambda=0.4) </dd>
</dl>
<p>If the rule doesn't parse correctly, the default is Dirichlet, mu=2500.  </p>
</dd>
<dt>stopper </dt>
<dd>a complex element containing one or more subelements named word, specifying the stopword list to use. Specified as &lt;stopper&gt;&lt;word&gt;stopword&lt;/word&gt;&lt;/stopper&gt; and as <code>-stopper.word=stopword</code> on the command line. This is an optional parameter with the default of no stopping. </dd>
<dt>maxWildcardTerms </dt>
<dd><em>(optional)</em> An integer specifying the maximum number of wildcard terms that can be generated for a synonym list for this query or set of queries. If this limit is reached for a wildcard term, an exception will be thrown. If this parameter is not specified, a default of 100 will be used.  </dd>
</dl>
<h4>Baseline (non-LM) retrieval</h4>
<dl>
<dt>baseline </dt>
<dd><p class="startdd">Specifies the baseline (non-language modeling) retrieval method to apply. This enables running baseline experiments on collections too large for the Lemur RetMethod API. When running a baseline experiment, the queries may not contain any <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language operators, they must contain only terms.</p>
<p></p>
<p>Format of the parameter value:<br/>
</p>
<p><code> (tfidf|okapi) [ "," key ":" value ]* </code> </p>
<p>Here's an example rule in command line format:<br/>
</p>
<p><code>-baseline=tfidf,k1:1.0,b:0.3</code> </p>
<p>and in parameter file format:<br/>
 <code> &lt;baseline&gt;tfidf,k1:1.0,b:0.3&lt;/baseline&gt; </code></p>
<p></p>
<p class="enddd">Methods: </p>
<dl>
<dt>tfidf </dt>
<dd><p class="startdd">Performs retrieval via tf.idf scoring as implemented in lemur::retrieval::TFIDFRetMethod using BM25TF term weighting. Pseudo-relevance feedback may be performed via the parameters below. </p>
<p></p>
<p>Parameters (optional): </p>
<dl>
<dt>k1</dt>
<dd>k1 parameter for term weight (default 1.2) </dd>
<dt>b</dt>
<dd>b parameter for term weight (default 0.75)  </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>okapi </dt>
<dd><p class="startdd">Performs retrieval via Okapi scoring as implemented in lemur::retrieval::OkapiRetMethod. Pseudo-relevance feedback may &lt;bold&gt;not&lt;/bold&gt; be performed with this baseline method. </p>
<p></p>
<p class="enddd">Parameters (optional): </p>
<dl>
<dt>k1</dt>
<dd>k1 parameter for term weight (default 1.2) </dd>
<dt>b</dt>
<dd>b parameter for term weight (default 0.75) </dd>
<dt>k3</dt>
<dd>k3 parameter for query term weight (default 7)  </dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<h4>Formatting Parameters</h4>
<dl>
<dt>queryOffset </dt>
<dd>an integer value specifying one less than the starting query number, eg 150 for TREC formatted output. Specified as &lt;queryOffset&gt;number&lt;/queryOffset&gt; in the parameter file and as <code>-queryOffset=number</code> on the command line. </dd>
<dt>runID </dt>
<dd>a string specifying the id for a query run, used in TREC scorable output. Specified as &lt;runID&gt;someID&lt;/runID&gt; in the parameter file and as <code>-runID=someID</code> on the command line. </dd>
<dt>trecFormat </dt>
<dd>the symbol <code>true</code> to produce TREC scorable output, otherwise the symbol <code>false</code>. Specified as &lt;trecFormat&gt;true&lt;/trecFormat&gt; in the parameter file and as <code>-trecFormat=true</code> on the command line. Note that <code>0</code> can be used for false, and <code>1</code> can be used for true. </dd>
<dt>inex participant-id </dt>
<dd>triggers output of results in INEX format and specifies the participant-id attribute used in submissions. Specified as &lt;inex&gt;&lt;particpantID&gt;someID&lt;/participantID&gt;&lt;inex&gt; in the parameter file and as <code>-inex.participantID=someID</code> on the command line.  </dd>
<dt>inex task </dt>
<dd>triggers output of results in INEX format and specifies the task attribute (default CO.Thorough). Specified as &lt;inex&gt;&lt;task&gt;someTask&lt;/task&gt;&lt;inex&gt; in the parameter file and as <code>-inex.task=someTask</code> on the command line.  </dd>
<dt>inex query </dt>
<dd>triggers output of results in INEX format and specifies the query attribute (default automatic). Specified as &lt;inex&gt;&lt;query&gt;someQueryType&lt;/query&gt;&lt;inex&gt; in the parameter file and as <code>-inex.query=someQueryType</code> on the command line.  </dd>
<dt>inex topic-part </dt>
<dd>triggers output of results in INEX format and specifies the topic-part attribute (default T). Specified as &lt;inex&gt;&lt;topicPart&gt;someTopicPart&lt;/topicPart&gt;&lt;inex&gt; in the parameter file and as <code>-inex.topicPart=someTopicPart</code> on the command line.  </dd>
<dt>inex description </dt>
<dd>triggers output of results in INEX format and specifies the contents of the description tag. Specified as &lt;inex&gt;&lt;description&gt;some description&lt;/description&gt;&lt;inex&gt; in the parameter file and as <code>-inex.description="some description"</code> on the command line.  </dd>
</dl>
<h4>Pseudo-Relevance Feedback Parameters</h4>
<dl>
<dt>fbDocs </dt>
<dd>an integer specifying the number of documents to use for feedback. Specified as &lt;fbDocs&gt;number&lt;/fbDocs&gt; in the parameter file and as <code>-fbDocs=number</code> on the command line. </dd>
<dt>fbTerms </dt>
<dd>an integer specifying the number of terms to use for feedback. Specified as &lt;fbTerms&gt;number&lt;/fbTerms&gt; in the parameter file and as <code>-fbTerms=number</code> on the command line. </dd>
<dt>fbMu </dt>
<dd>a floating point value specifying the value of mu to use for feedback. Specified as &lt;fbMu&gt;number&lt;/fbMu&gt; in the parameter file and as <code>-fbMu=number</code> on the command line. </dd>
<dt>fbOrigWeight </dt>
<dd>a floating point value in the range [0.0..1.0] specifying the weight for the original query in the expanded query. Specified as &lt;fbOrigWeight&gt;number&lt;/fbOrigWeight&gt; in the parameter file and as <code>-fbOrigWeight=number</code> on the command line. </dd>
</dl>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 17 Dec 2014 for Indri by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
