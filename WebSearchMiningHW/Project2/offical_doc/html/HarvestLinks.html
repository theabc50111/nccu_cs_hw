<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Indri: Harvestlinks Utility</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="HarvestLinks">Harvestlinks Utility </a></h1><p>The HarvestLinks application extracts all links (and link text) from a collection of web pages. It can be used to gather anchor text and in-links for HTML and TREC Web data. The default file class is trecweb. To process WARC files, such as those distributed with ClueWeb09, use the optional parameter <b>class</b>. This in turn can be added to an index in the form of "inlink" fields for use for direct retrieval or for page-rank calculations. </p>
<p>The two required parameters for the harvestlinks application are: </p>
<ul>
<li>
<b>corpus</b>: The path to the directory holding the corpus files you're trying to index </li>
<li>
<b>output</b>: The path to a directory where the link harvesting output should go </li>
</ul>
<p>For example, running this from the command line might look like: </p>
<pre>
  ./harvestlinks -corpus=/path/to/corpus -output=/path/to/output
</pre> <p>Once you have gathered your links, you must tell the indexer to index them along with your source data. In your index parameter file, you should add the following to your &lt;corpus&gt; parameter set:<br/>
 </p>
<pre>
  &lt;inlink&gt;/path/to/output/sorted&lt;/inlink&gt;
</pre><p> <br/>
 (where the "sorted" directory is the directory named "sorted" under the output directory for harvestlinks). And also, so that the indexer knows about the inlink fields:<br/>
 </p>
<pre>
  &lt;field&gt;&lt;name&gt;inlink&lt;/name&gt;&lt;/field&gt;
</pre><p> <br/>
 This will allow you to perform retrieval tasks on the anchor text. </p>
<h3>Harvestlinks Parameters</h3>
<ul>
<li>
<b>corpus: (<em>required</em>)</b> The path to the directory holding the corpus files you're trying to index  </li>
<li>
<b>class: (<em>optional</em>)</b> The file class of the corpus. One of trecweb (the default) or warc.  </li>
<li>
<b>output: (<em>required</em>)</b> The path to a directory where the link harvesting output should go  </li>
<li>
<b>redirect</b>: specifies a redirect file that maps from source to target URLs to create aliases for links. The redirect file is a text file with one entry per line in the form of:<br/>
 &nbsp;&nbsp;[SOURCE_URL] [TARGET_URL]<br/>
 Where the source URL is the original URL to be found and the target URL will be what is searched for instead of the original source URL.  </li>
<li>
<b>mergethreads</b>: specified the number of threads to use for the file sort and merge operations (default 4, recommended less than 8 max.)  </li>
<li>
<b>delete</b>: set to false to not delete any existing directories in the output directory (default true: do delete)  </li>
<li>
<b>harvest</b>: perform the harvesting step (default true, set to false to skip)  </li>
<li>
<b>sort</b>: perform the sorting/merge step (default true, set to false to skip)  </li>
<li>
<b>clean</b>: perform cleaning of temporary files after sort (default true, set to false to skip)  </li>
<li>
<p class="startli"><b>combine</b>: perfom final combination of links (default true, set to false to skip) </p>
<p class="endli"></p>
</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 17 Dec 2014 for Indri by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
