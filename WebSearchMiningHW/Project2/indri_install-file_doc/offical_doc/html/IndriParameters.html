<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Indri: Indri Parameter Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="IndriParameters"><a class="el" href="namespaceIndri.html">Indri</a> Parameter Files </a></h1><p>The <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> applications, IndriBuildIndex, IndriDaemon, and IndriRunQuery accept parameters from either the command line or from a file. The parameter file uses an XML format. The command line uses dotted path notation. The top level element in the parameters file is named <em>parameters</em>.</p>
<h3>Repository construction parameters</h3>
<dl>
<dt>memory </dt>
<dd>an integer value specifying the number of bytes to use for the indexing process. The value can include a scaling factor by adding a suffix. Valid values are (case insensitive) K = 1000, M = 1000000, G = 1000000000. So 100M would be equivalent to 100000000. The value should contain only decimal digits and the optional suffix. Specified as &lt;memory&gt;100M&lt;/memory&gt; in the parameter file and as <code>-memory=100M</code> on the command line.  </dd>
<dt>corpus </dt>
<dd><p class="startdd">a complex element containing parameters related to a corpus. This element can be specified multiple times. The parameters are </p>
<dl>
<dt>path </dt>
<dd>The pathname of the file or directory containing documents to index. Specified as &lt;corpus&gt;&lt;path&gt;/path/to/file_or_directory&lt;/path&gt;&lt;/corpus&gt; in the parameter file and as <code>-corpus.path=/path/to/file_or_directory</code> on the command line. </dd>
<dt>class </dt>
<dd>The FileClassEnviroment of the file or directory containing documents to index. Specified as &lt;corpus&gt;&lt;class&gt;trecweb&lt;/class&gt;&lt;/corpus&gt; in the parameter file and as <code>-corpus.class=trecweb</code> on the command line. The known classes are: <ul>
<li>
html -- web page data. </li>
<li>
xml -- xml marked up data. </li>
<li>
trecweb -- TREC web format, eg terabyte track. </li>
<li>
trectext -- TREC format, eg TREC-3 onward. </li>
<li>
trecalt -- TREC format, eg TREC-3 onward, with only the TEXT field included. </li>
<li>
warc -- WARC (Web ARChive) format, such as can be output by the heritrix webcrawler. </li>
<li>
warcchar -- WARC (Web ARChive) format, such as can be output by the heritrix webcrawler. Tokenizes individual characters, enabling indexing of unsgemented text. </li>
<li>
doc -- Microsoft Word format (windows platform only). </li>
<li>
ppt -- Microsoft Powerpoint format (windows platform only). </li>
<li>
pdf -- Adobe PDF format. </li>
<li>
txt -- Plain text format. </li>
</ul>
</dd>
<dt>annotations </dt>
<dd>The pathname of the file containing offset annotations for the documents specified in <code>path</code>. Specified as &lt;corpus&gt;&lt;annotations&gt;/path/to/file&lt;/annotations&gt;&lt;/corpus&gt; in the parameter file and as <code>-corpus.annotations=/path/to/file</code> on the command line. </dd>
<dt>metadata </dt>
<dd><p class="startdd">The pathname of the file or directory containing offset metadata for the documents specified in <code>path</code>. Specified as &lt;corpus&gt;&lt;metadata&gt;/path/to/file&lt;/metadata&gt;&lt;/corpus&gt; in the parameter file and as <code>-corpus.metadata=/path/to/file</code> on the command line.</p>
<p class="enddd">Combining the first two of these elements, the parameter file would contain: <br/>
 &lt;corpus&gt;<br/>
 &nbsp;&nbsp;&lt;path&gt;/path/to/file_or_directory&lt;/path&gt;<br/>
 &nbsp;&nbsp;&lt;class&gt;trecweb&lt;/class&gt;<br/>
 &lt;/corpus&gt;  </p>
</dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>metadata </dt>
<dd><p class="startdd">a complex element containing one or more entries specifying the metadata fields to index, eg title, headline. There are three options </p>
<ol>
<li>
<p class="startli"><code>field</code> -- Make the named field available for retrieval as metadata. Specified as &lt;metadata&gt;&lt;field&gt;fieldname&lt;/field&gt;&lt;/metadata&gt; in the parameter file and as <code>metadata.field=fieldname</code> on the command line.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><code>forward</code> -- Make the named field available for retrieval as metadata and build a lookup table to make retrieving the value more efficient. Specified as &lt;metadata&gt;&lt;forward&gt;fieldname&lt;/forward&gt;&lt;/metadata&gt; in the parameter file and as <code>metadata.forward=fieldname</code> on the command line. The external document id field "docno" is automatically added as a forward metadata field.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><code>backward</code> -- Make the named field available for retrieval as metadata and build a lookup table for inverse lookup of documents based on the value of the field. Specified as &lt;metadata&gt;&lt;backward&gt;fieldname&lt;/backward&gt;&lt;/metadata&gt; in the parameter file and as <code>metadata.backward=fieldname</code> on the command line. The external document id field "docno" is automatically added as a backward metadata field.</p>
<p class="endli"></p>
</li>
</ol>
<p class="enddd"></p>
</dd>
<dt>field </dt>
<dd><p class="startdd">a complex element specifying the fields to index as data, eg TITLE. This parameter can appear multiple times in a parameter file. <b>If provided on the command line, only the first field specified will be indexed</b>. The subelements are:</p>
<dl>
<dt>name</dt>
<dd>the field name, specified as &lt;field&gt;&lt;name&gt;fieldname&lt;/name&gt;&lt;/field&gt; in the parameter file and as <code>-field.name=fieldname</code> on the command line. </dd>
<dt>numeric</dt>
<dd>the symbol <code>true</code> if the field contains numeric data, otherwise the symbol <code>false</code>, specified as &lt;field&gt;&lt;numeric&gt;true&lt;/numeric&gt;&lt;/field&gt; in the parameter file and as <code>-field.numeric=true</code> on the command line. This is an optional parameter, defaulting to false. Note that <code>0</code> can be used for false and <code>1</code> can be used for true.  </dd>
<dt>parserName</dt>
<dd>the name of the parser to use to convert a numeric field to an unsigned integer value. The default is NumericFieldAnnotator. If numeric field data is provided via offset annotations, you should use the value OffsetAnnotationAnnotator. If the field contains a formatted date (see <a href="DateFields.html">Date Fields</a>) you should use the value DateFieldAnnotator.  </dd>
</dl>
</dd>
<dt>stemmer </dt>
<dd><p class="startdd">a complex element specifying the stemming algorithm to use in the subelement name. Valid options are: </p>
<ul>
<li>
porter -- Porter stemmer </li>
<li>
krovetz -- Krovetz stemmer </li>
<li>
arabic_stop -- Larkey stemmer, remove stopwords </li>
<li>
arabic_norm2 -- Larkey stemmer, table normalization </li>
<li>
arabic_norm2_stop -- Larkey stemmer, table normalization with stopping </li>
<li>
arabic_light10 -- Larkey stemmer, light9 plus ll prefix </li>
<li>
arabic_light10_stop -- Larkey stemmer, light10 and remove stop words </li>
</ul>
<p class="enddd">Specified as &lt;stemmer&gt;&lt;name&gt;stemmername&lt;/name&gt;&lt;/stemmer&gt; and as <code>-stemmer.name=stemmername</code> on the command line. This is an optional parameter with the default of no stemming.  </p>
</dd>
<dt>normalize </dt>
<dd><code>true</code> to perform case normalization when indexing, false to index with mixed case. Default <code>true</code>  </dd>
<dt>stopper </dt>
<dd>a complex element containing one or more subelements named word, specifying the stopword list to use. Specified as &lt;stopper&gt;&lt;word&gt;stopword&lt;/word&gt;&lt;/stopper&gt; and as <code>-stopper.word=stopword</code> on the command line. This is an optional parameter with the default of no stopping. </dd>
<dt>offsetannotationhint </dt>
<dd>An optional parameter to provide a hint to the indexer to speed up indexing of offset annotations when using offset annotation files as specified in the &lt;corpus&gt; parameter. Valid values here are "unordered" and "ordered". An "unordered" hint (the default) will inform the indexer that the document IDs of the annotations are not necessarily in the same order as the documents in the corpus. The indexer will adjust its internal memory allocations appropriately to pre-allocate enough memory before reading in the annotations file. If you are absolutely certain that the annotations in the offset annotation file are in the exact same order as the documents, then you can use the "ordered" hint. This will tell the indexer to not read in the entire file at once, but rather read in the offset annotations file as needed for only the annotations that are specified for the currently indexing document ID. </dd>
</dl>
<h3>QueryEnvironment Parameters</h3>
<h4>Retrieval Parameters</h4>
<dl>
<dt>index </dt>
<dd>path to an <a class="el" href="namespaceIndri.html">Indri</a> Repository. Specified as &lt;index&gt;/path/to/repository&lt;/index&gt; in the parameter file and as <code>-index=/path/to/repository</code> on the command line. This element can be specified multiple times to combine Repositories.  </dd>
<dt>server </dt>
<dd>hostname of a host running an <a class="el" href="namespaceIndri.html">Indri</a> server (IndriDaemon). Specified as &lt;server&gt;hostname&lt;/server&gt; in the parameter file and as <code>-server=hostname</code> on the command line. The hostname can include an optional port number to connect to, using the form <code>hostname:portnum</code>. This element can be specified multiple times to combine servers.  </dd>
<dt>count </dt>
<dd>an integer value specifying the maximum number of results to return for a given query. Specified as &lt;count&gt;number&lt;/count&gt; in the parameter file and as <code>-count=number</code> on the command line.  </dd>
<dt>query </dt>
<dd><p class="startdd">An <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language query to run. This element can be specified multiple times. The query element may take numerous optional parameters. With none of the optional parameters, the query text can be the body of the element, eg:<br/>
</p>
<p>&lt;query&gt;combine(query terms)&lt;/query&gt; </p>
<p>The optional parameters are: </p>
<dl>
<dt>type</dt>
<dd>one of <code><a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a></code>, to use the <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language, or <code>nexi</code> to use the nexi query language. The default is <code><a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a></code>. This element may appear 0 or 1 times. </dd>
<dt>number</dt>
<dd>The query number or identifier. This may be a non-numeric symbol. The default is to number the queries in the parameters in order, starting with 0. This element may appear 0 or 1 times. </dd>
<dt>text</dt>
<dd>The query text, eg, "#combine(query terms)". This element may appear 0 or 1 times and must be used if any of the other parameters are supplied. </dd>
<dt>workingSetDocno</dt>
<dd>The external document id of a document to add to the working set for the query. This element may appear 0 or more times. When specified, query evaluation is restricted to the document ids specified. </dd>
<dt>feedbackDocno</dt>
<dd>The external document id of a document to add to the relevance feeedback set for the query. This element may appear 0 or more times. When specified, query expansion is performed using only the document ids specified. It is still necessary to specify a non-zero value for the fbDocs parameter when specifying feedbackDocno elements. </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>rule </dt>
<dd><p class="startdd">specifies the smoothing rule (TermScoreFunction) to apply. Format of the rule is:<br/>
</p>
<p><code> ( key ":" value ) [ "," key ":" value ]* </code> </p>
<p>Here's an example rule in command line format:<br/>
</p>
<p><code>-rule=method:linear,collectionLambda:0.2,field:title</code> </p>
<p>and in parameter file format:<br/>
 <code> &lt;rule&gt;method:linear,collectionLambda:0.2,field:title&lt;/rule&gt; </code></p>
<p></p>
<p>This corresponds to Jelinek-Mercer smoothing with background lambda equal to 0.2, only for items in a title field.</p>
<p></p>
<p>If nothing is listed for a key, all values are assumed. So, a rule that does not specify a field matches all fields. This makes <code>-rule=method:linear,collectionLambda:0.2</code> a valid rule.</p>
<p></p>
<p>Valid keys: </p>
<dl>
<dt>method</dt>
<dd>smoothing method (text) </dd>
<dt>field</dt>
<dd>field to apply this rule to </dd>
<dt>operator </dt>
<dd>type of item in query to apply to { term, window } </dd>
</dl>
<p></p>
<p class="enddd">Valid methods: </p>
<dl>
<dt>dirichlet</dt>
<dd>(also 'd', 'dir') (default mu=2500) </dd>
<dt>jelinek-mercer</dt>
<dd>(also 'jm', 'linear') (default collectionLambda=0.4, documentLambda=0.0), collectionLambda is also known as just "lambda", either will work  </dd>
<dt>twostage</dt>
<dd>(also 'two-stage', 'two') (default mu=2500, lambda=0.4) </dd>
</dl>
<p>If the rule doesn't parse correctly, the default is Dirichlet, mu=2500.  </p>
</dd>
<dt>stopper </dt>
<dd>a complex element containing one or more subelements named word, specifying the stopword list to use. Specified as &lt;stopper&gt;&lt;word&gt;stopword&lt;/word&gt;&lt;/stopper&gt; and as <code>-stopper.word=stopword</code> on the command line. This is an optional parameter with the default of no stopping. </dd>
<dt>maxWildcardTerms </dt>
<dd><em>(optional)</em> An integer specifying the maximum number of wildcard terms that can be generated for a synonym list for this query or set of queries. If this limit is reached for a wildcard term, an exception will be thrown. If this parameter is not specified, a default of 100 will be used.  </dd>
</dl>
<h4>Baseline (non-LM) retrieval</h4>
<dl>
<dt>baseline </dt>
<dd><p class="startdd">Specifies the baseline (non-language modeling) retrieval method to apply. This enables running baseline experiments on collections too large for the Lemur RetMethod API. When running a baseline experiment, the queries may not contain any <a class="el" href="namespaceindri.html" title="namespaces within the indri system">indri</a> query language operators, they must contain only terms.</p>
<p></p>
<p>Format of the parameter value:<br/>
</p>
<p><code> (tfidf|okapi) [ "," key ":" value ]* </code> </p>
<p>Here's an example rule in command line format:<br/>
</p>
<p><code>-baseline=tfidf,k1:1.0,b:0.3</code> </p>
<p>and in parameter file format:<br/>
 <code> &lt;baseline&gt;tfidf,k1:1.0,b:0.3&lt;/baseline&gt; </code></p>
<p></p>
<p class="enddd">Methods: </p>
<dl>
<dt>tfidf </dt>
<dd><p class="startdd">Performs retrieval via tf.idf scoring as implemented in lemur::retrieval::TFIDFRetMethod using BM25TF term weighting. Pseudo-relevance feedback may be performed via the parameters below. </p>
<p></p>
<p>Parameters (optional): </p>
<dl>
<dt>k1</dt>
<dd>k1 parameter for term weight (default 1.2) </dd>
<dt>b</dt>
<dd>b parameter for term weight (default 0.75)  </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>okapi </dt>
<dd><p class="startdd">Performs retrieval via Okapi scoring as implemented in lemur::retrieval::OkapiRetMethod. Pseudo-relevance feedback may &lt;bold&gt;not&lt;/bold&gt; be performed with this baseline method. </p>
<p></p>
<p class="enddd">Parameters (optional): </p>
<dl>
<dt>k1</dt>
<dd>k1 parameter for term weight (default 1.2) </dd>
<dt>b</dt>
<dd>b parameter for term weight (default 0.75) </dd>
<dt>k3</dt>
<dd>k3 parameter for query term weight (default 7)  </dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<h4>Formatting Parameters</h4>
<dl>
<dt>queryOffset </dt>
<dd>an integer value specifying one less than the starting query number, eg 150 for TREC formatted output. Specified as &lt;queryOffset&gt;number&lt;/queryOffset&gt; in the parameter file and as <code>-queryOffset=number</code> on the command line. </dd>
<dt>runID </dt>
<dd>a string specifying the id for a query run, used in TREC scorable output. Specified as &lt;runID&gt;someID&lt;/runID&gt; in the parameter file and as <code>-runID=someID</code> on the command line. </dd>
<dt>trecFormat </dt>
<dd>the symbol <code>true</code> to produce TREC scorable output, otherwise the symbol <code>false</code>. Specified as &lt;trecFormat&gt;true&lt;/trecFormat&gt; in the parameter file and as <code>-trecFormat=true</code> on the command line. Note that <code>0</code> can be used for false, and <code>1</code> can be used for true. </dd>
</dl>
<h4>Pseudo-Relevance Feedback Parameters</h4>
<dl>
<dt>fbDocs </dt>
<dd>an integer specifying the number of documents to use for feedback. Specified as &lt;fbDocs&gt;number&lt;/fbDocs&gt; in the parameter file and as <code>-fbDocs=number</code> on the command line. </dd>
<dt>fbTerms </dt>
<dd>an integer specifying the number of terms to use for feedback. Specified as &lt;fbTerms&gt;number&lt;/fbTerms&gt; in the parameter file and as <code>-fbTerms=number</code> on the command line. </dd>
<dt>fbMu </dt>
<dd>a floating point value specifying the value of mu to use for feedback. Specified as &lt;fbMu&gt;number&lt;/fbMu&gt; in the parameter file and as <code>-fbMu=number</code> on the command line. </dd>
<dt>fbOrigWeight </dt>
<dd>a floating point value in the range [0.0..1.0] specifying the weight for the original query in the expanded query. Specified as &lt;fbOrigWeight&gt;number&lt;/fbOrigWeight&gt; in the parameter file and as <code>-fbOrigWeight=number</code> on the command line. </dd>
</dl>
<h3>IndriDaemon Parameters</h3>
<dl>
<dt>index </dt>
<dd>path to the <a class="el" href="namespaceIndri.html">Indri</a> Repository to act as server for. Specified as &lt;index&gt;/path/to/repository&lt;/index&gt; in the parameter file and as <code>-index=/path/to/repository</code> on the command line.  </dd>
<dt>port </dt>
<dd>an integer value specifying the port number to use.Specified as &lt;port&gt;number&lt;/port&gt; in the parameter file and as <code>-port=number</code> on the command line.  </dd>
</dl>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 17 Dec 2014 for Indri by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
