<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Indri: QuerySpec.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e66345dc6d1b86d5ae575ef167b2f0e3.html">dfisher</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_bea7fe193197db75935da8b819262029.html">work1</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_dc42d2abfa4957ea59e562d7b055053d.html">indri</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_4eb84ac341285b465804c24c7ab136d3.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2a13c2a5b681f3a69ef019f5e983f3bf.html">indri</a>
  </div>
</div>
<div class="contents">
<h1>QuerySpec.hpp</h1><a href="QuerySpec_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*==========================================================================</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2004 University of Massachusetts.  All Rights Reserved.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Use of the Lemur Toolkit for Language Modeling and Information Retrieval</span>
<a name="l00005"></a>00005 <span class="comment"> * is subject to the terms of the software license set forth in the LICENSE</span>
<a name="l00006"></a>00006 <span class="comment"> * file included with this software, and also available at</span>
<a name="l00007"></a>00007 <span class="comment"> * http://www.lemurproject.org/license.html</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *==========================================================================</span>
<a name="l00010"></a>00010 <span class="comment"> */</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef INDRI_QUERYSPEC_HPP</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define INDRI_QUERYSPEC_HPP</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;<a class="code" href="greedy__vector.html">indri/greedy_vector</a>&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;lemur/lemur-platform.h&quot;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="Walker_8hpp.html">indri/Walker.hpp</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="Copier_8hpp.html">indri/Copier.hpp</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="Packer_8hpp.html">indri/Packer.hpp</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="Unpacker_8hpp.html">indri/Unpacker.hpp</a>&quot;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;lemur/Exception.hpp&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="HashTable_8hpp.html">indri/HashTable.hpp</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="ref__ptr_8hpp.html">indri/ref_ptr.hpp</a>&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00033"></a><a class="code" href="QuerySpec_8hpp.html#a5841a6b4e9ab99da8cbc03facf71e860">00033</a> <span class="keywordtype">bool</span> <a class="code" href="QuerySpec_8hpp.html#a5841a6b4e9ab99da8cbc03facf71e860">equal</a>( <span class="keyword">const</span> std::vector&lt;T&gt;&amp; one, <span class="keyword">const</span> std::vector&lt;T&gt;&amp; two ) {
<a name="l00034"></a>00034   <span class="keywordflow">if</span>( one.size() != two.size() )
<a name="l00035"></a>00035     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00036"></a>00036 
<a name="l00037"></a>00037   <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;one.size(); i++ ) {
<a name="l00038"></a>00038     <span class="keywordflow">if</span>( *one[i] == *two[i] )
<a name="l00039"></a>00039       <span class="keywordflow">continue</span>;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00042"></a>00042   }
<a name="l00043"></a>00043 
<a name="l00044"></a>00044   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00045"></a>00045 }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00048"></a><a class="code" href="QuerySpec_8hpp.html#ab61b4a38f59fec911a832d21a05b59bb">00048</a> <span class="keywordtype">bool</span> <a class="code" href="QuerySpec_8hpp.html#ab61b4a38f59fec911a832d21a05b59bb">unordered_equal</a>( std::vector&lt;T&gt;&amp; one, std::vector&lt;T&gt;&amp; two ) {
<a name="l00049"></a>00049   <span class="keywordflow">if</span>( one.size() != two.size() )
<a name="l00050"></a>00050     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052   std::vector&lt;T&gt; one_copy;
<a name="l00053"></a>00053   <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;one.size(); i++ ) {
<a name="l00054"></a>00054     one_copy.push_back( one[i] );
<a name="l00055"></a>00055   }
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   <span class="comment">// this algorithm is n^2 as opposed to n log n if</span>
<a name="l00058"></a>00058   <span class="comment">// we sorted things, but windows tend to be short</span>
<a name="l00059"></a>00059   <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;two.size(); i++ ) {
<a name="l00060"></a>00060     <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> j=0; j&lt;one_copy.size(); j++ ) {
<a name="l00061"></a>00061       <span class="keywordflow">if</span>( *one_copy[j] == *two[i] ) {
<a name="l00062"></a>00062         <span class="comment">// we remove each match--if they all match, the array will be empty</span>
<a name="l00063"></a>00063         one_copy.erase( one_copy.begin() + j );
<a name="l00064"></a>00064         <span class="keywordflow">break</span>;
<a name="l00065"></a>00065       }
<a name="l00066"></a>00066     }
<a name="l00067"></a>00067   }
<a name="l00068"></a>00068 
<a name="l00069"></a>00069   <span class="keywordflow">return</span> one_copy.size() == 0;
<a name="l00070"></a>00070 }
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">namespace </span>indri {
<a name="l00073"></a>00073   <span class="keyword">namespace </span>lang {
<a name="l00074"></a><a class="code" href="classindri_1_1lang_1_1Node.html">00074</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {
<a name="l00075"></a>00075     <span class="keyword">protected</span>:
<a name="l00076"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a61ccd6a78ebd8d104eebe434b32da043">00076</a>       std::string <a class="code" href="classindri_1_1lang_1_1Node.html#a61ccd6a78ebd8d104eebe434b32da043">_name</a>;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="keyword">public</span>:
<a name="l00079"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a94fa9192eebbc8c54480b646ac7bacf5">00079</a>       <a class="code" href="classindri_1_1lang_1_1Node.html#a94fa9192eebbc8c54480b646ac7bacf5">Node</a>() {
<a name="l00080"></a>00080         std::stringstream s;
<a name="l00081"></a>00081         s &lt;&lt; PTR_TO_INT(<span class="keyword">this</span>);
<a name="l00082"></a>00082         <a class="code" href="classindri_1_1lang_1_1Node.html#a61ccd6a78ebd8d104eebe434b32da043">_name</a> = s.str();
<a name="l00083"></a>00083       }
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a1c2aad05b550822a3989a249d3440c0a">00085</a>       <span class="keyword">virtual</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a1c2aad05b550822a3989a249d3440c0a">~Node</a>() {
<a name="l00086"></a>00086       }
<a name="l00087"></a>00087       
<a name="l00088"></a><a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">00088</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <span class="keyword">const</span> std::string&amp; name ) {
<a name="l00089"></a>00089         <a class="code" href="classindri_1_1lang_1_1Node.html#a61ccd6a78ebd8d104eebe434b32da043">_name</a> = name;
<a name="l00090"></a>00090       }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">00092</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>()<span class="keyword"> const </span>{
<a name="l00093"></a>00093         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a61ccd6a78ebd8d104eebe434b32da043">_name</a>;
<a name="l00094"></a>00094       }
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">00096</a>       <span class="keyword">virtual</span> std::string <a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">typeName</a>()<span class="keyword"> const </span>{
<a name="l00097"></a>00097         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Node&quot;</span>;
<a name="l00098"></a>00098       }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100       <span class="keyword">virtual</span> std::string <a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() <span class="keyword">const</span> = 0;
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a570cbfd44ab3f43abb67202b91238ac2">00102</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a570cbfd44ab3f43abb67202b91238ac2">operator &lt; </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
<a name="l00103"></a>00103         <span class="comment">// TODO: make this faster</span>
<a name="l00104"></a>00104         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">typeName</a>() != other.<a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">typeName</a>() )
<a name="l00105"></a>00105           <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">typeName</a>() &lt; other.<a class="code" href="classindri_1_1lang_1_1Node.html#a7982e84d48050de7408b82af37691935">typeName</a>();
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt; other.<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l00108"></a>00108       }
<a name="l00109"></a>00109      
<a name="l00110"></a><a class="code" href="classindri_1_1lang_1_1Node.html#a3ea97b02d1ee9d83d0d3cbdc7d777820">00110</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a3ea97b02d1ee9d83d0d3cbdc7d777820">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
<a name="l00111"></a>00111         <span class="keywordflow">return</span> &amp;other == <span class="keyword">this</span>; 
<a name="l00112"></a>00112       }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() <span class="keyword">const</span> = 0;
<a name="l00115"></a>00115       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1Node.html#a968b1899731ac6ef24aa7295bd1fe3e2">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) = 0;
<a name="l00116"></a>00116       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) = 0;
<a name="l00117"></a>00117       <span class="keyword">virtual</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) = 0;
<a name="l00118"></a>00118     };
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">00120</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
<a name="l00121"></a><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">00121</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
<a name="l00122"></a><a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">00122</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {};
<a name="l00123"></a>00123     
<a name="l00124"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html">00124</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00125"></a>00125     <span class="keyword">private</span>:
<a name="l00126"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">00126</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>;
<a name="l00127"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">00127</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a>;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129     <span class="keyword">public</span>:
<a name="l00130"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3ba76a473835fe0e2cb526e06d84e816">00130</a>       <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3ba76a473835fe0e2cb526e06d84e816">IndexTerm</a>( <span class="keyword">const</span> std::string&amp; text, <span class="keywordtype">bool</span> stemmed = <span class="keyword">false</span> ) : <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>(text), <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a>(stemmed)
<a name="l00131"></a>00131       {
<a name="l00132"></a>00132       }
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a6aaf3292152dc46cb1b23585e4200697">00134</a>       <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a6aaf3292152dc46cb1b23585e4200697">IndexTerm</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00135"></a>00135         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;termName&quot;</span> );
<a name="l00136"></a>00136         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;stemmed&quot;</span> );
<a name="l00137"></a>00137       }
<a name="l00138"></a>00138 
<a name="l00139"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#ad4e5e44e5b23e0760767b4424e07dc66">00139</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#ad4e5e44e5b23e0760767b4424e07dc66">getText</a>() { <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>; }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#aba878e28fe3870ad68b453609a6db9d4">00141</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#aba878e28fe3870ad68b453609a6db9d4">operator==</a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00142"></a>00142         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <span class="keywordflow">if</span>( !other )
<a name="l00145"></a>00145           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00148"></a>00148           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00149"></a>00149         
<a name="l00150"></a>00150         <span class="keywordflow">return</span> other-&gt;<a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a> == <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>;
<a name="l00151"></a>00151       }
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a1cd953c15f2693bd754b974060a0a226">00153</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a1cd953c15f2693bd754b974060a0a226">typeName</a>()<span class="keyword"> const </span>{
<a name="l00154"></a>00154         <span class="keywordflow">return</span> <span class="stringliteral">&quot;IndexTerm&quot;</span>;
<a name="l00155"></a>00155       }
<a name="l00156"></a>00156 
<a name="l00157"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#abcf72a902e54847a6b9e835bdb588b1a">00157</a>       std::string <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#abcf72a902e54847a6b9e835bdb588b1a">queryText</a>()<span class="keyword"> const </span>{
<a name="l00158"></a>00158         std::stringstream qtext;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a> ) {
<a name="l00161"></a>00161           qtext &lt;&lt; <span class="charliteral">&apos;&quot;&apos;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a> &lt;&lt; <span class="charliteral">&apos;&quot;&apos;</span>;
<a name="l00162"></a>00162         } <span class="keywordflow">else</span> {
<a name="l00163"></a>00163           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>;
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="keywordflow">return</span> qtext.str();
<a name="l00167"></a>00167       }
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a99a438e00e191d5220096b6199b9b7d2">00169</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a99a438e00e191d5220096b6199b9b7d2">setStemmed</a>(<span class="keywordtype">bool</span> stemmed) {
<a name="l00170"></a>00170         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a> = stemmed;
<a name="l00171"></a>00171       }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a5bc5604d861a6ea665947ac85e3ecfd4">00173</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a5bc5604d861a6ea665947ac85e3ecfd4">getStemmed</a>()<span class="keyword"> const </span>{
<a name="l00174"></a>00174         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a>;
<a name="l00175"></a>00175       }
<a name="l00176"></a>00176 
<a name="l00177"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a8dde405e55d595139262e13075d56ce1">00177</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a8dde405e55d595139262e13075d56ce1">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00178"></a>00178         <span class="keywordtype">int</span> accumulator = 1;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a> )
<a name="l00181"></a>00181           accumulator += 3;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l00184"></a>00184         <span class="keywordflow">return</span> accumulator + hash( <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a>.c_str() );
<a name="l00185"></a>00185       }
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a991777504d3ea46ca5c9f73b5e31f5aa">00187</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a991777504d3ea46ca5c9f73b5e31f5aa">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00188"></a>00188         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00189"></a>00189         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;termName&quot;</span>, <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#acb9d1de9f4d033baea948aef603a649e">_text</a> );
<a name="l00190"></a>00190         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;stemmed&quot;</span>, <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#af7632dfe2175005953e5b49e21cf2432">_stemmed</a> );
<a name="l00191"></a>00191         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00192"></a>00192       }
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a376a693a4ef74ddb0edf8c58fa4c604d">00194</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a376a693a4ef74ddb0edf8c58fa4c604d">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00195"></a>00195         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00196"></a>00196         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00197"></a>00197       }
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3408edf0d1ed0c7deba83b08e7fd10a9">00199</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3408edf0d1ed0c7deba83b08e7fd10a9">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00200"></a>00200         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00201"></a>00201         <a class="code" href="classindri_1_1lang_1_1IndexTerm.html">IndexTerm</a>* termCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1IndexTerm.html#a3ba76a473835fe0e2cb526e06d84e816">IndexTerm</a>(*<span class="keyword">this</span>);
<a name="l00202"></a>00202         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, termCopy);
<a name="l00203"></a>00203       }
<a name="l00204"></a>00204     };
<a name="l00205"></a>00205 
<a name="l00206"></a><a class="code" href="classindri_1_1lang_1_1Field.html">00206</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1Field.html">Field</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00207"></a>00207     <span class="keyword">private</span>:
<a name="l00208"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">00208</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <span class="keyword">public</span>:
<a name="l00211"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a13bcc44f3973b89b953fe4964e6713f4">00211</a>       <a class="code" href="classindri_1_1lang_1_1Field.html#a13bcc44f3973b89b953fe4964e6713f4">Field</a>( <span class="keyword">const</span> std::string&amp; name ) : <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a>(name)
<a name="l00212"></a>00212       {
<a name="l00213"></a>00213       }
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="classindri_1_1lang_1_1Field.html#ab7ae397fa313ae0fd7f5aa51a5e73ea5">00215</a>       <a class="code" href="classindri_1_1lang_1_1Field.html#ab7ae397fa313ae0fd7f5aa51a5e73ea5">Field</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00216"></a>00216         <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;fieldName&quot;</span> );
<a name="l00217"></a>00217       }
<a name="l00218"></a>00218 
<a name="l00219"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a3f9edb888362c863db8daa76ab4001ff">00219</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1Field.html#a3f9edb888362c863db8daa76ab4001ff">getFieldName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a>; }
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="classindri_1_1lang_1_1Field.html#aac3e8a301cbad6089c3123f509759bc7">00221</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#aac3e8a301cbad6089c3123f509759bc7">typeName</a>()<span class="keyword"> const </span>{
<a name="l00222"></a>00222         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Field&quot;</span>;
<a name="l00223"></a>00223       }
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a6892331f91938401221ad4a6364d306d">00225</a>       std::string <a class="code" href="classindri_1_1lang_1_1Field.html#a6892331f91938401221ad4a6364d306d">queryText</a>()<span class="keyword"> const </span>{
<a name="l00226"></a>00226         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a>;
<a name="l00227"></a>00227       }
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a92e06d1b294021a5a5117f44b29fba78">00229</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1Field.html#a92e06d1b294021a5a5117f44b29fba78">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00230"></a>00230         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l00231"></a>00231         <span class="keywordflow">return</span> 5 + hash( <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a>.c_str() );
<a name="l00232"></a>00232       }
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="classindri_1_1lang_1_1Field.html#ae040be5f529748d5d2a86eb9ee4626c9">00234</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1Field.html#ae040be5f529748d5d2a86eb9ee4626c9">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00235"></a>00235         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00236"></a>00236         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;fieldName&quot;</span>, <a class="code" href="classindri_1_1lang_1_1Field.html#a3b93cb15bbcb2fea434e8fe1070996c4">_fieldName</a> );
<a name="l00237"></a>00237         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00238"></a>00238       }
<a name="l00239"></a>00239       
<a name="l00240"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a3318ef12d5d8679c540722dec1ef3965">00240</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1Field.html#a3318ef12d5d8679c540722dec1ef3965">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00241"></a>00241         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00242"></a>00242         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00243"></a>00243       }
<a name="l00244"></a>00244 
<a name="l00245"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a6f873f02929be7c7086e82d476b20b9f">00245</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1Field.html#a6f873f02929be7c7086e82d476b20b9f">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00246"></a>00246         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00247"></a>00247         <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* newField = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1Field.html#a13bcc44f3973b89b953fe4964e6713f4">Field</a>(*<span class="keyword">this</span>);
<a name="l00248"></a>00248         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, newField);
<a name="l00249"></a>00249       }
<a name="l00250"></a>00250 
<a name="l00251"></a><a class="code" href="classindri_1_1lang_1_1Field.html#a0b565651271f2b10e56667f6aadd3452">00251</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1Field.html#a0b565651271f2b10e56667f6aadd3452">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; other ) {
<a name="l00252"></a>00252         <a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>* otherField = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1Field.html">Field</a>*<span class="keyword">&gt;</span>(&amp;other);
<a name="l00253"></a>00253 
<a name="l00254"></a>00254         <span class="keywordflow">if</span>( !otherField )
<a name="l00255"></a>00255           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257         <span class="keywordflow">return</span> otherField-&gt;<a class="code" href="classindri_1_1lang_1_1Field.html#a3f9edb888362c863db8daa76ab4001ff">getFieldName</a>() == <a class="code" href="classindri_1_1lang_1_1Field.html#a3f9edb888362c863db8daa76ab4001ff">getFieldName</a>();
<a name="l00258"></a>00258       }
<a name="l00259"></a>00259     };
<a name="l00260"></a>00260 
<a name="l00261"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html">00261</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00262"></a>00262     <span class="keyword">protected</span>:
<a name="l00263"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">00263</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>;
<a name="l00264"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">00264</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="keyword">public</span>:
<a name="l00267"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0d266f8665b162600fb0601f34807937">00267</a>       <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0d266f8665b162600fb0601f34807937">ExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer ) :
<a name="l00268"></a>00268         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>(inner),
<a name="l00269"></a>00269         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>(outer)
<a name="l00270"></a>00270       {
<a name="l00271"></a>00271       }
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ad8f3960a9f551d6f5a3155a22a5c22ee">00273</a>       <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ad8f3960a9f551d6f5a3155a22a5c22ee">ExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00274"></a>00274         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;inner&quot;</span> );
<a name="l00275"></a>00275         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;outer&quot;</span> );
<a name="l00276"></a>00276       }
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9b7d717261c08c07bcdf64d2febbc345">00278</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9b7d717261c08c07bcdf64d2febbc345">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l00279"></a>00279         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l00280"></a>00280   
<a name="l00281"></a>00281         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l00282"></a>00282           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> &amp;&amp;
<a name="l00283"></a>00283           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>;
<a name="l00284"></a>00284       }
<a name="l00285"></a>00285       
<a name="l00286"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a6df250b5886879c877f791c5c59bc102">00286</a>       <span class="keyword">virtual</span> std::string <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a6df250b5886879c877f791c5c59bc102">typeName</a>()<span class="keyword"> const </span>{
<a name="l00287"></a>00287         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentInside&quot;</span>;
<a name="l00288"></a>00288       }
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ab453c72b9afdcc41b186896449db43e0">00290</a>       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ab453c72b9afdcc41b186896449db43e0">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00291"></a>00291         <span class="keywordflow">return</span> 7 + <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + (<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7);
<a name="l00292"></a>00292       }
<a name="l00293"></a>00293 
<a name="l00294"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ab403263616a9f872f32ed7f3764a251a">00294</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#ab403263616a9f872f32ed7f3764a251a">queryText</a>()<span class="keyword"> const </span>{
<a name="l00295"></a>00295         std::stringstream qtext;
<a name="l00296"></a>00296         qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l00297"></a>00297               &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>
<a name="l00298"></a>00298               &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l00299"></a>00299 
<a name="l00300"></a>00300         <span class="keywordflow">return</span> qtext.str();
<a name="l00301"></a>00301       }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a1c1db159d9ad8c2d3b9a074f022003d7">00303</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a1c1db159d9ad8c2d3b9a074f022003d7">setInner</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> * inner ) {
<a name="l00304"></a>00304         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> = inner;
<a name="l00305"></a>00305       }
<a name="l00306"></a>00306 
<a name="l00307"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9ae3977d44a570037b3f4a2cf7fa7948">00307</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a9ae3977d44a570037b3f4a2cf7fa7948">setOuter</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> * outer ) {
<a name="l00308"></a>00308         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> = outer;
<a name="l00309"></a>00309       }
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0757a6234a7725d4051ff733eca4ec45">00311</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0757a6234a7725d4051ff733eca4ec45">getInner</a>() {
<a name="l00312"></a>00312         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>;
<a name="l00313"></a>00313       }
<a name="l00314"></a>00314 
<a name="l00315"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a18dee6dcb9ff9d3a5508727f4ee6c471">00315</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a18dee6dcb9ff9d3a5508727f4ee6c471">getOuter</a>() {
<a name="l00316"></a>00316         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>;
<a name="l00317"></a>00317       }
<a name="l00318"></a>00318 
<a name="l00319"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a10f111fb85deaee6f3e04af186208b69">00319</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a10f111fb85deaee6f3e04af186208b69">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00320"></a>00320         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00321"></a>00321         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;inner&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> );
<a name="l00322"></a>00322         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;outer&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> );
<a name="l00323"></a>00323         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00324"></a>00324       }
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#abc2c1e48c168de2a4115d39168bcfe01">00326</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#abc2c1e48c168de2a4115d39168bcfe01">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00327"></a>00327         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00328"></a>00328         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l00329"></a>00329         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l00330"></a>00330         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00331"></a>00331       }
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a88192d351d23abf58303653f76b0a48d">00333</a>       <span class="keyword">virtual</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a88192d351d23abf58303653f76b0a48d">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00334"></a>00334         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00335"></a>00335         
<a name="l00336"></a>00336         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l00337"></a>00337         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l00338"></a>00338         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>* extentInsideCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a0d266f8665b162600fb0601f34807937">ExtentInside</a>( newInner, newOuter );
<a name="l00339"></a>00339         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, extentInsideCopy);
<a name="l00342"></a>00342       }
<a name="l00343"></a>00343     };
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html">00345</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html">WeightedExtentOr</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00346"></a>00346     <span class="keyword">private</span>:
<a name="l00347"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">00347</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>;
<a name="l00348"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">00348</a>       std::vector&lt;double&gt; <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>;
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="keyword">public</span>:
<a name="l00351"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a6a45775c6c88413a9dbac9a5d891f543">00351</a>       <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a6a45775c6c88413a9dbac9a5d891f543">WeightedExtentOr</a>() {}
<a name="l00352"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ad1fcba63a57d52c0ea63ad284d0dcc72">00352</a>       <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a6a45775c6c88413a9dbac9a5d891f543">WeightedExtentOr</a>( <span class="keyword">const</span> std::vector&lt;double&gt;&amp; weights, <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; children ) :
<a name="l00353"></a>00353         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>(children),
<a name="l00354"></a>00354         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>(weights)
<a name="l00355"></a>00355       {
<a name="l00356"></a>00356       }
<a name="l00357"></a>00357 
<a name="l00358"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#abdde6708f6b09c8bf85f5d9e393bac0e">00358</a>       <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#abdde6708f6b09c8bf85f5d9e393bac0e">WeightedExtentOr</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00359"></a>00359         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00360"></a>00360         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9aacda442386c2a8a2308020fbdbb4c8">getDoubleVector</a>( <span class="stringliteral">&quot;weights&quot;</span> );
<a name="l00361"></a>00361       }
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7f4a266b70213e21259ba2944c36cda5">00363</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7f4a266b70213e21259ba2944c36cda5">typeName</a>()<span class="keyword"> const </span>{
<a name="l00364"></a>00364         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WeightedExtentOr&quot;</span>;
<a name="l00365"></a>00365       }
<a name="l00366"></a>00366 
<a name="l00367"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7d0c5679abfc7db09603b703c81d8e3b">00367</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7d0c5679abfc7db09603b703c81d8e3b">queryText</a>()<span class="keyword"> const </span>{
<a name="l00368"></a>00368         std::stringstream qtext;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         qtext &lt;&lt; <span class="stringliteral">&quot;#wsyn(&quot;</span>;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>.size(); i++ ) {
<a name="l00373"></a>00373           qtext &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>[i]-&gt;queryText();
<a name="l00374"></a>00374         }
<a name="l00375"></a>00375 
<a name="l00376"></a>00376         qtext &lt;&lt; <span class="stringliteral">&quot; )&quot;</span>;
<a name="l00377"></a>00377         <span class="keywordflow">return</span> qtext.str();
<a name="l00378"></a>00378       }
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ab2875b1bdd27fa00f5ec349d3acda477">00380</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ab2875b1bdd27fa00f5ec349d3acda477">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00381"></a>00381         UINT64 hash = 11;
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>.size(); i++ ) {
<a name="l00384"></a>00384           hash += (UINT64) (<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>[i] * 1000) + <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>[i]-&gt;hashCode();
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386         
<a name="l00387"></a>00387         <span class="keywordflow">return</span> hash;
<a name="l00388"></a>00388       }
<a name="l00389"></a>00389 
<a name="l00390"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a27d82ee5a4431b491a6f5654740204f5">00390</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a27d82ee5a4431b491a6f5654740204f5">addChild</a>( <span class="keywordtype">double</span> weight, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* child ) {
<a name="l00391"></a>00391         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>.push_back( child );
<a name="l00392"></a>00392         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>.push_back( weight );
<a name="l00393"></a>00393       }
<a name="l00394"></a>00394 
<a name="l00395"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ab86783c1df2519d3994311e2a7d7148f">00395</a>       std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ab86783c1df2519d3994311e2a7d7148f">getChildren</a>() {
<a name="l00396"></a>00396         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>;
<a name="l00397"></a>00397       }
<a name="l00398"></a>00398 
<a name="l00399"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a0c0270f03c2b0047b94ef1c9b58413ce">00399</a>       std::vector&lt;double&gt;&amp; <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a0c0270f03c2b0047b94ef1c9b58413ce">getWeights</a>() {
<a name="l00400"></a>00400         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>;
<a name="l00401"></a>00401       }
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a1c5adb8ed84b3abec3c759ec139fcb6c">00403</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a1c5adb8ed84b3abec3c759ec139fcb6c">operator == </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00404"></a>00404         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html">WeightedExtentOr</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html">WeightedExtentOr</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00405"></a>00405 
<a name="l00406"></a>00406         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00407"></a>00407           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00408"></a>00408 
<a name="l00409"></a>00409         <span class="comment">// TODO: use better checking here to eliminate duplicate nodes</span>
<a name="l00410"></a>00410         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00411"></a>00411       }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ad9db88ca53394223956ab591190928ba">00413</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#ad9db88ca53394223956ab591190928ba">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00414"></a>00414         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>( <span class="keyword">this</span> );
<a name="l00415"></a>00415         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;weights&quot;</span>, <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a> );
<a name="l00416"></a>00416         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a> );
<a name="l00417"></a>00417         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>( <span class="keyword">this</span> );
<a name="l00418"></a>00418       }
<a name="l00419"></a>00419 
<a name="l00420"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a9004472c21354e2035d3078c67138266">00420</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a9004472c21354e2035d3078c67138266">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00421"></a>00421         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>( <span class="keyword">this</span> );
<a name="l00422"></a>00422         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>.size(); i++ ) {
<a name="l00423"></a>00423           <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>[i]-&gt;walk( walker );
<a name="l00424"></a>00424         }
<a name="l00425"></a>00425         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>( <span class="keyword">this</span> );
<a name="l00426"></a>00426       }
<a name="l00427"></a>00427 
<a name="l00428"></a><a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a9288e1d1344c2e36354b3987f0f66bd8">00428</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a9288e1d1344c2e36354b3987f0f66bd8">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00429"></a>00429         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>( <span class="keyword">this</span> );
<a name="l00430"></a>00430 
<a name="l00431"></a>00431         <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html">WeightedExtentOr</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a6a45775c6c88413a9dbac9a5d891f543">WeightedExtentOr</a>();
<a name="l00432"></a>00432         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>.size(); i++ ) {
<a name="l00433"></a>00433           <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* child = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a324c838d8a02bd19735f8494b74f066c">_children</a>[i]-&gt;copy( copier ));
<a name="l00434"></a>00434           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a27d82ee5a4431b491a6f5654740204f5">addChild</a>( <a class="code" href="classindri_1_1lang_1_1WeightedExtentOr.html#a7b80fd037bb92856455bb6737bdb8e47">_weights</a>[i], child );
<a name="l00435"></a>00435         }
<a name="l00436"></a>00436 
<a name="l00437"></a>00437         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>( <span class="keyword">this</span>, duplicate );
<a name="l00438"></a>00438       }
<a name="l00439"></a>00439     };
<a name="l00440"></a>00440 
<a name="l00441"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html">00441</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00442"></a>00442     <span class="keyword">private</span>:
<a name="l00443"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">00443</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>;
<a name="l00444"></a>00444 
<a name="l00445"></a>00445     <span class="keyword">public</span>:
<a name="l00446"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ad37bebca8db58f80ca1a4c61ad9cacee">00446</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ad37bebca8db58f80ca1a4c61ad9cacee">ExtentOr</a>() {}
<a name="l00447"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a4eede9054cfa97d033b1144e13b3e79e">00447</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ad37bebca8db58f80ca1a4c61ad9cacee">ExtentOr</a>( <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; children ) :
<a name="l00448"></a>00448         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>(children)
<a name="l00449"></a>00449       {
<a name="l00450"></a>00450       }
<a name="l00451"></a>00451 
<a name="l00452"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ac462d8ac817848d9862fba073bb78514">00452</a>       <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ac462d8ac817848d9862fba073bb78514">ExtentOr</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00453"></a>00453         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00454"></a>00454       } 
<a name="l00455"></a>00455 
<a name="l00456"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#af22864807103a0f395c5a3b77ec42373">00456</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#af22864807103a0f395c5a3b77ec42373">typeName</a>()<span class="keyword"> const </span>{
<a name="l00457"></a>00457         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentOr&quot;</span>;
<a name="l00458"></a>00458       }
<a name="l00459"></a>00459 
<a name="l00460"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a1e678ce6c288c7e9bc79ee2f29205d7c">00460</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a1e678ce6c288c7e9bc79ee2f29205d7c">queryText</a>()<span class="keyword"> const </span>{
<a name="l00461"></a>00461         std::stringstream qtext;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>.size(); i++ ) {
<a name="l00464"></a>00464           <span class="keywordflow">if</span>(i&gt;0) qtext &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00465"></a>00465           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>[i]-&gt;queryText();
<a name="l00466"></a>00466         }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468         <span class="keywordflow">return</span> qtext.str();
<a name="l00469"></a>00469       }
<a name="l00470"></a>00470 
<a name="l00471"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3b533c0823c57262d1dc4778d5ed7301">00471</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3b533c0823c57262d1dc4778d5ed7301">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00472"></a>00472         UINT64 hash = 13;
<a name="l00473"></a>00473 
<a name="l00474"></a>00474         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>.size(); i++ ) {
<a name="l00475"></a>00475           hash += <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>[i]-&gt;hashCode();
<a name="l00476"></a>00476         }
<a name="l00477"></a>00477         
<a name="l00478"></a>00478         <span class="keywordflow">return</span> hash;
<a name="l00479"></a>00479       }
<a name="l00480"></a>00480 
<a name="l00481"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3868fefebf62a9a3b560cb93b3703cf9">00481</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3868fefebf62a9a3b560cb93b3703cf9">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
<a name="l00482"></a>00482         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>.push_back(node);
<a name="l00483"></a>00483       }
<a name="l00484"></a>00484 
<a name="l00485"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a82e0d2491a41cf625a6ffa0672ac5085">00485</a>       std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a82e0d2491a41cf625a6ffa0672ac5085">getChildren</a>() {
<a name="l00486"></a>00486         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>;
<a name="l00487"></a>00487       }
<a name="l00488"></a>00488 
<a name="l00489"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#afd994468f144beb882542922e52bb121">00489</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#afd994468f144beb882542922e52bb121">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00490"></a>00490         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00493"></a>00493           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495         <span class="keywordflow">if</span>( !other )
<a name="l00496"></a>00496           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00497"></a>00497 
<a name="l00498"></a>00498         <span class="keywordflow">return</span> <a class="code" href="QuerySpec_8hpp.html#ab61b4a38f59fec911a832d21a05b59bb">unordered_equal</a>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>, <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a> );
<a name="l00499"></a>00499       }
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a984d3997741a3d12a9ed3764bf463d0f">00501</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a984d3997741a3d12a9ed3764bf463d0f">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00502"></a>00502         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00503"></a>00503         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a> );
<a name="l00504"></a>00504         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00505"></a>00505       }
<a name="l00506"></a>00506 
<a name="l00507"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a85188a125f26e5c1aec2130f78fdddac">00507</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a85188a125f26e5c1aec2130f78fdddac">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00508"></a>00508         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00509"></a>00509         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>.size(); i++ ) {
<a name="l00510"></a>00510           <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>[i]-&gt;walk(walker);
<a name="l00511"></a>00511         }
<a name="l00512"></a>00512         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00513"></a>00513       }
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="classindri_1_1lang_1_1ExtentOr.html#aa60b4e8a304acf5c5438e35c1b63f94e">00515</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#aa60b4e8a304acf5c5438e35c1b63f94e">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00516"></a>00516         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00517"></a>00517         
<a name="l00518"></a>00518         <a class="code" href="classindri_1_1lang_1_1ExtentOr.html">ExtentOr</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ad37bebca8db58f80ca1a4c61ad9cacee">ExtentOr</a>();
<a name="l00519"></a>00519         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00520"></a>00520         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>.size(); i++ ) {
<a name="l00521"></a>00521           <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* childNode = <a class="code" href="classindri_1_1lang_1_1ExtentOr.html#ae9e8b1001c0750febded13e5671a2f1e">_children</a>[i]-&gt;copy(copier);
<a name="l00522"></a>00522           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentOr.html#a3868fefebf62a9a3b560cb93b3703cf9">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(childNode) );
<a name="l00523"></a>00523         }
<a name="l00524"></a>00524 
<a name="l00525"></a>00525         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l00526"></a>00526       }
<a name="l00527"></a>00527     };
<a name="l00528"></a>00528 
<a name="l00529"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">00529</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00530"></a>00530     <span class="keyword">private</span>:
<a name="l00531"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">00531</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>;
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     <span class="keyword">public</span>:
<a name="l00534"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#acee89c53b436eb4be992046a55e512f3">00534</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#acee89c53b436eb4be992046a55e512f3">ExtentAnd</a>() {}
<a name="l00535"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a298d91af06a685b87916f511c6639c42">00535</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#acee89c53b436eb4be992046a55e512f3">ExtentAnd</a>( <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; children ) :
<a name="l00536"></a>00536         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>(children)
<a name="l00537"></a>00537       {
<a name="l00538"></a>00538       }
<a name="l00539"></a>00539 
<a name="l00540"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a631f6362e4c3607d7e158ec3b2d3b869">00540</a>       <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a631f6362e4c3607d7e158ec3b2d3b869">ExtentAnd</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00541"></a>00541         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00542"></a>00542       }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ab4cc6b6182abc601fef030e1430defd7">00544</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ab4cc6b6182abc601fef030e1430defd7">typeName</a>()<span class="keyword"> const </span>{
<a name="l00545"></a>00545         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentAnd&quot;</span>;
<a name="l00546"></a>00546       }
<a name="l00547"></a>00547 
<a name="l00548"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a02b84981d1189c231cdec19b0756ede9">00548</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a02b84981d1189c231cdec19b0756ede9">queryText</a>()<span class="keyword"> const </span>{
<a name="l00549"></a>00549         std::stringstream qtext;
<a name="l00550"></a>00550 
<a name="l00551"></a>00551         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>.size(); i++ ) {
<a name="l00552"></a>00552           <span class="keywordflow">if</span>(i&gt;0) qtext &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00553"></a>00553           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>[i]-&gt;queryText();
<a name="l00554"></a>00554         }
<a name="l00555"></a>00555 
<a name="l00556"></a>00556         <span class="keywordflow">return</span> qtext.str();
<a name="l00557"></a>00557       }
<a name="l00558"></a>00558 
<a name="l00559"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#abc98fdc4f83638104e8b2f97f0f54159">00559</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#abc98fdc4f83638104e8b2f97f0f54159">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00560"></a>00560         UINT64 hash = 15;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>.size(); i++ ) {
<a name="l00563"></a>00563           hash += <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>[i]-&gt;hashCode();
<a name="l00564"></a>00564         }
<a name="l00565"></a>00565         
<a name="l00566"></a>00566         <span class="keywordflow">return</span> hash;
<a name="l00567"></a>00567       }
<a name="l00568"></a>00568 
<a name="l00569"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a88f64fe7093b346ef36d23cd6d53339f">00569</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a88f64fe7093b346ef36d23cd6d53339f">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
<a name="l00570"></a>00570         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>.push_back(node);
<a name="l00571"></a>00571       }
<a name="l00572"></a>00572 
<a name="l00573"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a677ebbc5e939bb561da1e14b76aa1f18">00573</a>       std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a677ebbc5e939bb561da1e14b76aa1f18">getChildren</a>() {
<a name="l00574"></a>00574         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>;
<a name="l00575"></a>00575       }
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ad914937fba702857da98ab8b03d16de9">00577</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ad914937fba702857da98ab8b03d16de9">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00578"></a>00578         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00579"></a>00579 
<a name="l00580"></a>00580         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00581"></a>00581           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00582"></a>00582 
<a name="l00583"></a>00583         <span class="keywordflow">if</span>( !other )
<a name="l00584"></a>00584           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586         <span class="keywordflow">return</span> <a class="code" href="QuerySpec_8hpp.html#ab61b4a38f59fec911a832d21a05b59bb">unordered_equal</a>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>, <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a> );
<a name="l00587"></a>00587       }
<a name="l00588"></a>00588 
<a name="l00589"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ae3153cd554da855df3a0f0b95130a8ad">00589</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#ae3153cd554da855df3a0f0b95130a8ad">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00590"></a>00590         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00591"></a>00591         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a> );
<a name="l00592"></a>00592         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00593"></a>00593       }
<a name="l00594"></a>00594 
<a name="l00595"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a5b559c6711590fc88e7a99c561b68c31">00595</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a5b559c6711590fc88e7a99c561b68c31">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00596"></a>00596         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00597"></a>00597         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>.size(); i++ ) {
<a name="l00598"></a>00598           <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>[i]-&gt;walk(walker);
<a name="l00599"></a>00599         }
<a name="l00600"></a>00600         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00601"></a>00601       }
<a name="l00602"></a>00602 
<a name="l00603"></a><a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a531ab89f60f18fdf51fb16dd19b7fb2e">00603</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a531ab89f60f18fdf51fb16dd19b7fb2e">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00604"></a>00604         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00605"></a>00605 
<a name="l00606"></a>00606         <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html">ExtentAnd</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#acee89c53b436eb4be992046a55e512f3">ExtentAnd</a>();
<a name="l00607"></a>00607         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00608"></a>00608         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>.size(); i++ ) {
<a name="l00609"></a>00609           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a6fced19e13c4f1460557d24e8433c004">_children</a>[i]-&gt;copy(copier);
<a name="l00610"></a>00610           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentAnd.html#a88f64fe7093b346ef36d23cd6d53339f">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
<a name="l00611"></a>00611         }
<a name="l00612"></a>00612 
<a name="l00613"></a>00613         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l00614"></a>00614       }
<a name="l00615"></a>00615     };
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html">00617</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1BAndNode.html">BAndNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00618"></a>00618     <span class="keyword">private</span>:
<a name="l00619"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">00619</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621     <span class="keyword">public</span>:
<a name="l00622"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#a46a30dcbc289039b5770faa1e7a8ad59">00622</a>       <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a46a30dcbc289039b5770faa1e7a8ad59">BAndNode</a>() {}
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#ab415d2597ffca23ed1e4660d29897bfb">00624</a>       <a class="code" href="classindri_1_1lang_1_1BAndNode.html#ab415d2597ffca23ed1e4660d29897bfb">BAndNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00625"></a>00625         <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00626"></a>00626       }
<a name="l00627"></a>00627 
<a name="l00628"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#abbe8c800ef75e450e2f0c07f63aed164">00628</a>       std::string <a class="code" href="classindri_1_1lang_1_1BAndNode.html#abbe8c800ef75e450e2f0c07f63aed164">typeName</a>()<span class="keyword"> const </span>{
<a name="l00629"></a>00629         <span class="keywordflow">return</span> <span class="stringliteral">&quot;BAndNode&quot;</span>;
<a name="l00630"></a>00630       }
<a name="l00631"></a>00631 
<a name="l00632"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#aa7334fda7cc49fb7d50c3e2c7097b732">00632</a>       std::string <a class="code" href="classindri_1_1lang_1_1BAndNode.html#aa7334fda7cc49fb7d50c3e2c7097b732">queryText</a>()<span class="keyword"> const </span>{
<a name="l00633"></a>00633         std::stringstream qtext;
<a name="l00634"></a>00634         qtext &lt;&lt; <span class="stringliteral">&quot;#band(&quot;</span>;
<a name="l00635"></a>00635         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>.size(); i++ ) {
<a name="l00636"></a>00636           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>[i]-&gt;queryText() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00637"></a>00637         }
<a name="l00638"></a>00638         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00639"></a>00639 
<a name="l00640"></a>00640         <span class="keywordflow">return</span> qtext.str();
<a name="l00641"></a>00641       } 
<a name="l00642"></a>00642 
<a name="l00643"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#ac347ab37dbab596786de98300e244751">00643</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1BAndNode.html#ac347ab37dbab596786de98300e244751">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00644"></a>00644         UINT64 hash = 17;
<a name="l00645"></a>00645 
<a name="l00646"></a>00646         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>.size(); i++ ) {
<a name="l00647"></a>00647           hash += <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>[i]-&gt;hashCode();
<a name="l00648"></a>00648         }
<a name="l00649"></a>00649         
<a name="l00650"></a>00650         <span class="keywordflow">return</span> hash;
<a name="l00651"></a>00651       }
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#aedee830b36d99631be158a96ad484eab">00653</a>       <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1BAndNode.html#aedee830b36d99631be158a96ad484eab">getChildren</a>()<span class="keyword"> const </span>{
<a name="l00654"></a>00654         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>;
<a name="l00655"></a>00655       }
<a name="l00656"></a>00656 
<a name="l00657"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#abe11ffb85fb1ebd9d667755545327e54">00657</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1BAndNode.html#abe11ffb85fb1ebd9d667755545327e54">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
<a name="l00658"></a>00658         <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>.push_back( node );
<a name="l00659"></a>00659       }
<a name="l00660"></a>00660 
<a name="l00661"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#a24fdedb1c31810813ca6964445912d36">00661</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a24fdedb1c31810813ca6964445912d36">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00662"></a>00662         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00663"></a>00663         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a> );
<a name="l00664"></a>00664         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00665"></a>00665       }
<a name="l00666"></a>00666 
<a name="l00667"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#abb0ad41bda684e0546a60cf6c8256848">00667</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1BAndNode.html#abb0ad41bda684e0546a60cf6c8256848">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00668"></a>00668         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00669"></a>00669         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>.size(); i++ ) {
<a name="l00670"></a>00670           <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>[i]-&gt;walk(walker);
<a name="l00671"></a>00671         }
<a name="l00672"></a>00672         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00673"></a>00673       }
<a name="l00674"></a>00674       
<a name="l00675"></a><a class="code" href="classindri_1_1lang_1_1BAndNode.html#aa00e7d6e6d26085aa00415f737e7a622">00675</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1BAndNode.html#aa00e7d6e6d26085aa00415f737e7a622">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00676"></a>00676         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00677"></a>00677         <a class="code" href="classindri_1_1lang_1_1BAndNode.html">BAndNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a46a30dcbc289039b5770faa1e7a8ad59">BAndNode</a>();
<a name="l00678"></a>00678 
<a name="l00679"></a>00679         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00680"></a>00680         <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>.size(); i++) {
<a name="l00681"></a>00681           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1BAndNode.html#a43d3d5fe785b295bd6376507b6b6a001">_children</a>[i]-&gt;copy(copier);
<a name="l00682"></a>00682           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1BAndNode.html#abe11ffb85fb1ebd9d667755545327e54">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
<a name="l00683"></a>00683         }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l00686"></a>00686       }
<a name="l00687"></a>00687     };
<a name="l00688"></a>00688 
<a name="l00689"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html">00689</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00690"></a>00690     <span class="keyword">private</span>:
<a name="l00691"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">00691</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>;
<a name="l00692"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">00692</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a>;
<a name="l00693"></a>00693 
<a name="l00694"></a>00694     <span class="keyword">public</span>:
<a name="l00695"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a9efbba4ba63db5a69812215c64ebff51">00695</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#a9efbba4ba63db5a69812215c64ebff51">UWNode</a>() :
<a name="l00696"></a>00696         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a>(-1) <span class="comment">// default is unlimited window size</span>
<a name="l00697"></a>00697       {
<a name="l00698"></a>00698       }
<a name="l00699"></a>00699 
<a name="l00700"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a46f7b6f51c9f045836347c6774a82df2">00700</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#a9efbba4ba63db5a69812215c64ebff51">UWNode</a>( <span class="keywordtype">int</span> windowSize, std::vector&lt;RawExtentNode*&gt;&amp; children ) :
<a name="l00701"></a>00701         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a>(windowSize),
<a name="l00702"></a>00702         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>(children)
<a name="l00703"></a>00703       {
<a name="l00704"></a>00704       }
<a name="l00705"></a>00705 
<a name="l00706"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#ad84a913ffb780fcb6caa72c57f3c7f55">00706</a>       <a class="code" href="classindri_1_1lang_1_1UWNode.html#ad84a913ffb780fcb6caa72c57f3c7f55">UWNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00707"></a>00707         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> = (int) unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;windowSize&quot;</span> );
<a name="l00708"></a>00708         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00709"></a>00709       }
<a name="l00710"></a>00710 
<a name="l00711"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a0b6570802769b64ed92b7e23c7bfff39">00711</a>       std::string <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0b6570802769b64ed92b7e23c7bfff39">typeName</a>()<span class="keyword"> const </span>{
<a name="l00712"></a>00712         <span class="keywordflow">return</span> <span class="stringliteral">&quot;UWNode&quot;</span>;
<a name="l00713"></a>00713       }
<a name="l00714"></a>00714 
<a name="l00715"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a8ba1b798d074a19545010ed5718529a5">00715</a>       std::string <a class="code" href="classindri_1_1lang_1_1UWNode.html#a8ba1b798d074a19545010ed5718529a5">queryText</a>()<span class="keyword"> const </span>{
<a name="l00716"></a>00716         std::stringstream qtext;
<a name="l00717"></a>00717         
<a name="l00718"></a>00718         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> &gt;= 0 )
<a name="l00719"></a>00719           qtext &lt;&lt; <span class="stringliteral">&quot;#uw&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> &lt;&lt; <span class="stringliteral">&quot;( &quot;</span>;
<a name="l00720"></a>00720         <span class="keywordflow">else</span>
<a name="l00721"></a>00721           qtext &lt;&lt; <span class="stringliteral">&quot;#uw( &quot;</span>;
<a name="l00722"></a>00722           
<a name="l00723"></a>00723         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>.size(); i++ ) {
<a name="l00724"></a>00724           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>[i]-&gt;queryText() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00725"></a>00725         }
<a name="l00726"></a>00726         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00727"></a>00727         <span class="keywordflow">return</span> qtext.str();
<a name="l00728"></a>00728       }
<a name="l00729"></a>00729 
<a name="l00730"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a68f19d0f12e376662d4431b32db73369">00730</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1UWNode.html#a68f19d0f12e376662d4431b32db73369">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00731"></a>00731         UINT64 hash = 19;
<a name="l00732"></a>00732         hash += <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a>;
<a name="l00733"></a>00733 
<a name="l00734"></a>00734         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>.size(); i++ ) {
<a name="l00735"></a>00735           hash += <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>[i]-&gt;hashCode();
<a name="l00736"></a>00736         }
<a name="l00737"></a>00737         
<a name="l00738"></a>00738         <span class="keywordflow">return</span> hash;
<a name="l00739"></a>00739       }
<a name="l00740"></a>00740 
<a name="l00741"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a5377dde433b9dd392696a8bd8f1330b5">00741</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a5377dde433b9dd392696a8bd8f1330b5">setWindowSize</a>( <span class="keywordtype">int</span> windowSize ) {
<a name="l00742"></a>00742         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> = windowSize;
<a name="l00743"></a>00743       }
<a name="l00744"></a>00744 
<a name="l00745"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a877eb12b4de897d7f4d1997fbd839e44">00745</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a877eb12b4de897d7f4d1997fbd839e44">setWindowSize</a>( <span class="keyword">const</span> std::string&amp; windowSize ) {
<a name="l00746"></a>00746         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a5377dde433b9dd392696a8bd8f1330b5">setWindowSize</a>( atoi( windowSize.c_str() ) );
<a name="l00747"></a>00747       }
<a name="l00748"></a>00748 
<a name="l00749"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#ae75ae76e11b31f48bc3b1e6fd48ebde0">00749</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#ae75ae76e11b31f48bc3b1e6fd48ebde0">getWindowSize</a>()<span class="keyword"> const </span>{
<a name="l00750"></a>00750         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a>;
<a name="l00751"></a>00751       }
<a name="l00752"></a>00752 
<a name="l00753"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#ae08668bfdb199bcb4bf608182555b810">00753</a>       <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1UWNode.html#ae08668bfdb199bcb4bf608182555b810">getChildren</a>()<span class="keyword"> const </span>{
<a name="l00754"></a>00754         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>;
<a name="l00755"></a>00755       }
<a name="l00756"></a>00756 
<a name="l00757"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a50014d5e051ef54798d01c47ff8d6a2f">00757</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a50014d5e051ef54798d01c47ff8d6a2f">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
<a name="l00758"></a>00758         <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>.push_back( node );
<a name="l00759"></a>00759       }
<a name="l00760"></a>00760 
<a name="l00761"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#af663a78c3db9fe330b93c7ad016d0e60">00761</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#af663a78c3db9fe330b93c7ad016d0e60">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00762"></a>00762         <a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00763"></a>00763 
<a name="l00764"></a>00764         <span class="keywordflow">if</span>( !other )
<a name="l00765"></a>00765           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00766"></a>00766 
<a name="l00767"></a>00767         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00768"></a>00768           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00769"></a>00769 
<a name="l00770"></a>00770         <span class="keywordflow">if</span>( other-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> != <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> ) {
<a name="l00771"></a>00771           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00772"></a>00772         }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774         <span class="keywordflow">return</span> <a class="code" href="QuerySpec_8hpp.html#ab61b4a38f59fec911a832d21a05b59bb">unordered_equal</a>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>, other-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a> );
<a name="l00775"></a>00775       }
<a name="l00776"></a>00776 
<a name="l00777"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a4e13d2762d3ef703c22fa0b5979edf65">00777</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a4e13d2762d3ef703c22fa0b5979edf65">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00778"></a>00778         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00779"></a>00779         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;windowSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> );
<a name="l00780"></a>00780         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a> );
<a name="l00781"></a>00781         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00782"></a>00782       }
<a name="l00783"></a>00783 
<a name="l00784"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a0e20d786b311fe5bfc4c55c75cc254c6">00784</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a0e20d786b311fe5bfc4c55c75cc254c6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00785"></a>00785         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00786"></a>00786         <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>.size(); i++) {
<a name="l00787"></a>00787           <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>[i]-&gt;walk(walker);
<a name="l00788"></a>00788         }
<a name="l00789"></a>00789         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00790"></a>00790       }
<a name="l00791"></a>00791 
<a name="l00792"></a><a class="code" href="classindri_1_1lang_1_1UWNode.html#a739e170280e851324f9506dd2c7e6eb2">00792</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1UWNode.html#a739e170280e851324f9506dd2c7e6eb2">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00793"></a>00793         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00794"></a>00794         
<a name="l00795"></a>00795         <a class="code" href="classindri_1_1lang_1_1UWNode.html">UWNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1UWNode.html#a9efbba4ba63db5a69812215c64ebff51">UWNode</a>();
<a name="l00796"></a>00796         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00797"></a>00797         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a5377dde433b9dd392696a8bd8f1330b5">setWindowSize</a>( <a class="code" href="classindri_1_1lang_1_1UWNode.html#a3e3e2ec684953e6595f01f462df2e3cf">_windowSize</a> );
<a name="l00798"></a>00798         <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>.size(); i++) {
<a name="l00799"></a>00799           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1UWNode.html#a411eccb65eaea58c29519b507ff31e67">_children</a>[i]-&gt;copy(copier);
<a name="l00800"></a>00800           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1UWNode.html#a50014d5e051ef54798d01c47ff8d6a2f">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
<a name="l00801"></a>00801         }
<a name="l00802"></a>00802 
<a name="l00803"></a>00803         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l00804"></a>00804       }
<a name="l00805"></a>00805     };
<a name="l00806"></a>00806 
<a name="l00807"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html">00807</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l00808"></a>00808     <span class="keyword">private</span>:
<a name="l00809"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">00809</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a>;
<a name="l00810"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">00810</a>       std::vector&lt;RawExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>;
<a name="l00811"></a>00811 
<a name="l00812"></a>00812     <span class="keyword">public</span>:
<a name="l00813"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#af4a8aef0dbc58ce758cfd8cd322055f4">00813</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a7011e4ffa078bff8790c2f364b8510fb">ODNode</a>( <span class="keywordtype">int</span> windowSize, std::vector&lt;RawExtentNode*&gt;&amp; children ) :
<a name="l00814"></a>00814         <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a>(windowSize),
<a name="l00815"></a>00815         <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>(children)
<a name="l00816"></a>00816       {
<a name="l00817"></a>00817       }
<a name="l00818"></a>00818 
<a name="l00819"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a7011e4ffa078bff8790c2f364b8510fb">00819</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a7011e4ffa078bff8790c2f364b8510fb">ODNode</a>() :
<a name="l00820"></a>00820         <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a>(-1) <span class="comment">// default is unlimited window size</span>
<a name="l00821"></a>00821       {
<a name="l00822"></a>00822       }
<a name="l00823"></a>00823 
<a name="l00824"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a62172342581ab88fe1d3db800d77144e">00824</a>       <a class="code" href="classindri_1_1lang_1_1ODNode.html#a62172342581ab88fe1d3db800d77144e">ODNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00825"></a>00825         <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> = (int) unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;windowSize&quot;</span> );
<a name="l00826"></a>00826         <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a7a58cd59f4e5a22acd96326458a29f08">getRawExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l00827"></a>00827       }
<a name="l00828"></a>00828 
<a name="l00829"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a157009cc6a39f7e7e089ba0d650f08fd">00829</a>       std::string <a class="code" href="classindri_1_1lang_1_1ODNode.html#a157009cc6a39f7e7e089ba0d650f08fd">typeName</a>()<span class="keyword"> const </span>{
<a name="l00830"></a>00830         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ODNode&quot;</span>;
<a name="l00831"></a>00831       }
<a name="l00832"></a>00832 
<a name="l00833"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a0e79049ef6829b4aa80d1cbd31b9e19f">00833</a>       std::string <a class="code" href="classindri_1_1lang_1_1ODNode.html#a0e79049ef6829b4aa80d1cbd31b9e19f">queryText</a>()<span class="keyword"> const </span>{
<a name="l00834"></a>00834         std::stringstream qtext;
<a name="l00835"></a>00835         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> &gt;= 0 )
<a name="l00836"></a>00836           qtext &lt;&lt; <span class="stringliteral">&quot;#&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> &lt;&lt; <span class="stringliteral">&quot;( &quot;</span>;
<a name="l00837"></a>00837         <span class="keywordflow">else</span>
<a name="l00838"></a>00838           qtext &lt;&lt; <span class="stringliteral">&quot;#od( &quot;</span>;
<a name="l00839"></a>00839 
<a name="l00840"></a>00840         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size(); i++ ) {
<a name="l00841"></a>00841           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>[i]-&gt;queryText() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00842"></a>00842         }
<a name="l00843"></a>00843         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00844"></a>00844         <span class="keywordflow">return</span> qtext.str();
<a name="l00845"></a>00845       }
<a name="l00846"></a>00846 
<a name="l00847"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#ab7e0b6685d8c1c7104be253da6373235">00847</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab7e0b6685d8c1c7104be253da6373235">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00848"></a>00848         UINT64 hash = 23;
<a name="l00849"></a>00849         hash += <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a>;
<a name="l00850"></a>00850 
<a name="l00851"></a>00851         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size(); i++ ) {
<a name="l00852"></a>00852           hash *= 7;
<a name="l00853"></a>00853           hash += <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>[i]-&gt;hashCode();
<a name="l00854"></a>00854         }
<a name="l00855"></a>00855         
<a name="l00856"></a>00856         <span class="keywordflow">return</span> hash;
<a name="l00857"></a>00857       }
<a name="l00858"></a>00858 
<a name="l00859"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a20865745579e96b6c5d8e8fe73f4272e">00859</a>       <span class="keyword">const</span> std::vector&lt;RawExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ODNode.html#a20865745579e96b6c5d8e8fe73f4272e">getChildren</a>()<span class="keyword"> const </span>{
<a name="l00860"></a>00860         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>;
<a name="l00861"></a>00861       }
<a name="l00862"></a>00862 
<a name="l00863"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#abae3f7e839c2ed7c7753e0ede39042a2">00863</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#abae3f7e839c2ed7c7753e0ede39042a2">setWindowSize</a>( <span class="keywordtype">int</span> windowSize ) {
<a name="l00864"></a>00864         <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> = windowSize;
<a name="l00865"></a>00865       }
<a name="l00866"></a>00866 
<a name="l00867"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#acac31e0868601568f6f1948c05155886">00867</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#acac31e0868601568f6f1948c05155886">setWindowSize</a>( <span class="keyword">const</span> std::string&amp; windowSize ) {
<a name="l00868"></a>00868         <a class="code" href="classindri_1_1lang_1_1ODNode.html#abae3f7e839c2ed7c7753e0ede39042a2">setWindowSize</a>( atoi( windowSize.c_str() ) );
<a name="l00869"></a>00869       }
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a767a153ec845dc986e462644dde4d3ce">00871</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a767a153ec845dc986e462644dde4d3ce">getWindowSize</a>()<span class="keyword"> const </span>{
<a name="l00872"></a>00872         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a>;
<a name="l00873"></a>00873       }
<a name="l00874"></a>00874 
<a name="l00875"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a0122cb77b2f3deac860a615cd2221eea">00875</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a0122cb77b2f3deac860a615cd2221eea">addChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* node ) {
<a name="l00876"></a>00876         <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.push_back( node );
<a name="l00877"></a>00877       }
<a name="l00878"></a>00878 
<a name="l00879"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#abd3ab0686b25ab4b69fe1fce1d493bb0">00879</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#abd3ab0686b25ab4b69fe1fce1d493bb0">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00880"></a>00880         <a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00881"></a>00881 
<a name="l00882"></a>00882         <span class="keywordflow">if</span>( ! other )
<a name="l00883"></a>00883           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00884"></a>00884 
<a name="l00885"></a>00885         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l00886"></a>00886           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00887"></a>00887 
<a name="l00888"></a>00888         <span class="keywordflow">if</span>( other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> != <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> )
<a name="l00889"></a>00889           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00890"></a>00890 
<a name="l00891"></a>00891         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size() != other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size() )
<a name="l00892"></a>00892           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00893"></a>00893 
<a name="l00894"></a>00894         <span class="keywordflow">return</span> <a class="code" href="QuerySpec_8hpp.html#a5841a6b4e9ab99da8cbc03facf71e860">equal</a>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>, other-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a> );
<a name="l00895"></a>00895       }
<a name="l00896"></a>00896 
<a name="l00897"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#ae52ed8dd7d5752c0972a249fa29b45c8">00897</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#ae52ed8dd7d5752c0972a249fa29b45c8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00898"></a>00898         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00899"></a>00899         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;windowSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> );
<a name="l00900"></a>00900         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a> );
<a name="l00901"></a>00901         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00902"></a>00902       }
<a name="l00903"></a>00903 
<a name="l00904"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#a270cea128ca37e7a8b1ad5933a73d96a">00904</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a270cea128ca37e7a8b1ad5933a73d96a">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00905"></a>00905         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00906"></a>00906         <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size(); i++) {
<a name="l00907"></a>00907           <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>[i]-&gt;walk(walker);
<a name="l00908"></a>00908         }
<a name="l00909"></a>00909         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00910"></a>00910       }
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="classindri_1_1lang_1_1ODNode.html#ae848458add787b52b29ac839f2bfdfc6">00912</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ODNode.html#ae848458add787b52b29ac839f2bfdfc6">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00913"></a>00913         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00914"></a>00914         
<a name="l00915"></a>00915         <a class="code" href="classindri_1_1lang_1_1ODNode.html">ODNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ODNode.html#a7011e4ffa078bff8790c2f364b8510fb">ODNode</a>();
<a name="l00916"></a>00916         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l00917"></a>00917         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#abae3f7e839c2ed7c7753e0ede39042a2">setWindowSize</a>( <a class="code" href="classindri_1_1lang_1_1ODNode.html#ab1d1d3c2adc076b530842a2bc7ff4ad9">_windowSize</a> );
<a name="l00918"></a>00918         <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>.size(); i++) {
<a name="l00919"></a>00919           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* child = <a class="code" href="classindri_1_1lang_1_1ODNode.html#a5153e884e8cb01ef85e860e786d467e9">_children</a>[i]-&gt;copy(copier);
<a name="l00920"></a>00920           duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1ODNode.html#a0122cb77b2f3deac860a615cd2221eea">addChild</a>( dynamic_cast&lt;RawExtentNode*&gt;(child) );
<a name="l00921"></a>00921         }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l00924"></a>00924       }
<a name="l00925"></a>00925     };
<a name="l00926"></a>00926 
<a name="l00927"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html">00927</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l00928"></a>00928     <span class="keyword">private</span>:
<a name="l00929"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">00929</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>;
<a name="l00930"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">00930</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>;
<a name="l00931"></a>00931 
<a name="l00932"></a>00932     <span class="keyword">public</span>:
<a name="l00933"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ab5565a0176c48fcb35c787d3bfac40e2">00933</a>       <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ab5565a0176c48fcb35c787d3bfac40e2">FilReqNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filter, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* required ) {
<a name="l00934"></a>00934         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a> = filter;
<a name="l00935"></a>00935         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a> = required;
<a name="l00936"></a>00936       }
<a name="l00937"></a>00937 
<a name="l00938"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a180930d83fb9e0193d4a5909d3b5c9c3">00938</a>       <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a180930d83fb9e0193d4a5909d3b5c9c3">FilReqNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l00939"></a>00939         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;filter&quot;</span> );
<a name="l00940"></a>00940         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;required&quot;</span> );
<a name="l00941"></a>00941       }
<a name="l00942"></a>00942 
<a name="l00943"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ac0ba2af6595593a02de5e1ab80961425">00943</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ac0ba2af6595593a02de5e1ab80961425">typeName</a>()<span class="keyword"> const </span>{
<a name="l00944"></a>00944         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FilReqNode&quot;</span>;
<a name="l00945"></a>00945       }
<a name="l00946"></a>00946 
<a name="l00947"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#aa8dc99c727b277473a7242573f558eb6">00947</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#aa8dc99c727b277473a7242573f558eb6">hashCode</a>()<span class="keyword"> const </span>{
<a name="l00948"></a>00948         <span class="keywordflow">return</span> 27 +
<a name="l00949"></a>00949           <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 3 +
<a name="l00950"></a>00950           <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l00951"></a>00951       }
<a name="l00952"></a>00952 
<a name="l00953"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ac67c77983f285e717cd27625fbfef736">00953</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ac67c77983f285e717cd27625fbfef736">queryText</a>()<span class="keyword"> const </span>{
<a name="l00954"></a>00954         std::stringstream qtext;
<a name="l00955"></a>00955 
<a name="l00956"></a>00956         qtext &lt;&lt; <span class="stringliteral">&quot;#filreq(&quot;</span>
<a name="l00957"></a>00957               &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l00958"></a>00958               &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l00959"></a>00959               &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l00960"></a>00960               &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00961"></a>00961         <span class="keywordflow">return</span> qtext.str();
<a name="l00962"></a>00962       }
<a name="l00963"></a>00963 
<a name="l00964"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#aebb2feabbf25a7f145645548b96b5c71">00964</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#aebb2feabbf25a7f145645548b96b5c71">getFilter</a>() {
<a name="l00965"></a>00965         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>;
<a name="l00966"></a>00966       }
<a name="l00967"></a>00967 
<a name="l00968"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a20aadd49df7305aa36e3e2395e1346b5">00968</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a20aadd49df7305aa36e3e2395e1346b5">getRequired</a>() {
<a name="l00969"></a>00969         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>;
<a name="l00970"></a>00970       }
<a name="l00971"></a>00971 
<a name="l00972"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5a4f864accdb475d684bc2845d7fe40c">00972</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5a4f864accdb475d684bc2845d7fe40c">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l00973"></a>00973         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l00974"></a>00974 
<a name="l00975"></a>00975         <span class="keywordflow">if</span>( !other )
<a name="l00976"></a>00976           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00977"></a>00977 
<a name="l00978"></a>00978         <span class="keywordflow">return</span> (*<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#aebb2feabbf25a7f145645548b96b5c71">getFilter</a>()) &amp;&amp;
<a name="l00979"></a>00979           (*<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a20aadd49df7305aa36e3e2395e1346b5">getRequired</a>());
<a name="l00980"></a>00980       }
<a name="l00981"></a>00981 
<a name="l00982"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a7e2957b758df8194f0b93a7db97b6d60">00982</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a7e2957b758df8194f0b93a7db97b6d60">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l00983"></a>00983         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l00984"></a>00984         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;filter&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>);
<a name="l00985"></a>00985         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;required&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>);
<a name="l00986"></a>00986         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l00987"></a>00987       }
<a name="l00988"></a>00988 
<a name="l00989"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ae8448cf893f1791be4b4f106fbb33013">00989</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ae8448cf893f1791be4b4f106fbb33013">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l00990"></a>00990         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l00991"></a>00991         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l00992"></a>00992         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l00993"></a>00993         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l00994"></a>00994       }
<a name="l00995"></a>00995 
<a name="l00996"></a><a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a8e7d94e4ec81ada02e0f179f06ca473c">00996</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a8e7d94e4ec81ada02e0f179f06ca473c">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l00997"></a>00997         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l00998"></a>00998         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filterDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#a5740f8f16148831dcf1718d40b6a75a2">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l00999"></a>00999         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* requiredDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FilReqNode.html#af3d583ff49c278bddf5c62afd29684b0">_required</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01000"></a>01000         <a class="code" href="classindri_1_1lang_1_1FilReqNode.html">FilReqNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FilReqNode.html#ab5565a0176c48fcb35c787d3bfac40e2">FilReqNode</a>( filterDuplicate, requiredDuplicate );
<a name="l01001"></a>01001         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01002"></a>01002       }
<a name="l01003"></a>01003     };
<a name="l01004"></a>01004 
<a name="l01005"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html">01005</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01006"></a>01006     <span class="keyword">private</span>:
<a name="l01007"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">01007</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>;
<a name="l01008"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">01008</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>;
<a name="l01009"></a>01009 
<a name="l01010"></a>01010     <span class="keyword">public</span>:
<a name="l01011"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae24bd6409b8092bcee3953a64f1c1c30">01011</a>       <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae24bd6409b8092bcee3953a64f1c1c30">FilRejNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filter, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* disallowed ) {
<a name="l01012"></a>01012         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a> = filter;
<a name="l01013"></a>01013         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a> = disallowed;
<a name="l01014"></a>01014       }
<a name="l01015"></a>01015 
<a name="l01016"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4638f3a008e97f8e13ff547a06ae6636">01016</a>       <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4638f3a008e97f8e13ff547a06ae6636">FilRejNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01017"></a>01017         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;filter&quot;</span> );
<a name="l01018"></a>01018         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;disallowed&quot;</span> );
<a name="l01019"></a>01019       }
<a name="l01020"></a>01020 
<a name="l01021"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a05ccee9a89b04e9b8e52842fdc012737">01021</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a05ccee9a89b04e9b8e52842fdc012737">typeName</a>()<span class="keyword"> const </span>{
<a name="l01022"></a>01022         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FilRejNode&quot;</span>;
<a name="l01023"></a>01023       }
<a name="l01024"></a>01024 
<a name="l01025"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a45c11540b37e6f93af2699cd1792769d">01025</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a45c11540b37e6f93af2699cd1792769d">queryText</a>()<span class="keyword"> const </span>{
<a name="l01026"></a>01026         std::stringstream qtext;
<a name="l01027"></a>01027 
<a name="l01028"></a>01028         qtext &lt;&lt; <span class="stringliteral">&quot;#filrej(&quot;</span>
<a name="l01029"></a>01029               &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l01030"></a>01030               &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l01031"></a>01031               &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l01032"></a>01032               &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01033"></a>01033 
<a name="l01034"></a>01034         <span class="keywordflow">return</span> qtext.str();
<a name="l01035"></a>01035       }
<a name="l01036"></a>01036 
<a name="l01037"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#aa49009fda63306a1c50f12ead571b3cd">01037</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#aa49009fda63306a1c50f12ead571b3cd">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01038"></a>01038         <span class="keywordflow">return</span> 29 +
<a name="l01039"></a>01039           <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 3 +
<a name="l01040"></a>01040           <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01041"></a>01041       }
<a name="l01042"></a>01042 
<a name="l01043"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae1cb1326c35da444d0ace492b3545ae3">01043</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae1cb1326c35da444d0ace492b3545ae3">getFilter</a>() {
<a name="l01044"></a>01044         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>;
<a name="l01045"></a>01045       }
<a name="l01046"></a>01046 
<a name="l01047"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ad0701412ff8eb71328b3b5b8f495e07f">01047</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ad0701412ff8eb71328b3b5b8f495e07f">getDisallowed</a>() {
<a name="l01048"></a>01048         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>;
<a name="l01049"></a>01049       }
<a name="l01050"></a>01050 
<a name="l01051"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4bf97b9ad088981f10c81d4826b5b8b9">01051</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4bf97b9ad088981f10c81d4826b5b8b9">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l01052"></a>01052         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l01053"></a>01053 
<a name="l01054"></a>01054         <span class="keywordflow">if</span>( !other )
<a name="l01055"></a>01055           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057         <span class="keywordflow">return</span> (*<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae1cb1326c35da444d0ace492b3545ae3">getFilter</a>()) &amp;&amp;
<a name="l01058"></a>01058           (*<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>) == (*other-&gt;<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ad0701412ff8eb71328b3b5b8f495e07f">getDisallowed</a>());
<a name="l01059"></a>01059       }
<a name="l01060"></a>01060 
<a name="l01061"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4e6343a1ae8ef5f588797eaf0fe217a4">01061</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a4e6343a1ae8ef5f588797eaf0fe217a4">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01062"></a>01062         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01063"></a>01063         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;filter&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>);
<a name="l01064"></a>01064         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;disallowed&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>);
<a name="l01065"></a>01065         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01066"></a>01066       }
<a name="l01067"></a>01067 
<a name="l01068"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1783a79e94c3b0d70b16831853a8b464">01068</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1783a79e94c3b0d70b16831853a8b464">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01069"></a>01069         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01070"></a>01070         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01071"></a>01071         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01072"></a>01072         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01073"></a>01073       }
<a name="l01074"></a>01074 
<a name="l01075"></a><a class="code" href="classindri_1_1lang_1_1FilRejNode.html#aad4cf832cb8a0fb2aefd2d0d4b8ad7c4">01075</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#aad4cf832cb8a0fb2aefd2d0d4b8ad7c4">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01076"></a>01076         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01077"></a>01077         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* filterDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a1b63f7d4d8886462ffbafd4914115136">_filter</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01078"></a>01078         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* disallowedDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FilRejNode.html#a2ba740b11fac276a122153f79c007553">_disallowed</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01079"></a>01079         <a class="code" href="classindri_1_1lang_1_1FilRejNode.html">FilRejNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FilRejNode.html#ae24bd6409b8092bcee3953a64f1c1c30">FilRejNode</a>( filterDuplicate, disallowedDuplicate );
<a name="l01080"></a>01080         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01081"></a>01081       }
<a name="l01082"></a>01082     };
<a name="l01083"></a>01083 
<a name="l01084"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">01084</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l01085"></a>01085     <span class="keyword">private</span>:
<a name="l01086"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">01086</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>;
<a name="l01087"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">01087</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a>;
<a name="l01088"></a>01088 
<a name="l01089"></a>01089     <span class="keyword">public</span>:
<a name="l01090"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ad9384b14164fff9ce402e721d280d972">01090</a>       <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ad9384b14164fff9ce402e721d280d972">FieldLessNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
<a name="l01091"></a>01091         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>(field),
<a name="l01092"></a>01092         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a>(constant) {
<a name="l01093"></a>01093       }
<a name="l01094"></a>01094       
<a name="l01095"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a2c70a233e7619a544970718e27283e86">01095</a>       <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a2c70a233e7619a544970718e27283e86">FieldLessNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01096"></a>01096         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;field&quot;</span> );
<a name="l01097"></a>01097         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;constant&quot;</span>);
<a name="l01098"></a>01098       }
<a name="l01099"></a>01099 
<a name="l01100"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ac8bd8950202e3d05082c1f1ea09ed416">01100</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ac8bd8950202e3d05082c1f1ea09ed416">typeName</a>()<span class="keyword"> const </span>{
<a name="l01101"></a>01101         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FieldLessNode&quot;</span>;
<a name="l01102"></a>01102       }
<a name="l01103"></a>01103 
<a name="l01104"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#aa0a96b50d547e09d76f234261b72e702">01104</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#aa0a96b50d547e09d76f234261b72e702">queryText</a>()<span class="keyword"> const </span>{
<a name="l01105"></a>01105         std::stringstream qtext;
<a name="l01106"></a>01106         qtext &lt;&lt; <span class="stringliteral">&quot;#less(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01107"></a>01107         <span class="keywordflow">return</span> qtext.str();
<a name="l01108"></a>01108       }
<a name="l01109"></a>01109 
<a name="l01110"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a11d950f4e402b9015d9703cfd4d57301">01110</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a11d950f4e402b9015d9703cfd4d57301">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01111"></a>01111         <span class="keywordflow">return</span> 31 +
<a name="l01112"></a>01112           <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a> +
<a name="l01113"></a>01113           <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01114"></a>01114       }
<a name="l01115"></a>01115 
<a name="l01116"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ae5fe7e9908af5d76539521d14ed538de">01116</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ae5fe7e9908af5d76539521d14ed538de">getConstant</a>()<span class="keyword"> const </span>{
<a name="l01117"></a>01117         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a>;
<a name="l01118"></a>01118       }
<a name="l01119"></a>01119 
<a name="l01120"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a7bfbd820e2e387cbd9e3844039eb3994">01120</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a7bfbd820e2e387cbd9e3844039eb3994">getField</a>() {
<a name="l01121"></a>01121         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>;
<a name="l01122"></a>01122       }
<a name="l01123"></a>01123 
<a name="l01124"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a4c5c25afaff84a08bef4520d4db4df18">01124</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a4c5c25afaff84a08bef4520d4db4df18">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l01125"></a>01125         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l01126"></a>01126 
<a name="l01127"></a>01127         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l01128"></a>01128           other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ae5fe7e9908af5d76539521d14ed538de">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a> &amp;&amp;
<a name="l01129"></a>01129           *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a7bfbd820e2e387cbd9e3844039eb3994">getField</a>() == *<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>;
<a name="l01130"></a>01130       }
<a name="l01131"></a>01131 
<a name="l01132"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#aff0ea740f473309d4a5805ed067b4f5e">01132</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#aff0ea740f473309d4a5805ed067b4f5e">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01133"></a>01133         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01134"></a>01134         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01135"></a>01135         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html">FieldLessNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#ad9384b14164fff9ce402e721d280d972">FieldLessNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a> );
<a name="l01136"></a>01136         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01137"></a>01137       }
<a name="l01138"></a>01138 
<a name="l01139"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a505b4ab92791cf2eafeb8e699b3c4f5c">01139</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a505b4ab92791cf2eafeb8e699b3c4f5c">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01140"></a>01140         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01141"></a>01141         <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01142"></a>01142         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01143"></a>01143       }
<a name="l01144"></a>01144 
<a name="l01145"></a><a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a96903c273354562f34b78abce3b1deca">01145</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a96903c273354562f34b78abce3b1deca">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01146"></a>01146         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01147"></a>01147         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a169a525d4d1a0f6004750520d6d7bed6">_field</a>);
<a name="l01148"></a>01148         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;constant&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldLessNode.html#a9e474c4b5cce7b3dc28c88aab3786289">_constant</a>);
<a name="l01149"></a>01149         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01150"></a>01150       }
<a name="l01151"></a>01151     };
<a name="l01152"></a>01152 
<a name="l01153"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">01153</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l01154"></a>01154     <span class="keyword">private</span>:
<a name="l01155"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">01155</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>;
<a name="l01156"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">01156</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a>;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158     <span class="keyword">public</span>:
<a name="l01159"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a88e978ef61e892fd668f70cf2bc6c3f1">01159</a>       <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a88e978ef61e892fd668f70cf2bc6c3f1">FieldGreaterNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
<a name="l01160"></a>01160         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>(field),
<a name="l01161"></a>01161         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a>(constant) {
<a name="l01162"></a>01162       }
<a name="l01163"></a>01163       
<a name="l01164"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#afdf704cae396eb4128da5f883ffdd1b7">01164</a>       <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#afdf704cae396eb4128da5f883ffdd1b7">FieldGreaterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01165"></a>01165         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;field&quot;</span> );
<a name="l01166"></a>01166         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;constant&quot;</span>);
<a name="l01167"></a>01167       }
<a name="l01168"></a>01168 
<a name="l01169"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9f613fa5780e6697207bf3c2019e6036">01169</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9f613fa5780e6697207bf3c2019e6036">typeName</a>()<span class="keyword"> const </span>{
<a name="l01170"></a>01170         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FieldGreaterNode&quot;</span>;
<a name="l01171"></a>01171       }
<a name="l01172"></a>01172 
<a name="l01173"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ae7730ca413c511844971e1fd8dd8efcd">01173</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ae7730ca413c511844971e1fd8dd8efcd">queryText</a>()<span class="keyword"> const </span>{
<a name="l01174"></a>01174         std::stringstream qtext;
<a name="l01175"></a>01175         qtext &lt;&lt; <span class="stringliteral">&quot;#greater(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01176"></a>01176         <span class="keywordflow">return</span> qtext.str();
<a name="l01177"></a>01177       }
<a name="l01178"></a>01178 
<a name="l01179"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#aed0e5542c7e6bb59f0f6374ead55d3fe">01179</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#aed0e5542c7e6bb59f0f6374ead55d3fe">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01180"></a>01180         <span class="keywordflow">return</span> 33 +
<a name="l01181"></a>01181           <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a> +
<a name="l01182"></a>01182           <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01183"></a>01183       }
<a name="l01184"></a>01184 
<a name="l01185"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9774e1a4cc28405aeca85914880cc64a">01185</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9774e1a4cc28405aeca85914880cc64a">getConstant</a>()<span class="keyword"> const </span>{
<a name="l01186"></a>01186         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a>;
<a name="l01187"></a>01187       }
<a name="l01188"></a>01188 
<a name="l01189"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a22488355b7a021fbddc2ed9b1dcd2480">01189</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a22488355b7a021fbddc2ed9b1dcd2480">getField</a>() {
<a name="l01190"></a>01190         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>;
<a name="l01191"></a>01191       }
<a name="l01192"></a>01192 
<a name="l01193"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ad745f878b3db1021c818b5abec0ea6fe">01193</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ad745f878b3db1021c818b5abec0ea6fe">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l01194"></a>01194         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l01195"></a>01195 
<a name="l01196"></a>01196         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l01197"></a>01197           other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a9774e1a4cc28405aeca85914880cc64a">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a> &amp;&amp;
<a name="l01198"></a>01198           *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a22488355b7a021fbddc2ed9b1dcd2480">getField</a>() == *<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>;
<a name="l01199"></a>01199       }
<a name="l01200"></a>01200 
<a name="l01201"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a699b9629574ed0beaf6df1dbdb8a3058">01201</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a699b9629574ed0beaf6df1dbdb8a3058">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01202"></a>01202         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01203"></a>01203         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01204"></a>01204         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html">FieldGreaterNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a88e978ef61e892fd668f70cf2bc6c3f1">FieldGreaterNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a> );
<a name="l01205"></a>01205         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01206"></a>01206       }
<a name="l01207"></a>01207 
<a name="l01208"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a1b912dbf13c7337d971cd7f7ecc627fa">01208</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a1b912dbf13c7337d971cd7f7ecc627fa">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01209"></a>01209         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01210"></a>01210         <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01211"></a>01211         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01212"></a>01212       }
<a name="l01213"></a>01213 
<a name="l01214"></a><a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a7e9bce5aa26d82a8dc8bde47ca966f4a">01214</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a7e9bce5aa26d82a8dc8bde47ca966f4a">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01215"></a>01215         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01216"></a>01216         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#ab3aa4a5175a76233cac9d4cdb83b76ac">_field</a>);
<a name="l01217"></a>01217         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;constant&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldGreaterNode.html#a2447b4adc8d2fc83102ec0235b2b02bf">_constant</a>);
<a name="l01218"></a>01218         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01219"></a>01219       }
<a name="l01220"></a>01220     };
<a name="l01221"></a>01221 
<a name="l01222"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">01222</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l01223"></a>01223     <span class="keyword">private</span>:
<a name="l01224"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">01224</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>;
<a name="l01225"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">01225</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a>;
<a name="l01226"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">01226</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a>;
<a name="l01227"></a>01227 
<a name="l01228"></a>01228     <span class="keyword">public</span>:
<a name="l01229"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ab70b2412e0a96740d7c67ab34892f3ea">01229</a>       <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ab70b2412e0a96740d7c67ab34892f3ea">FieldBetweenNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 low, INT64 high ) :
<a name="l01230"></a>01230         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>(field),
<a name="l01231"></a>01231         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a>(low),
<a name="l01232"></a>01232         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a>(high) {
<a name="l01233"></a>01233       }
<a name="l01234"></a>01234       
<a name="l01235"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a885f99273d31d543dbc11eff6bef2618">01235</a>       <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a885f99273d31d543dbc11eff6bef2618">FieldBetweenNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01236"></a>01236         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;field&quot;</span> );
<a name="l01237"></a>01237         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;low&quot;</span>);
<a name="l01238"></a>01238         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;high&quot;</span>);
<a name="l01239"></a>01239       }
<a name="l01240"></a>01240 
<a name="l01241"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0b265afd0bfa8de43d295fda749fa76b">01241</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a0b265afd0bfa8de43d295fda749fa76b">typeName</a>()<span class="keyword"> const </span>{
<a name="l01242"></a>01242         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FieldBetweenNode&quot;</span>;
<a name="l01243"></a>01243       }
<a name="l01244"></a>01244 
<a name="l01245"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#af44f28b12aa4428918f65cff5b0a8f2d">01245</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#af44f28b12aa4428918f65cff5b0a8f2d">queryText</a>()<span class="keyword"> const </span>{
<a name="l01246"></a>01246         std::stringstream qtext;
<a name="l01247"></a>01247         qtext &lt;&lt; <span class="stringliteral">&quot;#between(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01248"></a>01248         <span class="keywordflow">return</span> qtext.str();
<a name="l01249"></a>01249       }
<a name="l01250"></a>01250 
<a name="l01251"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ae4c48dd5e8e973059049502ae5b83cbe">01251</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ae4c48dd5e8e973059049502ae5b83cbe">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01252"></a>01252         <span class="keywordflow">return</span> 37 +
<a name="l01253"></a>01253           <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a> * 3 +
<a name="l01254"></a>01254           <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a> +
<a name="l01255"></a>01255           <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01256"></a>01256       }
<a name="l01257"></a>01257 
<a name="l01258"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6ed062e99d5d609a5648b47b2fc5c745">01258</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6ed062e99d5d609a5648b47b2fc5c745">getLow</a>()<span class="keyword"> const </span>{
<a name="l01259"></a>01259         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a>;
<a name="l01260"></a>01260       }
<a name="l01261"></a>01261 
<a name="l01262"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a661dd413d63a578b208a333326035201">01262</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a661dd413d63a578b208a333326035201">getHigh</a>()<span class="keyword"> const </span>{
<a name="l01263"></a>01263         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a>;
<a name="l01264"></a>01264       }
<a name="l01265"></a>01265 
<a name="l01266"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5c46b8a04069f8fd221cc36691245630">01266</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5c46b8a04069f8fd221cc36691245630">getField</a>() {
<a name="l01267"></a>01267         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>;
<a name="l01268"></a>01268       }
<a name="l01269"></a>01269 
<a name="l01270"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a76d670e05d499e86a302c803f8de069e">01270</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a76d670e05d499e86a302c803f8de069e">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l01271"></a>01271         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l01272"></a>01272 
<a name="l01273"></a>01273         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l01274"></a>01274           other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a6ed062e99d5d609a5648b47b2fc5c745">getLow</a>() == <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a> &amp;&amp;
<a name="l01275"></a>01275           other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a661dd413d63a578b208a333326035201">getHigh</a>() == <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a> &amp;&amp;
<a name="l01276"></a>01276           *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a5c46b8a04069f8fd221cc36691245630">getField</a>() == *<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>;
<a name="l01277"></a>01277       }
<a name="l01278"></a>01278 
<a name="l01279"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a58edec236a4216181f4d2c799e1afba8">01279</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a58edec236a4216181f4d2c799e1afba8">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01280"></a>01280         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01281"></a>01281         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01282"></a>01282         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html">FieldBetweenNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ab70b2412e0a96740d7c67ab34892f3ea">FieldBetweenNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a> );
<a name="l01283"></a>01283         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01284"></a>01284       }
<a name="l01285"></a>01285 
<a name="l01286"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a9bfeeb18afbfb40e7dadc854719ab999">01286</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a9bfeeb18afbfb40e7dadc854719ab999">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01287"></a>01287         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01288"></a>01288         <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01289"></a>01289         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01290"></a>01290       }
<a name="l01291"></a>01291 
<a name="l01292"></a><a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac31250a819fecfe446d62cd1713f416d">01292</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac31250a819fecfe446d62cd1713f416d">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01293"></a>01293         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01294"></a>01294         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac29ab68e64e333261b465c8bae1ce603">_field</a>);
<a name="l01295"></a>01295         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;low&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#ac4c3fc23afb7b0cffb648481004afdce">_low</a>);
<a name="l01296"></a>01296         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;high&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldBetweenNode.html#a8f5d7e25dedb197cba224b1743f2f105">_high</a>);
<a name="l01297"></a>01297         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01298"></a>01298       }
<a name="l01299"></a>01299     };
<a name="l01300"></a>01300 
<a name="l01301"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">01301</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l01302"></a>01302     <span class="keyword">private</span>:
<a name="l01303"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">01303</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>;
<a name="l01304"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">01304</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a>;
<a name="l01305"></a>01305 
<a name="l01306"></a>01306     <span class="keyword">public</span>:
<a name="l01307"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#af5f07fb0be85c2e34bfcd362f14ccf07">01307</a>       <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#af5f07fb0be85c2e34bfcd362f14ccf07">FieldEqualsNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field, INT64 constant ) :
<a name="l01308"></a>01308         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>(field),
<a name="l01309"></a>01309         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a>(constant) {
<a name="l01310"></a>01310       }
<a name="l01311"></a>01311       
<a name="l01312"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a82443907b35afc8528d6ae89c4d95013">01312</a>       <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a82443907b35afc8528d6ae89c4d95013">FieldEqualsNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01313"></a>01313         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>(<span class="stringliteral">&quot;field&quot;</span>);
<a name="l01314"></a>01314         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;constant&quot;</span>);
<a name="l01315"></a>01315       }
<a name="l01316"></a>01316 
<a name="l01317"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a72511b5b0e314f18fee2417f9b78118b">01317</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a72511b5b0e314f18fee2417f9b78118b">typeName</a>()<span class="keyword"> const </span>{
<a name="l01318"></a>01318         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FieldEqualsNode&quot;</span>;
<a name="l01319"></a>01319       }
<a name="l01320"></a>01320 
<a name="l01321"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a91057217b637eba1aa107844ed8026a4">01321</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a91057217b637eba1aa107844ed8026a4">queryText</a>()<span class="keyword"> const </span>{
<a name="l01322"></a>01322         std::stringstream qtext;
<a name="l01323"></a>01323         qtext &lt;&lt; <span class="stringliteral">&quot;#equals(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01324"></a>01324         <span class="keywordflow">return</span> qtext.str();
<a name="l01325"></a>01325       }
<a name="l01326"></a>01326 
<a name="l01327"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a4e70795cca0a59d7d9612a8eda2fef03">01327</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a4e70795cca0a59d7d9612a8eda2fef03">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01328"></a>01328         <span class="keywordflow">return</span> 41 +
<a name="l01329"></a>01329           <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a> +
<a name="l01330"></a>01330           <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01331"></a>01331       }
<a name="l01332"></a>01332 
<a name="l01333"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a3c3e638d0a330a98535d2794bfa60a63">01333</a>       INT64 <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a3c3e638d0a330a98535d2794bfa60a63">getConstant</a>()<span class="keyword"> const </span>{
<a name="l01334"></a>01334         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a>;
<a name="l01335"></a>01335       }
<a name="l01336"></a>01336 
<a name="l01337"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5d71f341478b03827a286ca1f8c9b2fe">01337</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5d71f341478b03827a286ca1f8c9b2fe">getField</a>() {
<a name="l01338"></a>01338         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>;
<a name="l01339"></a>01339       }
<a name="l01340"></a>01340 
<a name="l01341"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aece93a1d0ef3eade9a5fc8efdf9dfa85">01341</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aece93a1d0ef3eade9a5fc8efdf9dfa85">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l01342"></a>01342         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l01343"></a>01343 
<a name="l01344"></a>01344         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l01345"></a>01345           other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a3c3e638d0a330a98535d2794bfa60a63">getConstant</a>() == <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a> &amp;&amp;
<a name="l01346"></a>01346           *other-&gt;<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a5d71f341478b03827a286ca1f8c9b2fe">getField</a>() == *<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>;
<a name="l01347"></a>01347       }
<a name="l01348"></a>01348 
<a name="l01349"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aea4b361a9cb3dc939d81187e6b68e813">01349</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aea4b361a9cb3dc939d81187e6b68e813">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01350"></a>01350         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01351"></a>01351         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* fieldDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01352"></a>01352         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html">FieldEqualsNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#af5f07fb0be85c2e34bfcd362f14ccf07">FieldEqualsNode</a>( fieldDuplicate, <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a> );
<a name="l01353"></a>01353         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01354"></a>01354       }
<a name="l01355"></a>01355 
<a name="l01356"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a360a7e2831496a33a8ee442f31307bc2">01356</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a360a7e2831496a33a8ee442f31307bc2">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01357"></a>01357         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01358"></a>01358         <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01359"></a>01359         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01360"></a>01360       }
<a name="l01361"></a>01361 
<a name="l01362"></a><a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aa0960efa3678cc39b45ebb84731f7410">01362</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#aa0960efa3678cc39b45ebb84731f7410">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01363"></a>01363         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01364"></a>01364         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#a577e561b7c6fb99d9b7e913eef32a26d">_field</a>);
<a name="l01365"></a>01365         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;constant&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FieldEqualsNode.html#ab109a10e66fda240c6f3966f959c9258">_constant</a>);
<a name="l01366"></a>01366         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01367"></a>01367       }
<a name="l01368"></a>01368     };
<a name="l01369"></a>01369 
<a name="l01370"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">01370</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01371"></a>01371     <span class="keyword">protected</span>:
<a name="l01372"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">01372</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a>; <span class="comment">// number of occurrences within this context</span>
<a name="l01373"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">01373</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a>; <span class="comment">// number of terms that occur within this context</span>
<a name="l01374"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#af9f3afc69ed14080bc313de3d4e8f1f8">01374</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#af9f3afc69ed14080bc313de3d4e8f1f8">_maximumContextFraction</a>;
<a name="l01375"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">01375</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a>; <span class="comment">// number of documents we occur in</span>
<a name="l01376"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">01376</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a>; <span class="comment">// total number of documents</span>
<a name="l01377"></a>01377 
<a name="l01378"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">01378</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>;
<a name="l01379"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">01379</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>;
<a name="l01380"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">01380</a>       std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a>;
<a name="l01381"></a>01381 
<a name="l01382"></a>01382     <span class="keyword">public</span>:
<a name="l01383"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7aa86619184f7288a7e7150cda18829a">01383</a>       <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7aa86619184f7288a7e7150cda18829a">RawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context, std::string smoothing = <span class="stringliteral">&quot;method:dirichlet,mu:2500&quot;</span> ) {
<a name="l01384"></a>01384         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> = raw;
<a name="l01385"></a>01385         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> = context;
<a name="l01386"></a>01386 
<a name="l01387"></a>01387         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> = 0;
<a name="l01388"></a>01388         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> = 0;
<a name="l01389"></a>01389         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a> = 0;
<a name="l01390"></a>01390         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a> = 0;
<a name="l01391"></a>01391         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> = smoothing;
<a name="l01392"></a>01392       }
<a name="l01393"></a>01393 
<a name="l01394"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2e5075a92d52f4b0e849e3f1274187dc">01394</a>       <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2e5075a92d52f4b0e849e3f1274187dc">RawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01395"></a>01395         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;raw&quot;</span> );
<a name="l01396"></a>01396         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;context&quot;</span> );
<a name="l01397"></a>01397 
<a name="l01398"></a>01398         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;occurrences&quot;</span> );
<a name="l01399"></a>01399         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;contextSize&quot;</span> );
<a name="l01400"></a>01400         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span> );
<a name="l01401"></a>01401         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentCount&quot;</span> );
<a name="l01402"></a>01402         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;smoothing&quot;</span> );
<a name="l01403"></a>01403       }
<a name="l01404"></a>01404 
<a name="l01405"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8752572fd2559dbe01c082b31727e2e8">01405</a>       <span class="keyword">virtual</span> std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8752572fd2559dbe01c082b31727e2e8">typeName</a>()<span class="keyword"> const </span>{
<a name="l01406"></a>01406         <span class="keywordflow">return</span> <span class="stringliteral">&quot;RawScorerNode&quot;</span>;
<a name="l01407"></a>01407       }
<a name="l01408"></a>01408 
<a name="l01409"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a151983c6b54b5c6fc1eb561c83577aab">01409</a>       std::string <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a151983c6b54b5c6fc1eb561c83577aab">queryText</a>()<span class="keyword"> const </span>{
<a name="l01410"></a>01410         std::stringstream qtext;
<a name="l01411"></a>01411         
<a name="l01412"></a>01412         qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l01413"></a>01413         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ) {
<a name="l01414"></a>01414           <span class="comment">// if we haven&apos;t added a period yet, put one in</span>
<a name="l01415"></a>01415           <span class="keywordtype">int</span> dot = (int)qtext.str().find(<span class="charliteral">&apos;.&apos;</span>);
<a name="l01416"></a>01416           <span class="keywordflow">if</span>( dot &lt; 0 )
<a name="l01417"></a>01417             qtext &lt;&lt; <span class="charliteral">&apos;.&apos;</span>;
<a name="l01418"></a>01418 
<a name="l01419"></a>01419           qtext &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01420"></a>01420         }
<a name="l01421"></a>01421 
<a name="l01422"></a>01422         <span class="keywordflow">return</span> qtext.str();
<a name="l01423"></a>01423       }
<a name="l01424"></a>01424 
<a name="l01425"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2b43759adfec72039bec1187191df594">01425</a>       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2b43759adfec72039bec1187191df594">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01426"></a>01426         UINT64 hash = 0;
<a name="l01427"></a>01427 
<a name="l01428"></a>01428         hash += 43;
<a name="l01429"></a>01429         hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01430"></a>01430 
<a name="l01431"></a>01431         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ) {
<a name="l01432"></a>01432           hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l01433"></a>01433         }
<a name="l01434"></a>01434 
<a name="l01435"></a>01435         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> gh;
<a name="l01436"></a>01436         hash += gh( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a>.c_str() );
<a name="l01437"></a>01437 
<a name="l01438"></a>01438         <span class="keywordflow">return</span> hash;
<a name="l01439"></a>01439       }
<a name="l01440"></a>01440 
<a name="l01441"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7c80413fd299a7805b3f4ee89826a25d">01441</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7c80413fd299a7805b3f4ee89826a25d">getOccurrences</a>()<span class="keyword"> const </span>{
<a name="l01442"></a>01442         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a>;
<a name="l01443"></a>01443       }
<a name="l01444"></a>01444 
<a name="l01445"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a24aabae343384c1b014014d06e39d12b">01445</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a24aabae343384c1b014014d06e39d12b">getContextSize</a>()<span class="keyword"> const </span>{
<a name="l01446"></a>01446         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a>;
<a name="l01447"></a>01447       }
<a name="l01448"></a>01448 
<a name="l01449"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae53ce60effd9e54996f2ad9b8bbc4e53">01449</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae53ce60effd9e54996f2ad9b8bbc4e53">getDocumentOccurrences</a>()<span class="keyword"> const </span>{
<a name="l01450"></a>01450         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a>;
<a name="l01451"></a>01451       }
<a name="l01452"></a>01452 
<a name="l01453"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab3a9cded50261e49b5164929e8e9b640">01453</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab3a9cded50261e49b5164929e8e9b640">getDocumentCount</a>()<span class="keyword"> const </span>{
<a name="l01454"></a>01454         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a>;
<a name="l01455"></a>01455       }
<a name="l01456"></a>01456       
<a name="l01457"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#af7085cf777d709351c55c8d2c1091eac">01457</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#af7085cf777d709351c55c8d2c1091eac">getSmoothing</a>()<span class="keyword"> const </span>{
<a name="l01458"></a>01458         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a>;
<a name="l01459"></a>01459       }
<a name="l01460"></a>01460 
<a name="l01461"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2aae5fe5c8fbceb53d94c7d5b197a8b9">01461</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a2aae5fe5c8fbceb53d94c7d5b197a8b9">setStatistics</a>( <span class="keywordtype">double</span> occurrences, <span class="keywordtype">double</span> contextSize, <span class="keywordtype">int</span> documentOccurrences, <span class="keywordtype">int</span> documentCount ) {
<a name="l01462"></a>01462         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> = occurrences;
<a name="l01463"></a>01463         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> = contextSize;
<a name="l01464"></a>01464         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a> = documentOccurrences;
<a name="l01465"></a>01465         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a> = documentCount;
<a name="l01466"></a>01466       }
<a name="l01467"></a>01467 
<a name="l01468"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a20bb87ca34b1764ac57f7bb69e3ab323">01468</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a20bb87ca34b1764ac57f7bb69e3ab323">setContext</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) {
<a name="l01469"></a>01469         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> = context;
<a name="l01470"></a>01470       }
<a name="l01471"></a>01471 
<a name="l01472"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#aa7e8ce03aac18775b01cbb64ec108ed5">01472</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#aa7e8ce03aac18775b01cbb64ec108ed5">setRawExtent</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* rawExtent ) {
<a name="l01473"></a>01473         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> = rawExtent;
<a name="l01474"></a>01474       }
<a name="l01475"></a>01475 
<a name="l01476"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a66a591507f126e25afbcac1168e7a712">01476</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a66a591507f126e25afbcac1168e7a712">setSmoothing</a>( <span class="keyword">const</span> std::string&amp; smoothing ) {
<a name="l01477"></a>01477         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> = smoothing;
<a name="l01478"></a>01478       }
<a name="l01479"></a>01479 
<a name="l01480"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab1e41e9cf5148b7ed46a8f84bd92b04c">01480</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab1e41e9cf5148b7ed46a8f84bd92b04c">getContext</a>() {
<a name="l01481"></a>01481         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>;
<a name="l01482"></a>01482       }
<a name="l01483"></a>01483 
<a name="l01484"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a45e22ab31052fc5c1f15b1a785fcc7b6">01484</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a45e22ab31052fc5c1f15b1a785fcc7b6">getRawExtent</a>() {
<a name="l01485"></a>01485         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>;
<a name="l01486"></a>01486       }
<a name="l01487"></a>01487 
<a name="l01488"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a086748a977735819e4cf04ad62506351">01488</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a086748a977735819e4cf04ad62506351">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01489"></a>01489         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01490"></a>01490         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;raw&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> );
<a name="l01491"></a>01491         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> );
<a name="l01492"></a>01492 
<a name="l01493"></a>01493         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;occurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> );
<a name="l01494"></a>01494         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;contextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> );
<a name="l01495"></a>01495         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a9a2023bc6f14605d4dee6a625230e324">_documentOccurrences</a> );
<a name="l01496"></a>01496         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentCount&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a89786c211d3ea8676399fe29be009294">_documentCount</a> );
<a name="l01497"></a>01497         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;smoothing&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> );
<a name="l01498"></a>01498         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01499"></a>01499       }
<a name="l01500"></a>01500 
<a name="l01501"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a4cefcc526de4933f584e6379eaa0594f">01501</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a4cefcc526de4933f584e6379eaa0594f">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01502"></a>01502         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01503"></a>01503         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> )
<a name="l01504"></a>01504           <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01505"></a>01505         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> )
<a name="l01506"></a>01506           <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l01507"></a>01507         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01508"></a>01508       }
<a name="l01509"></a>01509 
<a name="l01510"></a><a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a84cadf9184935c147aef0390d111312e">01510</a>       <span class="keyword">virtual</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a84cadf9184935c147aef0390d111312e">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01511"></a>01511         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01512"></a>01512 
<a name="l01513"></a>01513         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateContext = <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l01514"></a>01514         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l01515"></a>01515         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a7aa86619184f7288a7e7150cda18829a">RawScorerNode</a>(*<span class="keyword">this</span>);
<a name="l01516"></a>01516         duplicate-&gt;setRawExtent( duplicateRaw );
<a name="l01517"></a>01517         duplicate-&gt;setContext( duplicateContext );
<a name="l01518"></a>01518 
<a name="l01519"></a>01519         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01520"></a>01520       }
<a name="l01521"></a>01521     };
<a name="l01522"></a>01522 
<a name="l01523"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">01523</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">TermFrequencyScorerNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01524"></a>01524     <span class="keyword">private</span>:
<a name="l01525"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">01525</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a>; <span class="comment">// number of occurrences within this context</span>
<a name="l01526"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">01526</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a>; <span class="comment">// number of terms that occur within this context</span>
<a name="l01527"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">01527</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a>; <span class="comment">// number of documents we occur in</span>
<a name="l01528"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">01528</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a>; <span class="comment">// total number of documents</span>
<a name="l01529"></a>01529 
<a name="l01530"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">01530</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a>;
<a name="l01531"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">01531</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a>;
<a name="l01532"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">01532</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a>;
<a name="l01533"></a>01533 
<a name="l01534"></a>01534     <span class="keyword">public</span>:
<a name="l01535"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#acd5ff6d9d7b5128385b7f3eb88d5febe">01535</a>       <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#acd5ff6d9d7b5128385b7f3eb88d5febe">TermFrequencyScorerNode</a>( <span class="keyword">const</span> std::string&amp; text, <span class="keywordtype">bool</span> stemmed ) {
<a name="l01536"></a>01536         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a> = 0;
<a name="l01537"></a>01537         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a> = 0;
<a name="l01538"></a>01538         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a> = 0;
<a name="l01539"></a>01539         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a> = 0;
<a name="l01540"></a>01540         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a> = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01541"></a>01541         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a> = text;
<a name="l01542"></a>01542         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a> = stemmed;
<a name="l01543"></a>01543       }
<a name="l01544"></a>01544 
<a name="l01545"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a60660633d896b4a70c937f1d0ffa12fc">01545</a>       <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a60660633d896b4a70c937f1d0ffa12fc">TermFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01546"></a>01546         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;occurrences&quot;</span> );
<a name="l01547"></a>01547         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;contextSize&quot;</span> );
<a name="l01548"></a>01548         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span> );
<a name="l01549"></a>01549         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentCount&quot;</span> );
<a name="l01550"></a>01550         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;smoothing&quot;</span> );
<a name="l01551"></a>01551         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;text&quot;</span> );
<a name="l01552"></a>01552         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;stemmed&quot;</span> );
<a name="l01553"></a>01553       }
<a name="l01554"></a>01554       
<a name="l01555"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad5298fec240160c3140cdcab807f6086">01555</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad5298fec240160c3140cdcab807f6086">getText</a>()<span class="keyword"> const </span>{
<a name="l01556"></a>01556         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a>;
<a name="l01557"></a>01557       }
<a name="l01558"></a>01558 
<a name="l01559"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a77d6d58e40912e694612bd5e97ed9549">01559</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a77d6d58e40912e694612bd5e97ed9549">getStemmed</a>()<span class="keyword"> const </span>{
<a name="l01560"></a>01560         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a>;
<a name="l01561"></a>01561       }
<a name="l01562"></a>01562 
<a name="l01563"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad62f9c42266b3fe094cc16a91f48a439">01563</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad62f9c42266b3fe094cc16a91f48a439">typeName</a>()<span class="keyword"> const </span>{
<a name="l01564"></a>01564         <span class="keywordflow">return</span> <span class="stringliteral">&quot;TermFrequencyScorerNode&quot;</span>;
<a name="l01565"></a>01565       }
<a name="l01566"></a>01566 
<a name="l01567"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#adf52d5b6dcd225986a498c7becfc34a4">01567</a>       std::string <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#adf52d5b6dcd225986a498c7becfc34a4">queryText</a>()<span class="keyword"> const </span>{
<a name="l01568"></a>01568         std::stringstream qtext;
<a name="l01569"></a>01569         
<a name="l01570"></a>01570         <span class="keywordflow">if</span>( !<a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a> )
<a name="l01571"></a>01571           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a>;
<a name="l01572"></a>01572         <span class="keywordflow">else</span>
<a name="l01573"></a>01573           qtext &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; _text &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;
<a name="l01574"></a>01574 
<a name="l01575"></a>01575         <span class="keywordflow">return</span> qtext.str();
<a name="l01576"></a>01576       }
<a name="l01577"></a>01577 
<a name="l01578"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a599a2320114f9c3f93676771897f4538">01578</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a599a2320114f9c3f93676771897f4538">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01579"></a>01579         <span class="keywordtype">int</span> accumulator = 47;
<a name="l01580"></a>01580 
<a name="l01581"></a>01581         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a> )
<a name="l01582"></a>01582           accumulator += 3;
<a name="l01583"></a>01583 
<a name="l01584"></a>01584         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l01585"></a>01585         <span class="keywordflow">return</span> accumulator + hash( <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a>.c_str() ) * 7 + hash( <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a>.c_str() );
<a name="l01586"></a>01586       }
<a name="l01587"></a>01587 
<a name="l01588"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#aea04b02e9415caf173c348fd3cb995e0">01588</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#aea04b02e9415caf173c348fd3cb995e0">getOccurrences</a>()<span class="keyword"> const </span>{
<a name="l01589"></a>01589         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a>;
<a name="l01590"></a>01590       }
<a name="l01591"></a>01591 
<a name="l01592"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a7e170d1fd5bb8ceba8dc6c0137c1e06d">01592</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a7e170d1fd5bb8ceba8dc6c0137c1e06d">getContextSize</a>()<span class="keyword"> const </span>{
<a name="l01593"></a>01593         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a>;
<a name="l01594"></a>01594       }
<a name="l01595"></a>01595 
<a name="l01596"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0d1ebe09327cfc24b0b28a8a6fe90486">01596</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0d1ebe09327cfc24b0b28a8a6fe90486">getDocumentOccurrences</a>()<span class="keyword"> const </span>{
<a name="l01597"></a>01597         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a>;
<a name="l01598"></a>01598       }
<a name="l01599"></a>01599 
<a name="l01600"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0b295a357734f22fdc8dc926abbed192">01600</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0b295a357734f22fdc8dc926abbed192">getDocumentCount</a>()<span class="keyword"> const </span>{
<a name="l01601"></a>01601         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a>;
<a name="l01602"></a>01602       }
<a name="l01603"></a>01603 
<a name="l01604"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae886ae7c7ee5bbbccfe3bd49547422d3">01604</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae886ae7c7ee5bbbccfe3bd49547422d3">getSmoothing</a>()<span class="keyword"> const </span>{
<a name="l01605"></a>01605         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a>;
<a name="l01606"></a>01606       }
<a name="l01607"></a>01607 
<a name="l01608"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#aca4c12f59f14a120867ef85d4320a5f4">01608</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#aca4c12f59f14a120867ef85d4320a5f4">setStatistics</a>( <span class="keywordtype">double</span> occurrences, <span class="keywordtype">double</span> contextSize, <span class="keywordtype">int</span> documentOccurrences, <span class="keywordtype">int</span> documentCount ) {
<a name="l01609"></a>01609         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a> = occurrences;
<a name="l01610"></a>01610         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a> = contextSize;
<a name="l01611"></a>01611         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a> = documentOccurrences;
<a name="l01612"></a>01612         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a> = documentCount;
<a name="l01613"></a>01613       }
<a name="l01614"></a>01614 
<a name="l01615"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad3d128bc207e7989392bee8eb9a16342">01615</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ad3d128bc207e7989392bee8eb9a16342">setSmoothing</a>( <span class="keyword">const</span> std::string&amp; smoothing ) {
<a name="l01616"></a>01616         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a> = smoothing;
<a name="l01617"></a>01617       }
<a name="l01618"></a>01618 
<a name="l01619"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0492d464dfcc7f53fdb21f44ce3501e4">01619</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a0492d464dfcc7f53fdb21f44ce3501e4">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01620"></a>01620         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01621"></a>01621         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;occurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a44be4eb0b175a6623ae1950d17bf5770">_occurrences</a> );
<a name="l01622"></a>01622         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;contextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#ae57b5d83dcb036f2c80af4565c1f19b7">_contextSize</a> );
<a name="l01623"></a>01623         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5af61d38fc492c332457559ce1541052">_documentOccurrences</a> );
<a name="l01624"></a>01624         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentCount&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a2621dd924f61db2bfcfa5219afe428c2">_documentCount</a> );
<a name="l01625"></a>01625         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;text&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a5f5e6b4c6ccb2643a6e40e4b6b0c0909">_text</a> );
<a name="l01626"></a>01626         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;stemmed&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a69344fd5d0687844cacf0a7822c529ed">_stemmed</a> );
<a name="l01627"></a>01627         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;smoothing&quot;</span>, <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#af2bfd39a2f5fdaee151bf8b3be8f8229">_smoothing</a> );
<a name="l01628"></a>01628         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01629"></a>01629       }
<a name="l01630"></a>01630 
<a name="l01631"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a318aa6f86179939f10515fbd7fab351e">01631</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#a318aa6f86179939f10515fbd7fab351e">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01632"></a>01632         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01633"></a>01633         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01634"></a>01634       }
<a name="l01635"></a>01635 
<a name="l01636"></a><a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#adf448fd05f4085cb0eedcd5aaa003798">01636</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#adf448fd05f4085cb0eedcd5aaa003798">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01637"></a>01637         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01638"></a>01638         <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html">TermFrequencyScorerNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1TermFrequencyScorerNode.html#acd5ff6d9d7b5128385b7f3eb88d5febe">TermFrequencyScorerNode</a>(*<span class="keyword">this</span>);
<a name="l01639"></a>01639         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01640"></a>01640       }
<a name="l01641"></a>01641     };
<a name="l01642"></a>01642 
<a name="l01643"></a>01643     <span class="comment">// The CachedFrequencyScorerNode should only be used on a local machine;</span>
<a name="l01644"></a>01644     <span class="comment">// it should not be transferred across the network</span>
<a name="l01645"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">01645</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">CachedFrequencyScorerNode</a> : <span class="keyword">public</span> indri::lang::<a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01646"></a>01646     <span class="keyword">private</span>:
<a name="l01647"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">01647</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>;
<a name="l01648"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">01648</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>;
<a name="l01649"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">01649</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a>;
<a name="l01650"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a741ce358d4e3c197ad82ecfeffe47e70">01650</a>       <span class="keywordtype">void</span>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a741ce358d4e3c197ad82ecfeffe47e70">_list</a>;
<a name="l01651"></a>01651     
<a name="l01652"></a>01652     <span class="keyword">public</span>:
<a name="l01653"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a495f3c590fba951fdbd9f881ea11bb87">01653</a>       <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a495f3c590fba951fdbd9f881ea11bb87">CachedFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* raw, <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* context )
<a name="l01654"></a>01654         :
<a name="l01655"></a>01655         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>(raw),
<a name="l01656"></a>01656         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>(context),
<a name="l01657"></a>01657         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a741ce358d4e3c197ad82ecfeffe47e70">_list</a>(0)
<a name="l01658"></a>01658       {
<a name="l01659"></a>01659       }
<a name="l01660"></a>01660 
<a name="l01661"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a3d8783cac5f0b4e86ce96a5e5bbc4745">01661</a>       <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a3d8783cac5f0b4e86ce96a5e5bbc4745">CachedFrequencyScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01662"></a>01662         LEMUR_THROW( LEMUR_RUNTIME_ERROR, <span class="stringliteral">&quot;CachedFrequencyScorerNode should not be used on the network&quot;</span> );
<a name="l01663"></a>01663 
<a name="l01664"></a>01664         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;raw&quot;</span> );
<a name="l01665"></a>01665         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;context&quot;</span> );
<a name="l01666"></a>01666         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;smoothing&quot;</span> );
<a name="l01667"></a>01667       }
<a name="l01668"></a>01668 
<a name="l01669"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ac607739f48bde196276e6e2501069c77">01669</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ac607739f48bde196276e6e2501069c77">setList</a>( <span class="keywordtype">void</span>* list ) {
<a name="l01670"></a>01670         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a741ce358d4e3c197ad82ecfeffe47e70">_list</a> = list;
<a name="l01671"></a>01671       }
<a name="l01672"></a>01672 
<a name="l01673"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a21786696b11b391cd7df933221f0deb1">01673</a>       <span class="keywordtype">void</span>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a21786696b11b391cd7df933221f0deb1">getList</a>() {
<a name="l01674"></a>01674         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a741ce358d4e3c197ad82ecfeffe47e70">_list</a>;
<a name="l01675"></a>01675       }
<a name="l01676"></a>01676 
<a name="l01677"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ad5363888df95275f094f03f8d6427ab4">01677</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ad5363888df95275f094f03f8d6427ab4">typeName</a>()<span class="keyword"> const </span>{
<a name="l01678"></a>01678         <span class="keywordflow">return</span> <span class="stringliteral">&quot;CachedFrequencyScorerNode&quot;</span>;
<a name="l01679"></a>01679       }
<a name="l01680"></a>01680 
<a name="l01681"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a988894786fe48cfa6c6b2036951e63e2">01681</a>       std::string <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a988894786fe48cfa6c6b2036951e63e2">queryText</a>()<span class="keyword"> const </span>{
<a name="l01682"></a>01682         std::stringstream qtext;
<a name="l01683"></a>01683         
<a name="l01684"></a>01684         qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l01685"></a>01685         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a> ) {
<a name="l01686"></a>01686           <span class="comment">// if we haven&apos;t added a period yet, put one in</span>
<a name="l01687"></a>01687           <span class="keywordtype">int</span> dot = (int)qtext.str().find(<span class="charliteral">&apos;.&apos;</span>);
<a name="l01688"></a>01688           <span class="keywordflow">if</span>( dot &lt; 0 )
<a name="l01689"></a>01689             qtext &lt;&lt; <span class="charliteral">&apos;.&apos;</span>;
<a name="l01690"></a>01690 
<a name="l01691"></a>01691           qtext &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01692"></a>01692         }
<a name="l01693"></a>01693 
<a name="l01694"></a>01694         <span class="keywordflow">return</span> qtext.str();
<a name="l01695"></a>01695       }
<a name="l01696"></a>01696 
<a name="l01697"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ae5a03a2ab987ca7b3a92e4e21d3d6d51">01697</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ae5a03a2ab987ca7b3a92e4e21d3d6d51">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01698"></a>01698         UINT64 accumulator = 53;
<a name="l01699"></a>01699 
<a name="l01700"></a>01700         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l01701"></a>01701         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7 + 
<a name="l01702"></a>01702           <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + 
<a name="l01703"></a>01703           hash( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a>.c_str() );
<a name="l01704"></a>01704       }
<a name="l01705"></a>01705 
<a name="l01706"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a74f35fbf8749e7bc50df457e66cfdceb">01706</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a74f35fbf8749e7bc50df457e66cfdceb">setSmoothing</a>( <span class="keyword">const</span> std::string&amp; smoothing ) {
<a name="l01707"></a>01707         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a> = smoothing;
<a name="l01708"></a>01708       }
<a name="l01709"></a>01709 
<a name="l01710"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a6fec186dfaa847eb2027b73d3781688d">01710</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a6fec186dfaa847eb2027b73d3781688d">getSmoothing</a>()<span class="keyword"> const </span>{
<a name="l01711"></a>01711         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a>;
<a name="l01712"></a>01712       }
<a name="l01713"></a>01713 
<a name="l01714"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ac713090afa82eb95fa59aef25b2bfbfb">01714</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ac713090afa82eb95fa59aef25b2bfbfb">getRaw</a>() {
<a name="l01715"></a>01715         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>;
<a name="l01716"></a>01716       }
<a name="l01717"></a>01717 
<a name="l01718"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#af7d7722aad244f512d2e8d6b1e1ad260">01718</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#af7d7722aad244f512d2e8d6b1e1ad260">getContext</a>() {
<a name="l01719"></a>01719         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>;
<a name="l01720"></a>01720       }
<a name="l01721"></a>01721       
<a name="l01722"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#afd151f175c03d19edac30b2dc24c3fe5">01722</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#afd151f175c03d19edac30b2dc24c3fe5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01723"></a>01723         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01724"></a>01724         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;raw&quot;</span>, <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a> );
<a name="l01725"></a>01725         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a> );
<a name="l01726"></a>01726         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;smoothing&quot;</span>, <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a> );
<a name="l01727"></a>01727         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01728"></a>01728       }
<a name="l01729"></a>01729 
<a name="l01730"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a2bc24b77fc4778bdfea67b47ca3809d2">01730</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a2bc24b77fc4778bdfea67b47ca3809d2">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01731"></a>01731         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01732"></a>01732         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>( walker );
<a name="l01733"></a>01733         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a> )
<a name="l01734"></a>01734           <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>( walker );
<a name="l01735"></a>01735         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01736"></a>01736       }
<a name="l01737"></a>01737 
<a name="l01738"></a><a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a234742609044a7cb77d70b8181c369eb">01738</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a234742609044a7cb77d70b8181c369eb">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01739"></a>01739         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01740"></a>01740 
<a name="l01741"></a>01741         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>* duplicateRaw = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1d0f5930d5635479430bf0e544b4dfaf">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01742"></a>01742         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>* duplicateContext = 0;
<a name="l01743"></a>01743 
<a name="l01744"></a>01744         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a> ) 
<a name="l01745"></a>01745           duplicateContext = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a1eb927eebee737ea29bad68c07f3682e">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l01746"></a>01746 
<a name="l01747"></a>01747         <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html">CachedFrequencyScorerNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a495f3c590fba951fdbd9f881ea11bb87">CachedFrequencyScorerNode</a>( duplicateRaw,
<a name="l01748"></a>01748                                                                               duplicateContext );
<a name="l01749"></a>01749         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l01750"></a>01750         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a74f35fbf8749e7bc50df457e66cfdceb">setSmoothing</a>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a4e9b678840fb4cadda4410d3eaa14cf5">_smoothing</a> );
<a name="l01751"></a>01751         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#ac607739f48bde196276e6e2501069c77">setList</a>( <a class="code" href="classindri_1_1lang_1_1CachedFrequencyScorerNode.html#a21786696b11b391cd7df933221f0deb1">getList</a>() );
<a name="l01752"></a>01752 
<a name="l01753"></a>01753         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>( <span class="keyword">this</span>, duplicate );
<a name="l01754"></a>01754       }
<a name="l01755"></a>01755     };
<a name="l01756"></a>01756 
<a name="l01757"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html">01757</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1PriorNode.html">PriorNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01758"></a>01758     <span class="keyword">private</span>:
<a name="l01759"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">01759</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a>;
<a name="l01760"></a>01760 
<a name="l01761"></a>01761     <span class="keyword">public</span>:
<a name="l01762"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#ac891ba7dcf9e680fb7f34c7ea51fd786">01762</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ac891ba7dcf9e680fb7f34c7ea51fd786">PriorNode</a>( <span class="keyword">const</span> std::string&amp; priorName ) :
<a name="l01763"></a>01763         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a>( priorName )
<a name="l01764"></a>01764       {
<a name="l01765"></a>01765       } 
<a name="l01766"></a>01766       
<a name="l01767"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a8f48a32d06a44a18983163804739cd59">01767</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a8f48a32d06a44a18983163804739cd59">queryText</a>()<span class="keyword"> const </span>{
<a name="l01768"></a>01768         std::stringstream qtext;
<a name="l01769"></a>01769         qtext &lt;&lt; <span class="stringliteral">&quot;#prior(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01770"></a>01770         <span class="keywordflow">return</span> qtext.str();
<a name="l01771"></a>01771       }
<a name="l01772"></a>01772 
<a name="l01773"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#ae9431d0688c9c3100880c711cbbfb791">01773</a>       <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ae9431d0688c9c3100880c711cbbfb791">PriorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01774"></a>01774         <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;priorName&quot;</span> );
<a name="l01775"></a>01775       }
<a name="l01776"></a>01776 
<a name="l01777"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a99f27056c0ab90c093aa14f969cc7dd9">01777</a>       std::string <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a99f27056c0ab90c093aa14f969cc7dd9">typeName</a>()<span class="keyword"> const </span>{
<a name="l01778"></a>01778         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PriorNode&quot;</span>;
<a name="l01779"></a>01779       }
<a name="l01780"></a>01780       
<a name="l01781"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a95c776cbf1e6db97555bd64c0933709b">01781</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a95c776cbf1e6db97555bd64c0933709b">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01782"></a>01782         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l01783"></a>01783         <span class="keywordflow">return</span> hash( <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a>.c_str() ) + 9;
<a name="l01784"></a>01784       }
<a name="l01785"></a>01785       
<a name="l01786"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#ab34faef8ca780d72d69c2d761f683d5f">01786</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ab34faef8ca780d72d69c2d761f683d5f">getPriorName</a>()<span class="keyword"> const </span>{
<a name="l01787"></a>01787         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a>;
<a name="l01788"></a>01788       }
<a name="l01789"></a>01789 
<a name="l01790"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#a06dcdae7733fab34cb2e77bfe4e59e07">01790</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#a06dcdae7733fab34cb2e77bfe4e59e07">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01791"></a>01791         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l01792"></a>01792         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l01793"></a>01793       }
<a name="l01794"></a>01794 
<a name="l01795"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#ad7c0edbf1c91bf7c3458f28a6b09c27d">01795</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ad7c0edbf1c91bf7c3458f28a6b09c27d">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01796"></a>01796         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l01797"></a>01797         <a class="code" href="classindri_1_1lang_1_1PriorNode.html">PriorNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ac891ba7dcf9e680fb7f34c7ea51fd786">PriorNode</a>( this-&gt;<a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a> );
<a name="l01798"></a>01798         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l01799"></a>01799         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l01800"></a>01800       }
<a name="l01801"></a>01801 
<a name="l01802"></a><a class="code" href="classindri_1_1lang_1_1PriorNode.html#ad2e465b42e6f19c67effdda5889d91e4">01802</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1PriorNode.html#ad2e465b42e6f19c67effdda5889d91e4">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01803"></a>01803         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01804"></a>01804         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;priorName&quot;</span>, <a class="code" href="classindri_1_1lang_1_1PriorNode.html#abcfd48b0d961953d6ae55732e46d717f">_priorName</a> );
<a name="l01805"></a>01805         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01806"></a>01806       }
<a name="l01807"></a>01807     };
<a name="l01808"></a>01808 
<a name="l01809"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">01809</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01810"></a>01810     <span class="keyword">protected</span>:
<a name="l01811"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">01811</a>       std::vector&lt;ScoredExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>;
<a name="l01812"></a>01812 
<a name="l01813"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">01813</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">_unpack</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01814"></a>01814         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a77f655a597cde855304e9efa11969457">getScoredExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l01815"></a>01815       }
<a name="l01816"></a>01816 
<a name="l01817"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">01817</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">_hashCode</a>()<span class="keyword"> const </span>{
<a name="l01818"></a>01818         UINT64 accumulator = 0;
<a name="l01819"></a>01819 
<a name="l01820"></a>01820         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>.size(); i++ ) {
<a name="l01821"></a>01821           accumulator += <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>[i]-&gt;hashCode();
<a name="l01822"></a>01822         }
<a name="l01823"></a>01823 
<a name="l01824"></a>01824         <span class="keywordflow">return</span> accumulator;
<a name="l01825"></a>01825       }
<a name="l01826"></a>01826 
<a name="l01827"></a>01827       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l01828"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">01828</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">_walk</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01829"></a>01829         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(ptr);
<a name="l01830"></a>01830 
<a name="l01831"></a>01831         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>.size(); i++ ) {
<a name="l01832"></a>01832           <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>[i]-&gt;walk(walker);
<a name="l01833"></a>01833         }
<a name="l01834"></a>01834         
<a name="l01835"></a>01835         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(ptr);
<a name="l01836"></a>01836       }
<a name="l01837"></a>01837 
<a name="l01838"></a>01838       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l01839"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">01839</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">_copy</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01840"></a>01840         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(ptr);
<a name="l01841"></a>01841         
<a name="l01842"></a>01842         _ThisType* duplicate = <span class="keyword">new</span> _ThisType();
<a name="l01843"></a>01843         duplicate-&gt;setNodeName( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l01844"></a>01844         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>.size(); i++ ) {
<a name="l01845"></a>01845           duplicate-&gt;addChild( dynamic_cast&lt;ScoredExtentNode*&gt;(<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>[i]-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) );
<a name="l01846"></a>01846         } 
<a name="l01847"></a>01847 
<a name="l01848"></a>01848         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(ptr, duplicate);
<a name="l01849"></a>01849       }
<a name="l01850"></a>01850 
<a name="l01851"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">01851</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">_childText</a>( std::stringstream&amp; qtext )<span class="keyword"> const </span>{
<a name="l01852"></a>01852         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>.size(); i++ ) {
<a name="l01853"></a>01853           <span class="keywordflow">if</span>(i&gt;0) qtext &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l01854"></a>01854           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>[i]-&gt;queryText();
<a name="l01855"></a>01855         }
<a name="l01856"></a>01856       }
<a name="l01857"></a>01857 
<a name="l01858"></a>01858     <span class="keyword">public</span>:
<a name="l01859"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#ac52ca0a6444b9c2495ec12aa43ccb850">01859</a>       <span class="keyword">const</span> std::vector&lt;ScoredExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#ac52ca0a6444b9c2495ec12aa43ccb850">getChildren</a>() {
<a name="l01860"></a>01860         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>;
<a name="l01861"></a>01861       }
<a name="l01862"></a>01862 
<a name="l01863"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a45614d2f3f104e5e34d54b2f6a5c1617">01863</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a45614d2f3f104e5e34d54b2f6a5c1617">addChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
<a name="l01864"></a>01864         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a>.push_back( scoredNode );
<a name="l01865"></a>01865       }
<a name="l01866"></a>01866 
<a name="l01867"></a><a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#ad6698bbb69b3b9820ba9a770a07a62b4">01867</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#ad6698bbb69b3b9820ba9a770a07a62b4">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01868"></a>01868         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01869"></a>01869         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a38e475f04c5ed8ea2655f308b95077a4">_children</a> );
<a name="l01870"></a>01870         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01871"></a>01871       }
<a name="l01872"></a>01872     };
<a name="l01873"></a>01873 
<a name="l01874"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">01874</a>     <span class="comment">/* abstract */</span> <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01875"></a>01875     <span class="keyword">protected</span>:
<a name="l01876"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">01876</a>       std::vector&lt; std::pair&lt;double, ScoredExtentNode*&gt; &gt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>;
<a name="l01877"></a>01877 
<a name="l01878"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">01878</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">_unpack</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01879"></a>01879         std::vector&lt;double&gt; weights = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9aacda442386c2a8a2308020fbdbb4c8">getDoubleVector</a>( <span class="stringliteral">&quot;weights&quot;</span> );
<a name="l01880"></a>01880         std::vector&lt;ScoredExtentNode*&gt; nodes = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a77f655a597cde855304e9efa11969457">getScoredExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l01881"></a>01881 
<a name="l01882"></a>01882         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;weights.size(); i++ ) {
<a name="l01883"></a>01883           <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.push_back( std::make_pair( weights[i], nodes[i] ) );
<a name="l01884"></a>01884         }
<a name="l01885"></a>01885       }
<a name="l01886"></a>01886 
<a name="l01887"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">01887</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">_hashCode</a>()<span class="keyword"> const </span>{
<a name="l01888"></a>01888         UINT64 accumulator = 0;
<a name="l01889"></a>01889 
<a name="l01890"></a>01890         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.size(); i++ ) {
<a name="l01891"></a>01891           accumulator += (UINT64) (<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].first * 1000) + <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].second-&gt;hashCode();
<a name="l01892"></a>01892         }
<a name="l01893"></a>01893 
<a name="l01894"></a>01894         <span class="keywordflow">return</span> accumulator;
<a name="l01895"></a>01895       }
<a name="l01896"></a>01896 
<a name="l01897"></a>01897       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l01898"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">01898</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">_walk</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01899"></a>01899         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(ptr);
<a name="l01900"></a>01900         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.size(); i++ ) {
<a name="l01901"></a>01901           <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].second-&gt;walk(walker);
<a name="l01902"></a>01902         }
<a name="l01903"></a>01903         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(ptr);
<a name="l01904"></a>01904       }
<a name="l01905"></a>01905 
<a name="l01906"></a>01906       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l01907"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">01907</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">_copy</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01908"></a>01908         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(ptr);
<a name="l01909"></a>01909 
<a name="l01910"></a>01910         _ThisType* duplicate = <span class="keyword">new</span> _ThisType;
<a name="l01911"></a>01911         duplicate-&gt;setNodeName( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l01912"></a>01912         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.size(); i++ ) {
<a name="l01913"></a>01913           <span class="keywordtype">double</span> childWeight = <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].first;
<a name="l01914"></a>01914           <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* childCopy = <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].second-&gt;copy( copier );
<a name="l01915"></a>01915 
<a name="l01916"></a>01916           duplicate-&gt;addChild( childWeight, dynamic_cast&lt;ScoredExtentNode*&gt;(childCopy) );
<a name="l01917"></a>01917         }
<a name="l01918"></a>01918         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(ptr, duplicate);
<a name="l01919"></a>01919       }
<a name="l01920"></a>01920 
<a name="l01921"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">01921</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">_childText</a>( std::stringstream&amp; qtext )<span class="keyword"> const </span>{
<a name="l01922"></a>01922         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.size(); i++ ) {
<a name="l01923"></a>01923           <span class="keywordflow">if</span>(i&gt;0) qtext &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l01924"></a>01924           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].first
<a name="l01925"></a>01925                 &lt;&lt; <span class="stringliteral">&quot; &quot;</span>
<a name="l01926"></a>01926                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].second-&gt;queryText();
<a name="l01927"></a>01927         }
<a name="l01928"></a>01928       }
<a name="l01929"></a>01929 
<a name="l01930"></a>01930     <span class="keyword">public</span>:
<a name="l01931"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a0016ddcc6f47540c123ba82c39dd9035">01931</a>       <span class="keyword">const</span> std::vector&lt; std::pair&lt;double, ScoredExtentNode*&gt; &gt;&amp; <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a0016ddcc6f47540c123ba82c39dd9035">getChildren</a>() {
<a name="l01932"></a>01932         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>;
<a name="l01933"></a>01933       }
<a name="l01934"></a>01934 
<a name="l01935"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a6a1b8e9a7d0691cfcca3cf7e8c85235e">01935</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a6a1b8e9a7d0691cfcca3cf7e8c85235e">addChild</a>( <span class="keywordtype">double</span> weight, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
<a name="l01936"></a>01936         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.push_back( std::make_pair( weight, scoredNode) );
<a name="l01937"></a>01937       }
<a name="l01938"></a>01938 
<a name="l01939"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af04db1a619979f9ed495af1ae0573784">01939</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af04db1a619979f9ed495af1ae0573784">addChild</a>( <span class="keyword">const</span> std::string&amp; weight, <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) {
<a name="l01940"></a>01940         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a6a1b8e9a7d0691cfcca3cf7e8c85235e">addChild</a>( atof( weight.c_str() ), scoredNode );
<a name="l01941"></a>01941       }
<a name="l01942"></a>01942 
<a name="l01943"></a><a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#acaf4fa0eab02e8134f498dbece43fc1b">01943</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#acaf4fa0eab02e8134f498dbece43fc1b">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l01944"></a>01944         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l01945"></a>01945         
<a name="l01946"></a>01946         std::vector&lt;double&gt; weights;
<a name="l01947"></a>01947         std::vector&lt;ScoredExtentNode*&gt; nodes;
<a name="l01948"></a>01948 
<a name="l01949"></a>01949         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>.size(); i++ ) {
<a name="l01950"></a>01950           weights.push_back( <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].first );
<a name="l01951"></a>01951           nodes.push_back( <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a1e6bd10e3cbd6d934dc7952c901c9ee1">_children</a>[i].second );
<a name="l01952"></a>01952         }
<a name="l01953"></a>01953 
<a name="l01954"></a>01954         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;weights&quot;</span>, weights );
<a name="l01955"></a>01955         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, nodes );
<a name="l01956"></a>01956         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l01957"></a>01957       }
<a name="l01958"></a>01958     };
<a name="l01959"></a>01959 
<a name="l01960"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html">01960</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1OrNode.html">OrNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
<a name="l01961"></a>01961     <span class="keyword">public</span>:
<a name="l01962"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a0989b4fb3ae55aa63eb2ee1c6ff6f42e">01962</a>       <a class="code" href="classindri_1_1lang_1_1OrNode.html#a0989b4fb3ae55aa63eb2ee1c6ff6f42e">OrNode</a>() {}
<a name="l01963"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#af047e42c552de2404f8ebaff5a3c88b0">01963</a>       <a class="code" href="classindri_1_1lang_1_1OrNode.html#af047e42c552de2404f8ebaff5a3c88b0">OrNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l01964"></a>01964         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">_unpack</a>( unpacker );
<a name="l01965"></a>01965       }
<a name="l01966"></a>01966 
<a name="l01967"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a85f5e1da86467980ee0c069081c44f07">01967</a>       std::string <a class="code" href="classindri_1_1lang_1_1OrNode.html#a85f5e1da86467980ee0c069081c44f07">typeName</a>()<span class="keyword"> const </span>{
<a name="l01968"></a>01968         <span class="keywordflow">return</span> <span class="stringliteral">&quot;OrNode&quot;</span>;
<a name="l01969"></a>01969       }
<a name="l01970"></a>01970 
<a name="l01971"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#aeb5b46fa4a413e613148734b12f39eba">01971</a>       std::string <a class="code" href="classindri_1_1lang_1_1OrNode.html#aeb5b46fa4a413e613148734b12f39eba">queryText</a>()<span class="keyword"> const </span>{
<a name="l01972"></a>01972         std::stringstream qtext;
<a name="l01973"></a>01973         qtext &lt;&lt; <span class="stringliteral">&quot;#or(&quot;</span>;
<a name="l01974"></a>01974         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">_childText</a>(qtext);
<a name="l01975"></a>01975         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l01976"></a>01976 
<a name="l01977"></a>01977         <span class="keywordflow">return</span> qtext.str();
<a name="l01978"></a>01978       } 
<a name="l01979"></a>01979 
<a name="l01980"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#aa48ec1b743ca56e38c2a6706653ae918">01980</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1OrNode.html#aa48ec1b743ca56e38c2a6706653ae918">hashCode</a>()<span class="keyword"> const </span>{
<a name="l01981"></a>01981         <span class="keywordflow">return</span> 55 + <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">_hashCode</a>();
<a name="l01982"></a>01982       }
<a name="l01983"></a>01983 
<a name="l01984"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#aac664806fb3e1e2179acaaba155bda4b">01984</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1OrNode.html#aac664806fb3e1e2179acaaba155bda4b">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l01985"></a>01985         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l01986"></a>01986       }
<a name="l01987"></a>01987       
<a name="l01988"></a><a class="code" href="classindri_1_1lang_1_1OrNode.html#a3de43ba29f54a83073cd1717f23e5fbb">01988</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1OrNode.html#a3de43ba29f54a83073cd1717f23e5fbb">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l01989"></a>01989         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l01990"></a>01990       }
<a name="l01991"></a>01991     };
<a name="l01992"></a>01992 
<a name="l01993"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html">01993</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1NotNode.html">NotNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l01994"></a>01994     <span class="keyword">private</span>:
<a name="l01995"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">01995</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>;
<a name="l01996"></a>01996 
<a name="l01997"></a>01997     <span class="keyword">public</span>:
<a name="l01998"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a020444a89f6854844de6939b5cadbc6c">01998</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#a020444a89f6854844de6939b5cadbc6c">NotNode</a>() {
<a name="l01999"></a>01999         <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a> = 0;
<a name="l02000"></a>02000       }
<a name="l02001"></a>02001 
<a name="l02002"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#aa0c3c36b625b57576e25cb7ce98691a8">02002</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#aa0c3c36b625b57576e25cb7ce98691a8">NotNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
<a name="l02003"></a>02003         <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a> = child;
<a name="l02004"></a>02004       }
<a name="l02005"></a>02005 
<a name="l02006"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#ac7257bc0879fb4d21d13ca08fd2afabb">02006</a>       <a class="code" href="classindri_1_1lang_1_1NotNode.html#ac7257bc0879fb4d21d13ca08fd2afabb">NotNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02007"></a>02007         <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;child&quot;</span> );
<a name="l02008"></a>02008       }
<a name="l02009"></a>02009 
<a name="l02010"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a7a5685c596e968b36c326b3624258f08">02010</a>       std::string <a class="code" href="classindri_1_1lang_1_1NotNode.html#a7a5685c596e968b36c326b3624258f08">typeName</a>()<span class="keyword"> const </span>{
<a name="l02011"></a>02011         <span class="keywordflow">return</span> <span class="stringliteral">&quot;NotNode&quot;</span>;
<a name="l02012"></a>02012       }
<a name="l02013"></a>02013 
<a name="l02014"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a87a7d41bafca19b7999464e80fc34b12">02014</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#a87a7d41bafca19b7999464e80fc34b12">getChild</a>() {
<a name="l02015"></a>02015         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>;
<a name="l02016"></a>02016       }
<a name="l02017"></a>02017 
<a name="l02018"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#af66ff59be877f2e9e842e2d798b1bdd8">02018</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1NotNode.html#af66ff59be877f2e9e842e2d798b1bdd8">setChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
<a name="l02019"></a>02019         <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a> = child;
<a name="l02020"></a>02020       }
<a name="l02021"></a>02021 
<a name="l02022"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a76c3b3395fc362bd626d8631cac1e853">02022</a>       std::string <a class="code" href="classindri_1_1lang_1_1NotNode.html#a76c3b3395fc362bd626d8631cac1e853">queryText</a>()<span class="keyword"> const </span>{
<a name="l02023"></a>02023         std::stringstream qtext;
<a name="l02024"></a>02024         qtext &lt;&lt; <span class="stringliteral">&quot;#not(&quot;</span>;
<a name="l02025"></a>02025         qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02026"></a>02026         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02027"></a>02027 
<a name="l02028"></a>02028         <span class="keywordflow">return</span> qtext.str();
<a name="l02029"></a>02029       } 
<a name="l02030"></a>02030 
<a name="l02031"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a8d46c17e2eb3eaa26507baa6f6fa1dca">02031</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1NotNode.html#a8d46c17e2eb3eaa26507baa6f6fa1dca">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02032"></a>02032         <span class="keywordflow">return</span> 101 + <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l02033"></a>02033       }
<a name="l02034"></a>02034 
<a name="l02035"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#afe1216fcdfe74eaf46eacc26fa651ba9">02035</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1NotNode.html#afe1216fcdfe74eaf46eacc26fa651ba9">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02036"></a>02036         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02037"></a>02037         <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02038"></a>02038         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02039"></a>02039       }
<a name="l02040"></a>02040 
<a name="l02041"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a0dac3b110dfbd999888ff30e42242549">02041</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a0dac3b110dfbd999888ff30e42242549">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02042"></a>02042         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02043"></a>02043         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;child&quot;</span>, <a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a> );
<a name="l02044"></a>02044         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02045"></a>02045       }
<a name="l02046"></a>02046 
<a name="l02047"></a><a class="code" href="classindri_1_1lang_1_1NotNode.html#a21c3c96580cbac1346b2991041f5b815">02047</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1NotNode.html#a21c3c96580cbac1346b2991041f5b815">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02048"></a>02048         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>( <span class="keyword">this</span> );
<a name="l02049"></a>02049         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* childDuplicate = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1NotNode.html#ae7c1b3f9c56a98914f67a48fb4ab0f71">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02050"></a>02050         <a class="code" href="classindri_1_1lang_1_1NotNode.html">NotNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1NotNode.html#a020444a89f6854844de6939b5cadbc6c">NotNode</a>( childDuplicate );
<a name="l02051"></a>02051         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02052"></a>02052         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>( <span class="keyword">this</span>, duplicate );
<a name="l02053"></a>02053       }
<a name="l02054"></a>02054     };
<a name="l02055"></a>02055 
<a name="l02056"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html">02056</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1MaxNode.html">MaxNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
<a name="l02057"></a>02057     <span class="keyword">public</span>:
<a name="l02058"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a03ecc0c83317ed38067a0aa4d95bfb05">02058</a>       <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a03ecc0c83317ed38067a0aa4d95bfb05">MaxNode</a>() {}
<a name="l02059"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a4f8659d23716ccc25932eea9f2b7f32f">02059</a>       <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a4f8659d23716ccc25932eea9f2b7f32f">MaxNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02060"></a>02060         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">_unpack</a>( unpacker );
<a name="l02061"></a>02061       }
<a name="l02062"></a>02062 
<a name="l02063"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a2efa6222a6e2f15a952845f9e6bc62ec">02063</a>       std::string <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a2efa6222a6e2f15a952845f9e6bc62ec">typeName</a>()<span class="keyword"> const </span>{
<a name="l02064"></a>02064         <span class="keywordflow">return</span> <span class="stringliteral">&quot;MaxNode&quot;</span>;
<a name="l02065"></a>02065       }
<a name="l02066"></a>02066 
<a name="l02067"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#aed0953a0ff6576ace06ad0e261448a57">02067</a>       std::string <a class="code" href="classindri_1_1lang_1_1MaxNode.html#aed0953a0ff6576ace06ad0e261448a57">queryText</a>()<span class="keyword"> const </span>{
<a name="l02068"></a>02068         std::stringstream qtext;
<a name="l02069"></a>02069         qtext &lt;&lt; <span class="stringliteral">&quot;#max(&quot;</span>;
<a name="l02070"></a>02070         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">_childText</a>(qtext);
<a name="l02071"></a>02071         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02072"></a>02072 
<a name="l02073"></a>02073         <span class="keywordflow">return</span> qtext.str();
<a name="l02074"></a>02074       } 
<a name="l02075"></a>02075 
<a name="l02076"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a66af54eaa67d386595f5671b7555ac5c">02076</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a66af54eaa67d386595f5671b7555ac5c">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02077"></a>02077         <span class="keywordflow">return</span> 57 + <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">_hashCode</a>();
<a name="l02078"></a>02078       }
<a name="l02079"></a>02079 
<a name="l02080"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a93b8f18bd6993d53f0acb34915e8dd01">02080</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a93b8f18bd6993d53f0acb34915e8dd01">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02081"></a>02081         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">_walk</a>(<span class="keyword">this</span>, walker);
<a name="l02082"></a>02082       }
<a name="l02083"></a>02083 
<a name="l02084"></a><a class="code" href="classindri_1_1lang_1_1MaxNode.html#a59220d853907165d702dfc847c1cd8d7">02084</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1MaxNode.html#a59220d853907165d702dfc847c1cd8d7">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02085"></a>02085         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l02086"></a>02086       }
<a name="l02087"></a>02087     };
<a name="l02088"></a>02088 
<a name="l02089"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html">02089</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1CombineNode.html">CombineNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
<a name="l02090"></a>02090     <span class="keyword">public</span>:
<a name="l02091"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a813e8d9a2bb38e270a8412cb90e18ece">02091</a>       <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a813e8d9a2bb38e270a8412cb90e18ece">CombineNode</a>() {}
<a name="l02092"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#af297b4140a5bef3fb71ba0a8811527d9">02092</a>       <a class="code" href="classindri_1_1lang_1_1CombineNode.html#af297b4140a5bef3fb71ba0a8811527d9">CombineNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02093"></a>02093         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">_unpack</a>( unpacker );
<a name="l02094"></a>02094       }
<a name="l02095"></a>02095 
<a name="l02096"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#ae3d310b3e25c8573bad6a16daa152fbb">02096</a>       std::string <a class="code" href="classindri_1_1lang_1_1CombineNode.html#ae3d310b3e25c8573bad6a16daa152fbb">typeName</a>()<span class="keyword"> const </span>{
<a name="l02097"></a>02097         <span class="keywordflow">return</span> <span class="stringliteral">&quot;CombineNode&quot;</span>;
<a name="l02098"></a>02098       }
<a name="l02099"></a>02099 
<a name="l02100"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a51a1ce4ed517959ceb2c41fe58b6ebd0">02100</a>       std::string <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a51a1ce4ed517959ceb2c41fe58b6ebd0">queryText</a>()<span class="keyword"> const </span>{
<a name="l02101"></a>02101         std::stringstream qtext;
<a name="l02102"></a>02102         qtext &lt;&lt; <span class="stringliteral">&quot;#combine(&quot;</span>;
<a name="l02103"></a>02103         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">_childText</a>(qtext);
<a name="l02104"></a>02104         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02105"></a>02105 
<a name="l02106"></a>02106         <span class="keywordflow">return</span> qtext.str();
<a name="l02107"></a>02107       } 
<a name="l02108"></a>02108 
<a name="l02109"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#aa127bcfa496a8f045d0d353548ecc805">02109</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1CombineNode.html#aa127bcfa496a8f045d0d353548ecc805">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02110"></a>02110         <span class="keywordflow">return</span> 59 + <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">_hashCode</a>();
<a name="l02111"></a>02111       }
<a name="l02112"></a>02112 
<a name="l02113"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a9e8371bbf55148f1d1d632b96fcf24c6">02113</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a9e8371bbf55148f1d1d632b96fcf24c6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02114"></a>02114         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l02115"></a>02115       }
<a name="l02116"></a>02116       
<a name="l02117"></a><a class="code" href="classindri_1_1lang_1_1CombineNode.html#a9ed40dfd4b94645907cc77bb4d5ab42f">02117</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1CombineNode.html#a9ed40dfd4b94645907cc77bb4d5ab42f">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02118"></a>02118         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l02119"></a>02119       }
<a name="l02120"></a>02120     };
<a name="l02121"></a>02121 
<a name="l02122"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html">02122</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WAndNode.html">WAndNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
<a name="l02123"></a>02123     <span class="keyword">public</span>:
<a name="l02124"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a8ba92346edf1347562cfbfe01feb1765">02124</a>       <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a8ba92346edf1347562cfbfe01feb1765">WAndNode</a>() {}
<a name="l02125"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a806fc94a29e04f374f24119c70494763">02125</a>       <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a806fc94a29e04f374f24119c70494763">WAndNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02126"></a>02126         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">_unpack</a>( unpacker );
<a name="l02127"></a>02127       }
<a name="l02128"></a>02128 
<a name="l02129"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#ae3576e0ebffad847de4c7e9309368a59">02129</a>       std::string <a class="code" href="classindri_1_1lang_1_1WAndNode.html#ae3576e0ebffad847de4c7e9309368a59">typeName</a>()<span class="keyword"> const </span>{
<a name="l02130"></a>02130         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WAndNode&quot;</span>;
<a name="l02131"></a>02131       }
<a name="l02132"></a>02132 
<a name="l02133"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a2fd005c26be335e299c4c4f89a2b37fb">02133</a>       std::string <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a2fd005c26be335e299c4c4f89a2b37fb">queryText</a>()<span class="keyword"> const </span>{
<a name="l02134"></a>02134         std::stringstream qtext;
<a name="l02135"></a>02135         qtext &lt;&lt; <span class="stringliteral">&quot;#wand(&quot;</span>;
<a name="l02136"></a>02136         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">_childText</a>(qtext);
<a name="l02137"></a>02137         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02138"></a>02138 
<a name="l02139"></a>02139         <span class="keywordflow">return</span> qtext.str();
<a name="l02140"></a>02140       } 
<a name="l02141"></a>02141 
<a name="l02142"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a5379b8dda9c9d9f99559b76f8ba86096">02142</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a5379b8dda9c9d9f99559b76f8ba86096">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02143"></a>02143         <span class="keywordflow">return</span> 61 + <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">_hashCode</a>();
<a name="l02144"></a>02144       }
<a name="l02145"></a>02145 
<a name="l02146"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a8636e93a468b637fa4a41e32c9f9c44a">02146</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a8636e93a468b637fa4a41e32c9f9c44a">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02147"></a>02147         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l02148"></a>02148       }
<a name="l02149"></a>02149 
<a name="l02150"></a><a class="code" href="classindri_1_1lang_1_1WAndNode.html#a30beab2941722ec06a43de8c487fa54c">02150</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WAndNode.html#a30beab2941722ec06a43de8c487fa54c">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02151"></a>02151         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l02152"></a>02152       }
<a name="l02153"></a>02153     };
<a name="l02154"></a>02154 
<a name="l02155"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html">02155</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WSumNode.html">WSumNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
<a name="l02156"></a>02156     <span class="keyword">public</span>:
<a name="l02157"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a6b286940bfc346683764baf13ef58295">02157</a>       <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a6b286940bfc346683764baf13ef58295">WSumNode</a>() {}
<a name="l02158"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#af7fff98afa6f7ee8cbbe863eaab6146b">02158</a>       <a class="code" href="classindri_1_1lang_1_1WSumNode.html#af7fff98afa6f7ee8cbbe863eaab6146b">WSumNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02159"></a>02159         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">_unpack</a>( unpacker );
<a name="l02160"></a>02160       }
<a name="l02161"></a>02161 
<a name="l02162"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a069803c06b7d64d616ab474f26f963ba">02162</a>       std::string <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a069803c06b7d64d616ab474f26f963ba">typeName</a>()<span class="keyword"> const </span>{
<a name="l02163"></a>02163         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WSumNode&quot;</span>;
<a name="l02164"></a>02164       }
<a name="l02165"></a>02165 
<a name="l02166"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#ab5d35d22dff3d3f2eb15614a481f4ca5">02166</a>       std::string <a class="code" href="classindri_1_1lang_1_1WSumNode.html#ab5d35d22dff3d3f2eb15614a481f4ca5">queryText</a>()<span class="keyword"> const </span>{
<a name="l02167"></a>02167         std::stringstream qtext;
<a name="l02168"></a>02168         qtext &lt;&lt; <span class="stringliteral">&quot;#wsum(&quot;</span>;
<a name="l02169"></a>02169         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">_childText</a>(qtext);
<a name="l02170"></a>02170         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02171"></a>02171 
<a name="l02172"></a>02172         <span class="keywordflow">return</span> qtext.str();
<a name="l02173"></a>02173       } 
<a name="l02174"></a>02174 
<a name="l02175"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#af42a18707abc74bc567a0fae0a6fb763">02175</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WSumNode.html#af42a18707abc74bc567a0fae0a6fb763">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02176"></a>02176         <span class="keywordflow">return</span> 67 + <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">_hashCode</a>();
<a name="l02177"></a>02177       }
<a name="l02178"></a>02178 
<a name="l02179"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a8152a21f702d3edfa528491cba76c69a">02179</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a8152a21f702d3edfa528491cba76c69a">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02180"></a>02180         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l02181"></a>02181       }
<a name="l02182"></a>02182 
<a name="l02183"></a><a class="code" href="classindri_1_1lang_1_1WSumNode.html#a2f20ecbd531137414a36e56fcc7d0d85">02183</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WSumNode.html#a2f20ecbd531137414a36e56fcc7d0d85">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02184"></a>02184         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l02185"></a>02185       }
<a name="l02186"></a>02186     };
<a name="l02187"></a>02187 
<a name="l02188"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html">02188</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WeightNode.html">WeightNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
<a name="l02189"></a>02189     <span class="keyword">public</span>:
<a name="l02190"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#acda3366832a5e584df7bc78e6e9b0c87">02190</a>       <a class="code" href="classindri_1_1lang_1_1WeightNode.html#acda3366832a5e584df7bc78e6e9b0c87">WeightNode</a>() {}
<a name="l02191"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#ade43958886f9f974b4bf3e10a21a8065">02191</a>       <a class="code" href="classindri_1_1lang_1_1WeightNode.html#ade43958886f9f974b4bf3e10a21a8065">WeightNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02192"></a>02192         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">_unpack</a>( unpacker );
<a name="l02193"></a>02193       }
<a name="l02194"></a>02194 
<a name="l02195"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a3fb98b489132fbfefd033854d6ce8974">02195</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a3fb98b489132fbfefd033854d6ce8974">typeName</a>()<span class="keyword"> const </span>{
<a name="l02196"></a>02196         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WeightNode&quot;</span>;
<a name="l02197"></a>02197       }
<a name="l02198"></a>02198 
<a name="l02199"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a0c5115ca8f0e9fb90b71e39e09ac4f81">02199</a>       std::string <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a0c5115ca8f0e9fb90b71e39e09ac4f81">queryText</a>()<span class="keyword"> const </span>{
<a name="l02200"></a>02200         std::stringstream qtext;
<a name="l02201"></a>02201         qtext &lt;&lt; <span class="stringliteral">&quot;#weight(&quot;</span>;
<a name="l02202"></a>02202         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">_childText</a>(qtext);
<a name="l02203"></a>02203         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02204"></a>02204 
<a name="l02205"></a>02205         <span class="keywordflow">return</span> qtext.str();
<a name="l02206"></a>02206       }
<a name="l02207"></a>02207 
<a name="l02208"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a24b64f7a0240b1ed9838ffd0021a8440">02208</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a24b64f7a0240b1ed9838ffd0021a8440">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02209"></a>02209         <span class="keywordflow">return</span> 71 + <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">_hashCode</a>();
<a name="l02210"></a>02210       }
<a name="l02211"></a>02211 
<a name="l02212"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#af0071cb46a7f057d6619e82007d5f034">02212</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WeightNode.html#af0071cb46a7f057d6619e82007d5f034">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02213"></a>02213         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l02214"></a>02214       }
<a name="l02215"></a>02215 
<a name="l02216"></a><a class="code" href="classindri_1_1lang_1_1WeightNode.html#a4f978f4dff8aa2537c7d29f0205b3131">02216</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WeightNode.html#a4f978f4dff8aa2537c7d29f0205b3131">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02217"></a>02217         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l02218"></a>02218       }
<a name="l02219"></a>02219     };
<a name="l02220"></a>02220 
<a name="l02221"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">02221</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l02222"></a>02222     <span class="keyword">protected</span>:
<a name="l02223"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">02223</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>;
<a name="l02224"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">02224</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>;
<a name="l02225"></a>02225 
<a name="l02226"></a>02226     <span class="keyword">public</span>:
<a name="l02227"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4904523a96102099499dd5fc1e4aad00">02227</a>       <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4904523a96102099499dd5fc1e4aad00">ExtentRestriction</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02228"></a>02228         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>(<span class="stringliteral">&quot;child&quot;</span>);
<a name="l02229"></a>02229         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>(<span class="stringliteral">&quot;field&quot;</span>);
<a name="l02230"></a>02230       }
<a name="l02231"></a>02231 
<a name="l02232"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a922bdfab4edb10043edec4b22dcd6f38">02232</a>       <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4904523a96102099499dd5fc1e4aad00">ExtentRestriction</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field ) :
<a name="l02233"></a>02233         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>(child),
<a name="l02234"></a>02234         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>(field)
<a name="l02235"></a>02235       {
<a name="l02236"></a>02236       }
<a name="l02237"></a>02237 
<a name="l02238"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a824bfba4bf886bd3050f372144f2c767">02238</a>       <span class="keyword">virtual</span> std::string <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a824bfba4bf886bd3050f372144f2c767">typeName</a>()<span class="keyword"> const </span>{
<a name="l02239"></a>02239         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentRestriction&quot;</span>;
<a name="l02240"></a>02240       }
<a name="l02241"></a>02241 
<a name="l02242"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a6ecfdfa425a35a76120d4a00b9cf2648">02242</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a6ecfdfa425a35a76120d4a00b9cf2648">queryText</a>()<span class="keyword"> const </span>{
<a name="l02243"></a>02243         std::stringstream qtext;
<a name="l02244"></a>02244         <span class="comment">// this extent restriction is almost certainly because of some #combine or #max operator</span>
<a name="l02245"></a>02245         <span class="comment">// in the _child position.  We look for the first parenthesis (e.g. #combine(dog cat)) and</span>
<a name="l02246"></a>02246         <span class="comment">// insert the brackets in.</span>
<a name="l02247"></a>02247         
<a name="l02248"></a>02248         std::string childText = <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02249"></a>02249         std::string::size_type pos = childText.find( <span class="charliteral">&apos;(&apos;</span> );
<a name="l02250"></a>02250 
<a name="l02251"></a>02251         <span class="keywordflow">if</span>( pos != std::string::npos ) {
<a name="l02252"></a>02252           qtext &lt;&lt; childText.substr(0,pos) 
<a name="l02253"></a>02253                 &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>
<a name="l02254"></a>02254                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l02255"></a>02255                 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>
<a name="l02256"></a>02256                 &lt;&lt; childText.substr(pos);
<a name="l02257"></a>02257         } <span class="keywordflow">else</span> {
<a name="l02258"></a>02258           <span class="comment">// couldn&apos;t find a parenthesis, so we&apos;ll tack the [field] on the front</span>
<a name="l02259"></a>02259           qtext &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>
<a name="l02260"></a>02260                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>()
<a name="l02261"></a>02261                 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>
<a name="l02262"></a>02262                 &lt;&lt; childText;
<a name="l02263"></a>02263         }
<a name="l02264"></a>02264 
<a name="l02265"></a>02265         <span class="keywordflow">return</span> qtext.str();
<a name="l02266"></a>02266       }
<a name="l02267"></a>02267 
<a name="l02268"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a1101bf144c7a50a3b5dde93fdf4f22a3">02268</a>       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a1101bf144c7a50a3b5dde93fdf4f22a3">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02269"></a>02269         <span class="keywordflow">return</span> 79 + <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7 + <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l02270"></a>02270       }
<a name="l02271"></a>02271 
<a name="l02272"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#ae63e07a7e0637bb6693dc10a39cfa778">02272</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#ae63e07a7e0637bb6693dc10a39cfa778">getChild</a>() {
<a name="l02273"></a>02273         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>;
<a name="l02274"></a>02274       }
<a name="l02275"></a>02275 
<a name="l02276"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a98edc091a417abe76b88bef82c8b0ce7">02276</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a98edc091a417abe76b88bef82c8b0ce7">getField</a>() {
<a name="l02277"></a>02277         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>;
<a name="l02278"></a>02278       }
<a name="l02279"></a>02279 
<a name="l02280"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa0f01b7774190b21b59cfb0077be5350">02280</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa0f01b7774190b21b59cfb0077be5350">setChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
<a name="l02281"></a>02281         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a> = child;
<a name="l02282"></a>02282       }
<a name="l02283"></a>02283 
<a name="l02284"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a50a3b932391ff5a284e7f8479d225b80">02284</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a50a3b932391ff5a284e7f8479d225b80">setField</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field ) {
<a name="l02285"></a>02285         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a> = field;
<a name="l02286"></a>02286       }
<a name="l02287"></a>02287       
<a name="l02288"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a37c5c5e490f8eba3aae450e2b79f5945">02288</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a37c5c5e490f8eba3aae450e2b79f5945">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02289"></a>02289         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02290"></a>02290         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;child&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>);
<a name="l02291"></a>02291         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>);
<a name="l02292"></a>02292         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02293"></a>02293       }
<a name="l02294"></a>02294 
<a name="l02295"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a597c5eb931bff9e8cfa87f2b60e69daa">02295</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a597c5eb931bff9e8cfa87f2b60e69daa">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02296"></a>02296         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02297"></a>02297         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02298"></a>02298         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02299"></a>02299         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02300"></a>02300       }
<a name="l02301"></a>02301 
<a name="l02302"></a><a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a235d0a567413dc304f6bc877449d9160">02302</a>       <span class="keyword">virtual</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a235d0a567413dc304f6bc877449d9160">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02303"></a>02303         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02304"></a>02304 
<a name="l02305"></a>02305         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">indri::lang::ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02306"></a>02306         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateField = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02307"></a>02307         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#a4904523a96102099499dd5fc1e4aad00">ExtentRestriction</a>( duplicateChild, duplicateField );
<a name="l02308"></a>02308         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02309"></a>02309         
<a name="l02310"></a>02310         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02311"></a>02311       }
<a name="l02312"></a>02312     };
<a name="l02313"></a>02313 
<a name="l02314"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html">02314</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FixedPassage.html">FixedPassage</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l02315"></a>02315     <span class="keyword">private</span>:
<a name="l02316"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">02316</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>;
<a name="l02317"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">02317</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>;
<a name="l02318"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">02318</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>;
<a name="l02319"></a>02319 
<a name="l02320"></a>02320     <span class="keyword">public</span>:
<a name="l02321"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ac9780fa718e2059cf48d0d951f6bc1e2">02321</a>       <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ac9780fa718e2059cf48d0d951f6bc1e2">FixedPassage</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02322"></a>02322         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>(<span class="stringliteral">&quot;child&quot;</span>);
<a name="l02323"></a>02323         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a> = (int)unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;windowSize&quot;</span>);
<a name="l02324"></a>02324         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a> = (int)unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>(<span class="stringliteral">&quot;increment&quot;</span>);
<a name="l02325"></a>02325       }
<a name="l02326"></a>02326 
<a name="l02327"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa44ab6398ea2e09e5565f124e49a62b5">02327</a>       <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ac9780fa718e2059cf48d0d951f6bc1e2">FixedPassage</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, <span class="keywordtype">int</span> windowSize, <span class="keywordtype">int</span> <a class="code" href="namespaceindri_1_1atomic.html#a590599febd5bc4c43564dae7fdf9a6a5">increment</a> ) :
<a name="l02328"></a>02328         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>(child),
<a name="l02329"></a>02329         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>(windowSize),
<a name="l02330"></a>02330         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>(increment)
<a name="l02331"></a>02331       {
<a name="l02332"></a>02332       }
<a name="l02333"></a>02333 
<a name="l02334"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a6c336096a23859fb2d56b9f0478d1e12">02334</a>       std::string <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a6c336096a23859fb2d56b9f0478d1e12">typeName</a>()<span class="keyword"> const </span>{
<a name="l02335"></a>02335         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FixedPassage&quot;</span>;
<a name="l02336"></a>02336       }
<a name="l02337"></a>02337 
<a name="l02338"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ad48409bb22028822536067d3ed4af58b">02338</a>       std::string <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ad48409bb22028822536067d3ed4af58b">queryText</a>()<span class="keyword"> const </span>{
<a name="l02339"></a>02339         std::stringstream qtext;
<a name="l02340"></a>02340         <span class="comment">// this extent restriction is almost certainly because of some #combine or #max operator</span>
<a name="l02341"></a>02341         <span class="comment">// in the _child position.  We look for the first parenthesis (e.g. #combine(dog cat)) and</span>
<a name="l02342"></a>02342         <span class="comment">// insert the brackets in.</span>
<a name="l02343"></a>02343         
<a name="l02344"></a>02344         std::string childText = <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02345"></a>02345         std::string::size_type pos = childText.find( <span class="charliteral">&apos;(&apos;</span> );
<a name="l02346"></a>02346 
<a name="l02347"></a>02347         <span class="keywordflow">if</span>( pos != std::string::npos ) {
<a name="l02348"></a>02348           qtext &lt;&lt; childText.substr(0,pos) 
<a name="l02349"></a>02349                 &lt;&lt; <span class="stringliteral">&quot;[passage&quot;</span>
<a name="l02350"></a>02350                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>
<a name="l02351"></a>02351                 &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>
<a name="l02352"></a>02352                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>
<a name="l02353"></a>02353                 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>
<a name="l02354"></a>02354                 &lt;&lt; childText.substr(pos);
<a name="l02355"></a>02355         } <span class="keywordflow">else</span> {
<a name="l02356"></a>02356           <span class="comment">// couldn&apos;t find a parenthesis, so we&apos;ll tack the [field] on the front</span>
<a name="l02357"></a>02357           qtext &lt;&lt; <span class="stringliteral">&quot;[passage&quot;</span>
<a name="l02358"></a>02358                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>
<a name="l02359"></a>02359                 &lt;&lt; <span class="stringliteral">&quot;:&quot;</span>
<a name="l02360"></a>02360                 &lt;&lt; <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>
<a name="l02361"></a>02361                 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>
<a name="l02362"></a>02362                 &lt;&lt; childText;
<a name="l02363"></a>02363         }
<a name="l02364"></a>02364 
<a name="l02365"></a>02365         <span class="keywordflow">return</span> qtext.str();
<a name="l02366"></a>02366       } 
<a name="l02367"></a>02367 
<a name="l02368"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a2e51f4d79cd863541d586c81778525c3">02368</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a2e51f4d79cd863541d586c81778525c3">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02369"></a>02369         <span class="keywordflow">return</span> 83 + <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a> * 3 + <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>;
<a name="l02370"></a>02370       }
<a name="l02371"></a>02371 
<a name="l02372"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#acdd8302e506baa56cd665062349ce2d0">02372</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#acdd8302e506baa56cd665062349ce2d0">getChild</a>() {
<a name="l02373"></a>02373         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>;
<a name="l02374"></a>02374       }
<a name="l02375"></a>02375 
<a name="l02376"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#abf11ed9ba3f5546cd88435d0c2ddc483">02376</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#abf11ed9ba3f5546cd88435d0c2ddc483">getWindowSize</a>() {
<a name="l02377"></a>02377         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>;
<a name="l02378"></a>02378       }
<a name="l02379"></a>02379 
<a name="l02380"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a893b6067ecfd9de0edc80d474d41ef3b">02380</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a893b6067ecfd9de0edc80d474d41ef3b">getIncrement</a>() {
<a name="l02381"></a>02381         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>;
<a name="l02382"></a>02382       }
<a name="l02383"></a>02383 
<a name="l02384"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af11fb1dc137fcff8ce3e891d9c7e21c2">02384</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af11fb1dc137fcff8ce3e891d9c7e21c2">setChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child ) {
<a name="l02385"></a>02385         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a> = child;
<a name="l02386"></a>02386       }
<a name="l02387"></a>02387 
<a name="l02388"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a7737a31228cbff3a2fa234fff785de78">02388</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a7737a31228cbff3a2fa234fff785de78">setWindowSize</a>( <span class="keywordtype">int</span> windowSize ) {
<a name="l02389"></a>02389         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a> = windowSize;
<a name="l02390"></a>02390       }
<a name="l02391"></a>02391 
<a name="l02392"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a1bf7ad3e06fb3b8e978ee26839c3adc5">02392</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a1bf7ad3e06fb3b8e978ee26839c3adc5">setIncrement</a>( <span class="keywordtype">int</span> <a class="code" href="namespaceindri_1_1atomic.html#a590599febd5bc4c43564dae7fdf9a6a5">increment</a> ) {
<a name="l02393"></a>02393         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a> = increment;
<a name="l02394"></a>02394       }
<a name="l02395"></a>02395 
<a name="l02396"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a002eb834e60599aa0d5d37f79d5cda73">02396</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a002eb834e60599aa0d5d37f79d5cda73">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02397"></a>02397         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02398"></a>02398         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;child&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>);
<a name="l02399"></a>02399         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;increment&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a>);
<a name="l02400"></a>02400         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;windowSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>);
<a name="l02401"></a>02401         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02402"></a>02402       }
<a name="l02403"></a>02403 
<a name="l02404"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a850a96c4d6f45fcc2e3bba8007419415">02404</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a850a96c4d6f45fcc2e3bba8007419415">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02405"></a>02405         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02406"></a>02406         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02407"></a>02407         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02408"></a>02408       }
<a name="l02409"></a>02409 
<a name="l02410"></a><a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aea9b4d529673f0f9bfa74d4af300013a">02410</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aea9b4d529673f0f9bfa74d4af300013a">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02411"></a>02411         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02412"></a>02412 
<a name="l02413"></a>02413         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">indri::lang::ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FixedPassage.html#aa6c0d05baff875b00d1c29ff42fab4ce">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02414"></a>02414         <a class="code" href="classindri_1_1lang_1_1FixedPassage.html">FixedPassage</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#ac9780fa718e2059cf48d0d951f6bc1e2">FixedPassage</a>( duplicateChild,
<a name="l02415"></a>02415                                                     <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#a60ae39bdf305b5fecc1854e3993416a6">_windowSize</a>,
<a name="l02416"></a>02416                                                     <a class="code" href="classindri_1_1lang_1_1FixedPassage.html#af87715ec2d0b94708519c94b2923e9ec">_increment</a> );
<a name="l02417"></a>02417         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02418"></a>02418         
<a name="l02419"></a>02419         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02420"></a>02420       }
<a name="l02421"></a>02421     };
<a name="l02422"></a>02422 
<a name="l02423"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html">02423</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FilterNode.html">FilterNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l02424"></a>02424     <span class="keyword">private</span>:
<a name="l02425"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">02425</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>;
<a name="l02426"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">02426</a>       std::vector&lt;lemur::api::DOCID_T&gt; <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>;
<a name="l02427"></a>02427 
<a name="l02428"></a>02428     <span class="keyword">public</span>:
<a name="l02429"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a97457fe1cf479899c84f632211c5dff4">02429</a>       <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a97457fe1cf479899c84f632211c5dff4">FilterNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, std::vector&lt;lemur::api::DOCID_T&gt;&amp; documents ) : 
<a name="l02430"></a>02430         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>(child),
<a name="l02431"></a>02431         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>(documents)
<a name="l02432"></a>02432       {
<a name="l02433"></a>02433       }
<a name="l02434"></a>02434 
<a name="l02435"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a91904fe93c5cb1bfe83de075e7968350">02435</a>       <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a91904fe93c5cb1bfe83de075e7968350">FilterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02436"></a>02436         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;child&quot;</span> );
<a name="l02437"></a>02437         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#aeda9de6de46f7f9542e81fda259df939">getDocIdVector</a>( <span class="stringliteral">&quot;documents&quot;</span> );
<a name="l02438"></a>02438       }
<a name="l02439"></a>02439 
<a name="l02440"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a67030565858d13902566d5ddcdd1d6d7">02440</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a67030565858d13902566d5ddcdd1d6d7">typeName</a>()<span class="keyword"> const </span>{
<a name="l02441"></a>02441         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FilterNode&quot;</span>;
<a name="l02442"></a>02442       }
<a name="l02443"></a>02443 
<a name="l02444"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#ad8fa6c8720f58c6050921400f199a9d3">02444</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#ad8fa6c8720f58c6050921400f199a9d3">getChild</a>() {
<a name="l02445"></a>02445         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>;
<a name="l02446"></a>02446       }
<a name="l02447"></a>02447 
<a name="l02448"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a5f31e0669fabd38c845e18d5980a172b">02448</a>       <span class="keyword">const</span> std::vector&lt;lemur::api::DOCID_T&gt;&amp; <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a5f31e0669fabd38c845e18d5980a172b">getDocuments</a>()<span class="keyword"> const </span>{
<a name="l02449"></a>02449         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>;
<a name="l02450"></a>02450       }
<a name="l02451"></a>02451 
<a name="l02452"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#afe557f55afa30d4d95e99a679b029cb2">02452</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#afe557f55afa30d4d95e99a679b029cb2">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02453"></a>02453         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02454"></a>02454         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;child&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>);
<a name="l02455"></a>02455         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>(<span class="stringliteral">&quot;documents&quot;</span>, <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>);
<a name="l02456"></a>02456         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02457"></a>02457       }
<a name="l02458"></a>02458 
<a name="l02459"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#aeb482f7113d5294993aaad232d6543ff">02459</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#aeb482f7113d5294993aaad232d6543ff">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02460"></a>02460         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02461"></a>02461         <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02462"></a>02462         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02463"></a>02463       }
<a name="l02464"></a>02464 
<a name="l02465"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a854f97ab180881bc419e3123c59e0056">02465</a>       std::string <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a854f97ab180881bc419e3123c59e0056">queryText</a>()<span class="keyword"> const </span>{
<a name="l02466"></a>02466         <span class="comment">// for now, we&apos;ll let the filter be anonymous, since it can never</span>
<a name="l02467"></a>02467         <span class="comment">// be typed by the user</span>
<a name="l02468"></a>02468         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02469"></a>02469       }
<a name="l02470"></a>02470 
<a name="l02471"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#a4ebfcbebd1cd1cdacfa990c0badb3137">02471</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a4ebfcbebd1cd1cdacfa990c0badb3137">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02472"></a>02472         UINT64 documentSum = 0;
<a name="l02473"></a>02473 
<a name="l02474"></a>02474         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>.size(); i++ ) {
<a name="l02475"></a>02475           documentSum += <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a>[i];
<a name="l02476"></a>02476         }
<a name="l02477"></a>02477 
<a name="l02478"></a>02478         <span class="keywordflow">return</span> 87 + <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + documentSum;
<a name="l02479"></a>02479       }
<a name="l02480"></a>02480 
<a name="l02481"></a><a class="code" href="classindri_1_1lang_1_1FilterNode.html#adbee2a210f3d140b4eb432cdcb8a7efc">02481</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FilterNode.html#adbee2a210f3d140b4eb432cdcb8a7efc">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02482"></a>02482         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02483"></a>02483 
<a name="l02484"></a>02484         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1FilterNode.html#a3998491babeaa916858d72bea51d0f3d">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02485"></a>02485         <a class="code" href="classindri_1_1lang_1_1FilterNode.html">FilterNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a97457fe1cf479899c84f632211c5dff4">FilterNode</a>( duplicateChild, <a class="code" href="classindri_1_1lang_1_1FilterNode.html#a69b7dee587f19c9d205b22676e90c053">_documents</a> );
<a name="l02486"></a>02486         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02487"></a>02487 
<a name="l02488"></a>02488         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02489"></a>02489       }
<a name="l02490"></a>02490     };
<a name="l02491"></a>02491 
<a name="l02492"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html">02492</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html">ListAccumulator</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
<a name="l02493"></a>02493     <span class="keyword">private</span>:
<a name="l02494"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">02494</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>;
<a name="l02495"></a>02495      
<a name="l02496"></a>02496     <span class="keyword">public</span>:
<a name="l02497"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a3ba802d501d10a4410693a94ee5ff8fa">02497</a>       <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a3ba802d501d10a4410693a94ee5ff8fa">ListAccumulator</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw ) :
<a name="l02498"></a>02498         <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>(raw)
<a name="l02499"></a>02499       {
<a name="l02500"></a>02500       }
<a name="l02501"></a>02501 
<a name="l02502"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ae6b6fd89b01a59f98d1996ad53fc103a">02502</a>       <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ae6b6fd89b01a59f98d1996ad53fc103a">ListAccumulator</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02503"></a>02503         <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;raw&quot;</span> );
<a name="l02504"></a>02504       }
<a name="l02505"></a>02505 
<a name="l02506"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a2ead598a1b82df4ed69c0946b51dd807">02506</a>       std::string <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a2ead598a1b82df4ed69c0946b51dd807">typeName</a>()<span class="keyword"> const </span>{
<a name="l02507"></a>02507         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ListAccumulator&quot;</span>;
<a name="l02508"></a>02508       }
<a name="l02509"></a>02509 
<a name="l02510"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a039abd9ba153f764b5cf5b30fa577af7">02510</a>       std::string <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a039abd9ba153f764b5cf5b30fa577af7">queryText</a>()<span class="keyword"> const </span>{
<a name="l02511"></a>02511         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02512"></a>02512       }
<a name="l02513"></a>02513 
<a name="l02514"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a99ce98566d33d03ca44ca86c73170eb8">02514</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a99ce98566d33d03ca44ca86c73170eb8">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02515"></a>02515         <span class="comment">// we don&apos;t use hashCodes for accumulatorNodes</span>
<a name="l02516"></a>02516         <span class="keywordflow">return</span> 0;
<a name="l02517"></a>02517       }
<a name="l02518"></a>02518 
<a name="l02519"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a56e38408c00ff1bcfe0994fb9ea45807">02519</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a56e38408c00ff1bcfe0994fb9ea45807">getRawExtent</a>() {
<a name="l02520"></a>02520         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>;
<a name="l02521"></a>02521       }
<a name="l02522"></a>02522 
<a name="l02523"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ab80ec81332a693a65ac36c912e220320">02523</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ab80ec81332a693a65ac36c912e220320">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02524"></a>02524         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02525"></a>02525         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;raw&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a> );
<a name="l02526"></a>02526         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02527"></a>02527       }
<a name="l02528"></a>02528 
<a name="l02529"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ab9878ef3b101016a38fb73a54b7aab14">02529</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#ab9878ef3b101016a38fb73a54b7aab14">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02530"></a>02530         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02531"></a>02531         <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>( walker );
<a name="l02532"></a>02532         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02533"></a>02533       }
<a name="l02534"></a>02534 
<a name="l02535"></a><a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#abb58c1ebb19e5c4f1f97b5dc54500048">02535</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#abb58c1ebb19e5c4f1f97b5dc54500048">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02536"></a>02536         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02537"></a>02537         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* rawCopy = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a1363752c95b04b172dd921f607375a03">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>( copier ));
<a name="l02538"></a>02538         <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html">ListAccumulator</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ListAccumulator.html#a3ba802d501d10a4410693a94ee5ff8fa">ListAccumulator</a>( rawCopy );
<a name="l02539"></a>02539         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02540"></a>02540         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02541"></a>02541       }
<a name="l02542"></a>02542     };
<a name="l02543"></a>02543 
<a name="l02544"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">02544</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">ContextCounterNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
<a name="l02545"></a>02545     <span class="keyword">private</span>:
<a name="l02546"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">02546</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a>;
<a name="l02547"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">02547</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a>;
<a name="l02548"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">02548</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a>;
<a name="l02549"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">02549</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a>;
<a name="l02550"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">02550</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a>;
<a name="l02551"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">02551</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a>;
<a name="l02552"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">02552</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a>; <span class="comment">// number of documents we occur in</span>
<a name="l02553"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">02553</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a>; <span class="comment">// total number of documents</span>
<a name="l02554"></a>02554 
<a name="l02555"></a>02555     <span class="keyword">public</span>:
<a name="l02556"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ae452c778b3de2b057669ddec6191274e">02556</a>       <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ae452c778b3de2b057669ddec6191274e">ContextCounterNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) :
<a name="l02557"></a>02557         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a>(false),
<a name="l02558"></a>02558         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a>(false),
<a name="l02559"></a>02559         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a>(0),
<a name="l02560"></a>02560         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a>(0),
<a name="l02561"></a>02561         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a>(0),
<a name="l02562"></a>02562         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a>(0)
<a name="l02563"></a>02563       {
<a name="l02564"></a>02564         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> = raw;
<a name="l02565"></a>02565         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> = context;
<a name="l02566"></a>02566       }
<a name="l02567"></a>02567 
<a name="l02568"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#af3039e180079363950d8200e99a5b42d">02568</a>       <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#af3039e180079363950d8200e99a5b42d">ContextCounterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02569"></a>02569         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;raw&quot;</span> );
<a name="l02570"></a>02570         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;context&quot;</span> );
<a name="l02571"></a>02571         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;occurrences&quot;</span> );
<a name="l02572"></a>02572         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;contextSize&quot;</span> );
<a name="l02573"></a>02573         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span> );
<a name="l02574"></a>02574         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentCount&quot;</span> );
<a name="l02575"></a>02575 
<a name="l02576"></a>02576         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;hasCounts&quot;</span> );
<a name="l02577"></a>02577         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;hasContextSize&quot;</span> );
<a name="l02578"></a>02578       }
<a name="l02579"></a>02579 
<a name="l02580"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a910137f4e29bf782dbd77bd82f439926">02580</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a910137f4e29bf782dbd77bd82f439926">typeName</a>()<span class="keyword"> const </span>{
<a name="l02581"></a>02581         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ContextCounterNode&quot;</span>;
<a name="l02582"></a>02582       }
<a name="l02583"></a>02583 
<a name="l02584"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a92efe037f8ba4e544d5e1074ed039802">02584</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a92efe037f8ba4e544d5e1074ed039802">queryText</a>()<span class="keyword"> const </span>{
<a name="l02585"></a>02585         std::stringstream qtext;
<a name="l02586"></a>02586         
<a name="l02587"></a>02587         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> )
<a name="l02588"></a>02588           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02589"></a>02589 
<a name="l02590"></a>02590         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> ) {
<a name="l02591"></a>02591           <span class="comment">// if we haven&apos;t added a period yet, put one in</span>
<a name="l02592"></a>02592           <span class="keywordtype">int</span> dot = (int)qtext.str().find(<span class="charliteral">&apos;.&apos;</span>);
<a name="l02593"></a>02593           <span class="keywordflow">if</span>( dot &lt; 0 )
<a name="l02594"></a>02594             qtext &lt;&lt; <span class="charliteral">&apos;.&apos;</span>;
<a name="l02595"></a>02595 
<a name="l02596"></a>02596           qtext &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02597"></a>02597         }
<a name="l02598"></a>02598 
<a name="l02599"></a>02599         <span class="keywordflow">return</span> qtext.str();
<a name="l02600"></a>02600       }
<a name="l02601"></a>02601 
<a name="l02602"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#aa27624d89f34070eaed5d914bfb8b97c">02602</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#aa27624d89f34070eaed5d914bfb8b97c">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02603"></a>02603         <span class="comment">// we don&apos;t use hashCodes for accumulatorNodes</span>
<a name="l02604"></a>02604         <span class="keywordflow">return</span> 0;
<a name="l02605"></a>02605       }
<a name="l02606"></a>02606 
<a name="l02607"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a9e02483c24ac98634f0fd9c4eed434e8">02607</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a9e02483c24ac98634f0fd9c4eed434e8">getContext</a>() {
<a name="l02608"></a>02608         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a>;
<a name="l02609"></a>02609       }
<a name="l02610"></a>02610 
<a name="l02611"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2197c10b3ec3453088d8b997e13cb7a8">02611</a>       <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2197c10b3ec3453088d8b997e13cb7a8">getRawExtent</a>() {
<a name="l02612"></a>02612         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a>;
<a name="l02613"></a>02613       }
<a name="l02614"></a>02614 
<a name="l02615"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ae66681b01ed431f4d76ded9759120862">02615</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ae66681b01ed431f4d76ded9759120862">setRawExtent</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* rawExtent ) {
<a name="l02616"></a>02616         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> = rawExtent;
<a name="l02617"></a>02617       }
<a name="l02618"></a>02618 
<a name="l02619"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ad943472ff993de16440f3f91291ba74c">02619</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ad943472ff993de16440f3f91291ba74c">setContext</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context ) {
<a name="l02620"></a>02620         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> = context;
<a name="l02621"></a>02621       }
<a name="l02622"></a>02622 
<a name="l02623"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a37416eed451b1d8b6b0d3407b8b78c06">02623</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a37416eed451b1d8b6b0d3407b8b78c06">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02624"></a>02624         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02625"></a>02625         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;raw&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> );
<a name="l02626"></a>02626         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> );
<a name="l02627"></a>02627         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;occurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a> );
<a name="l02628"></a>02628         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;contextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a> );
<a name="l02629"></a>02629         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a> );
<a name="l02630"></a>02630         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentCount&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a> );
<a name="l02631"></a>02631 
<a name="l02632"></a>02632         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;hasCounts&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a> );
<a name="l02633"></a>02633         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;hasContextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a> );
<a name="l02634"></a>02634         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02635"></a>02635       }
<a name="l02636"></a>02636 
<a name="l02637"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ac8019ba518e04e93094ef2b8627d3f5b">02637</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ac8019ba518e04e93094ef2b8627d3f5b">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02638"></a>02638         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02639"></a>02639         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> ) <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02640"></a>02640         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> ) <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02641"></a>02641         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02642"></a>02642       }
<a name="l02643"></a>02643 
<a name="l02644"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a99c41cc1cff9ddacfc88d4ae195b4bdb">02644</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a99c41cc1cff9ddacfc88d4ae195b4bdb">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02645"></a>02645         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02646"></a>02646         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a32c5fc8ec9f78b3316d343415dec3829">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l02647"></a>02647         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateContext = <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3afee20d175a6ff3788541975d61d904">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l02648"></a>02648         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html">ContextCounterNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ae452c778b3de2b057669ddec6191274e">ContextCounterNode</a>(*<span class="keyword">this</span>);
<a name="l02649"></a>02649         duplicate-&gt;setContext(duplicateContext);
<a name="l02650"></a>02650         duplicate-&gt;setRawExtent(duplicateRaw);
<a name="l02651"></a>02651         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02652"></a>02652       }
<a name="l02653"></a>02653 
<a name="l02654"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#afdc6cc61a1b89e6d681ffef252cfdf06">02654</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#afdc6cc61a1b89e6d681ffef252cfdf06">hasCounts</a>()<span class="keyword"> const </span>{
<a name="l02655"></a>02655         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a>;
<a name="l02656"></a>02656       }
<a name="l02657"></a>02657 
<a name="l02658"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a8fc88fa45a52320637d92969091ab681">02658</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a8fc88fa45a52320637d92969091ab681">hasContextSize</a>()<span class="keyword"> const </span>{
<a name="l02659"></a>02659         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a>;
<a name="l02660"></a>02660       }
<a name="l02661"></a>02661 
<a name="l02662"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a15522cf1294556ca5af753665c530580">02662</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a15522cf1294556ca5af753665c530580">getOccurrences</a>()<span class="keyword"> const </span>{
<a name="l02663"></a>02663         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a>;
<a name="l02664"></a>02664       }
<a name="l02665"></a>02665 
<a name="l02666"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2be692b2ef9a0b833ee829f59b874ffa">02666</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2be692b2ef9a0b833ee829f59b874ffa">getContextSize</a>()<span class="keyword"> const </span>{
<a name="l02667"></a>02667         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a>;
<a name="l02668"></a>02668       }
<a name="l02669"></a>02669 
<a name="l02670"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#af2f4deb69d42011ac6fec77948015fda">02670</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#af2f4deb69d42011ac6fec77948015fda">getDocumentOccurrences</a>()<span class="keyword"> const </span>{
<a name="l02671"></a>02671         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a>;
<a name="l02672"></a>02672       }
<a name="l02673"></a>02673 
<a name="l02674"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a39bc846045eed2fbfb3ff47d2f45bba5">02674</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a39bc846045eed2fbfb3ff47d2f45bba5">getDocumentCount</a>()<span class="keyword"> const </span>{
<a name="l02675"></a>02675         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a>;
<a name="l02676"></a>02676       }
<a name="l02677"></a>02677 
<a name="l02678"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3664b56f7cbae96cabcd08a89308d7b4">02678</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3664b56f7cbae96cabcd08a89308d7b4">setContextSize</a>( <span class="keywordtype">double</span> contextSize ) {
<a name="l02679"></a>02679         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a358f46e935cf1ec216453f2dfdca49d3">_contextSize</a> = contextSize;
<a name="l02680"></a>02680         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ade79e7db905f4c8e9dbc37a84a0f6b73">_hasContextSize</a> = <span class="keyword">true</span>;
<a name="l02681"></a>02681       }
<a name="l02682"></a>02682 
<a name="l02683"></a><a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2488129bb8051780883466bc2fb51e24">02683</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a2488129bb8051780883466bc2fb51e24">setCounts</a>( <span class="keywordtype">double</span> occurrences,
<a name="l02684"></a>02684                       <span class="keywordtype">double</span> contextSize, <span class="keywordtype">int</span> documentOccurrences, 
<a name="l02685"></a>02685                       <span class="keywordtype">int</span> documentCount ) {
<a name="l02686"></a>02686         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#ab43795f5098481eded2d5bde79770096">_hasCounts</a> = <span class="keyword">true</span>;
<a name="l02687"></a>02687         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a60f74a50eb8a538eb942b80b98c984a6">_occurrences</a> = occurrences;
<a name="l02688"></a>02688         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a3664b56f7cbae96cabcd08a89308d7b4">setContextSize</a>( contextSize );
<a name="l02689"></a>02689         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a93b1dee6e4d99109b5ee5cd928c2d2bf">_documentOccurrences</a> = documentOccurrences;
<a name="l02690"></a>02690         <a class="code" href="classindri_1_1lang_1_1ContextCounterNode.html#a50181199caca78ebabf8442039930421">_documentCount</a> = documentCount;
<a name="l02691"></a>02691       }
<a name="l02692"></a>02692     };
<a name="l02693"></a>02693 
<a name="l02694"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html">02694</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html">ContextSimpleCounterNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
<a name="l02695"></a>02695     <span class="keyword">private</span>:
<a name="l02696"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">02696</a>       std::vector&lt;std::string&gt; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">_terms</a>;
<a name="l02697"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">02697</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">_field</a>;
<a name="l02698"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">02698</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">_context</a>;
<a name="l02699"></a>02699 
<a name="l02700"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">02700</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a>;
<a name="l02701"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">02701</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a>;
<a name="l02702"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">02702</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a>;
<a name="l02703"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">02703</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a>;
<a name="l02704"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">02704</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a>; <span class="comment">// number of documents we occur in</span>
<a name="l02705"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">02705</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a>; <span class="comment">// total number of documents</span>
<a name="l02706"></a>02706 
<a name="l02707"></a>02707     <span class="keyword">public</span>:
<a name="l02708"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a0b8db4f7a39d7e32182ddcd2a4f4fc75">02708</a>       <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a0b8db4f7a39d7e32182ddcd2a4f4fc75">ContextSimpleCounterNode</a>( <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a68be46bc1c495c63ec713316f92b92bd">terms</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a486c79a44cc5c58a7e5c48ff3b748fbb">field</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ae65a5681d5ebd239c3f788d99e883694">context</a> ) :
<a name="l02709"></a>02709         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a>(false),
<a name="l02710"></a>02710         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a>(false),
<a name="l02711"></a>02711         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a>(0),
<a name="l02712"></a>02712         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a>(0),
<a name="l02713"></a>02713         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">_terms</a>(terms),
<a name="l02714"></a>02714         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">_field</a>(field),
<a name="l02715"></a>02715         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">_context</a>(context),
<a name="l02716"></a>02716         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a>(0),
<a name="l02717"></a>02717         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a>(0)
<a name="l02718"></a>02718       {
<a name="l02719"></a>02719       }
<a name="l02720"></a>02720 
<a name="l02721"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a16af8828968bfa9285a3e7f563178cf6">02721</a>       <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a16af8828968bfa9285a3e7f563178cf6">ContextSimpleCounterNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02722"></a>02722         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;occurrences&quot;</span> );
<a name="l02723"></a>02723         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;contextSize&quot;</span> );
<a name="l02724"></a>02724 
<a name="l02725"></a>02725         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">_terms</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#aaa43346bc3797ad85052b3be8fa2c199">getStringVector</a>( <span class="stringliteral">&quot;terms&quot;</span> );
<a name="l02726"></a>02726         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">_field</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;field&quot;</span> );
<a name="l02727"></a>02727         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">_context</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;context&quot;</span> );
<a name="l02728"></a>02728         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span> );
<a name="l02729"></a>02729         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a6c95c88a049c75b9b20a1c7b850f5576">getInteger</a>( <span class="stringliteral">&quot;documentCount&quot;</span> );
<a name="l02730"></a>02730 
<a name="l02731"></a>02731         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;hasCounts&quot;</span> );
<a name="l02732"></a>02732         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#abd990cdd213af0d115e535373bc14380">getBoolean</a>( <span class="stringliteral">&quot;hasContextSize&quot;</span> );
<a name="l02733"></a>02733       }
<a name="l02734"></a>02734 
<a name="l02735"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a84e383bb90c4601d0af2f546ca9ab2e7">02735</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a84e383bb90c4601d0af2f546ca9ab2e7">typeName</a>()<span class="keyword"> const </span>{
<a name="l02736"></a>02736         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ContextSimpleCounterNode&quot;</span>;
<a name="l02737"></a>02737       }
<a name="l02738"></a>02738 
<a name="l02739"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a290f2b94c05f5def17c722a0a5b236d6">02739</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a290f2b94c05f5def17c722a0a5b236d6">queryText</a>()<span class="keyword"> const </span>{
<a name="l02740"></a>02740         <span class="comment">// nothing to see here -- this is an optimization node</span>
<a name="l02741"></a>02741         <span class="keywordflow">return</span> std::string();
<a name="l02742"></a>02742       }
<a name="l02743"></a>02743 
<a name="l02744"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aae2f70cbd0e80bfdc5f226438058875f">02744</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aae2f70cbd0e80bfdc5f226438058875f">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02745"></a>02745         <span class="comment">// we don&apos;t use hashCodes for accumulatorNodes</span>
<a name="l02746"></a>02746         <span class="keywordflow">return</span> 0;
<a name="l02747"></a>02747       }
<a name="l02748"></a>02748 
<a name="l02749"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a722ec8ea3c4fc06c6a23345a72855ec5">02749</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a722ec8ea3c4fc06c6a23345a72855ec5">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02750"></a>02750         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02751"></a>02751         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;occurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a> );
<a name="l02752"></a>02752         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;contextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a> );
<a name="l02753"></a>02753         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentOccurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a> );
<a name="l02754"></a>02754         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentCount&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a> );
<a name="l02755"></a>02755 
<a name="l02756"></a>02756         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;terms&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">_terms</a> );
<a name="l02757"></a>02757         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;field&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">_field</a> );
<a name="l02758"></a>02758         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;context&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">_context</a> );
<a name="l02759"></a>02759 
<a name="l02760"></a>02760         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;hasCounts&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a> );
<a name="l02761"></a>02761         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;hasContextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a> );
<a name="l02762"></a>02762         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02763"></a>02763       }
<a name="l02764"></a>02764 
<a name="l02765"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aeaec5ed5aa7cf65767f935824fa28a50">02765</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aeaec5ed5aa7cf65767f935824fa28a50">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02766"></a>02766         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02767"></a>02767         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02768"></a>02768       }
<a name="l02769"></a>02769 
<a name="l02770"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a9a367502e47ee80ce3636f3450914a71">02770</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a9a367502e47ee80ce3636f3450914a71">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02771"></a>02771         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02772"></a>02772         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html">ContextSimpleCounterNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a0b8db4f7a39d7e32182ddcd2a4f4fc75">ContextSimpleCounterNode</a>(*<span class="keyword">this</span>);
<a name="l02773"></a>02773         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02774"></a>02774       }
<a name="l02775"></a>02775 
<a name="l02776"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8ca96e6aae1dcf1fb3bcf62f52ba167f">02776</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8ca96e6aae1dcf1fb3bcf62f52ba167f">hasCounts</a>()<span class="keyword"> const </span>{
<a name="l02777"></a>02777         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a>;
<a name="l02778"></a>02778       }
<a name="l02779"></a>02779 
<a name="l02780"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#af88c07f027cce42617944566571d1647">02780</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#af88c07f027cce42617944566571d1647">hasContextSize</a>()<span class="keyword"> const </span>{
<a name="l02781"></a>02781         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a>;
<a name="l02782"></a>02782       }
<a name="l02783"></a>02783 
<a name="l02784"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a67474403ed9c1400c71521c8566d67e4">02784</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a67474403ed9c1400c71521c8566d67e4">getOccurrences</a>()<span class="keyword"> const </span>{
<a name="l02785"></a>02785         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a>;
<a name="l02786"></a>02786       }
<a name="l02787"></a>02787 
<a name="l02788"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a11efcee0cdd3bbb6ca50a9fed7ecc00d">02788</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a11efcee0cdd3bbb6ca50a9fed7ecc00d">getContextSize</a>()<span class="keyword"> const </span>{
<a name="l02789"></a>02789         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a>;
<a name="l02790"></a>02790       }
<a name="l02791"></a>02791 
<a name="l02792"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#afab2b4b7ae29e3446e5e09d79bc04873">02792</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#afab2b4b7ae29e3446e5e09d79bc04873">getDocumentOccurrences</a>()<span class="keyword"> const </span>{
<a name="l02793"></a>02793         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a>;
<a name="l02794"></a>02794       }
<a name="l02795"></a>02795 
<a name="l02796"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a12fe561e0f46a5604fde6bd3bd96f7df">02796</a>       <span class="keywordtype">int</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a12fe561e0f46a5604fde6bd3bd96f7df">getDocumentCount</a>()<span class="keyword"> const </span>{
<a name="l02797"></a>02797         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a>;
<a name="l02798"></a>02798       }
<a name="l02799"></a>02799 
<a name="l02800"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a68be46bc1c495c63ec713316f92b92bd">02800</a>       <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a68be46bc1c495c63ec713316f92b92bd">terms</a>()<span class="keyword"> const </span>{
<a name="l02801"></a>02801         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#adf67e1efd5ca05cf505e6ce418f6e2cd">_terms</a>;
<a name="l02802"></a>02802       }
<a name="l02803"></a>02803 
<a name="l02804"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a486c79a44cc5c58a7e5c48ff3b748fbb">02804</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a486c79a44cc5c58a7e5c48ff3b748fbb">field</a>()<span class="keyword"> const </span>{
<a name="l02805"></a>02805         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5095c13c767246b877c9bbe48ff0f008">_field</a>;
<a name="l02806"></a>02806       }
<a name="l02807"></a>02807 
<a name="l02808"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ae65a5681d5ebd239c3f788d99e883694">02808</a>       <span class="keyword">const</span> std::string&amp; <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ae65a5681d5ebd239c3f788d99e883694">context</a>()<span class="keyword"> const </span>{
<a name="l02809"></a>02809         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac3187a4f76ae1a00c065151ca43a06a2">_context</a>;
<a name="l02810"></a>02810       }
<a name="l02811"></a>02811 
<a name="l02812"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ab4ba5490e9df243ca8e4083fb8f306c3">02812</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ab4ba5490e9df243ca8e4083fb8f306c3">setContextSize</a>( <span class="keywordtype">double</span> contextSize ) {
<a name="l02813"></a>02813         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ac7b48c216f0a615619419f0aa6bff276">_contextSize</a> = contextSize;
<a name="l02814"></a>02814         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a5573f01482a87457091b7c70a56460da">_hasContextSize</a> = <span class="keyword">true</span>;
<a name="l02815"></a>02815       }
<a name="l02816"></a>02816 
<a name="l02817"></a><a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a64b4fe1595e8cc846d78296fa01e5c9d">02817</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a64b4fe1595e8cc846d78296fa01e5c9d">setCounts</a>( <span class="keywordtype">double</span> occurrences,
<a name="l02818"></a>02818                       <span class="keywordtype">double</span> contextSize, <span class="keywordtype">int</span> documentOccurrences, 
<a name="l02819"></a>02819                       <span class="keywordtype">int</span> documentCount ) {
<a name="l02820"></a>02820         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#aee8d8a453295b639a5680b23ed264fdb">_hasCounts</a> = <span class="keyword">true</span>;
<a name="l02821"></a>02821         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a549ea5293095de0051132bad8ee30e60">_occurrences</a> = occurrences;
<a name="l02822"></a>02822         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#ab4ba5490e9df243ca8e4083fb8f306c3">setContextSize</a>( contextSize );
<a name="l02823"></a>02823         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a8af4e689c98a252c29a1aaeaf9511a40">_documentOccurrences</a> = documentOccurrences;
<a name="l02824"></a>02824         <a class="code" href="classindri_1_1lang_1_1ContextSimpleCounterNode.html#a50c9e63c4c46247debfbc1e3b0f21920">_documentCount</a> = documentCount;
<a name="l02825"></a>02825       }
<a name="l02826"></a>02826     };
<a name="l02827"></a>02827 
<a name="l02828"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">02828</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">ScoreAccumulatorNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
<a name="l02829"></a>02829     <span class="keyword">private</span>:
<a name="l02830"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">02830</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>;
<a name="l02831"></a>02831 
<a name="l02832"></a>02832     <span class="keyword">public</span>:
<a name="l02833"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ae1d52f01737c5a17721ca2b8ae97b00d">02833</a>       <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ae1d52f01737c5a17721ca2b8ae97b00d">ScoreAccumulatorNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) :
<a name="l02834"></a>02834         <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>(scoredNode)
<a name="l02835"></a>02835       {
<a name="l02836"></a>02836       }
<a name="l02837"></a>02837 
<a name="l02838"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a45c941b9b2cd6c63eca9fa4b1093657e">02838</a>       <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a45c941b9b2cd6c63eca9fa4b1093657e">ScoreAccumulatorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02839"></a>02839         <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;scoredNode&quot;</span> );
<a name="l02840"></a>02840       }
<a name="l02841"></a>02841 
<a name="l02842"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#aaccc504d3b69aabb409fdac6a04ece85">02842</a>       std::string <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#aaccc504d3b69aabb409fdac6a04ece85">typeName</a>()<span class="keyword"> const </span>{
<a name="l02843"></a>02843         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ScoreAccumulatorNode&quot;</span>;
<a name="l02844"></a>02844       }
<a name="l02845"></a>02845 
<a name="l02846"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ae0b4d2b3d28efbb60a48337bee0ce89b">02846</a>       std::string <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ae0b4d2b3d28efbb60a48337bee0ce89b">queryText</a>()<span class="keyword"> const </span>{
<a name="l02847"></a>02847         <span class="comment">// anonymous</span>
<a name="l02848"></a>02848         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02849"></a>02849       }
<a name="l02850"></a>02850 
<a name="l02851"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ac66518b1370e903f463ced604b9c6268">02851</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ac66518b1370e903f463ced604b9c6268">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02852"></a>02852         <span class="comment">// we don&apos;t use hashCodes for accumulatorNodes</span>
<a name="l02853"></a>02853         <span class="keywordflow">return</span> 0;
<a name="l02854"></a>02854       }
<a name="l02855"></a>02855 
<a name="l02856"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a8438e55c946e0ae94d25968cc6b2bcc5">02856</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a8438e55c946e0ae94d25968cc6b2bcc5">getChild</a>() {
<a name="l02857"></a>02857         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>;
<a name="l02858"></a>02858       }
<a name="l02859"></a>02859 
<a name="l02860"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a26084e6ed1a972c524d767058b1f3580">02860</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a26084e6ed1a972c524d767058b1f3580">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02861"></a>02861         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02862"></a>02862         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;scoredNode&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a> );
<a name="l02863"></a>02863         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02864"></a>02864       }
<a name="l02865"></a>02865 
<a name="l02866"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a68e3c0d9095609c3755863eb9d449913">02866</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a68e3c0d9095609c3755863eb9d449913">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02867"></a>02867         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02868"></a>02868         <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02869"></a>02869         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02870"></a>02870       }
<a name="l02871"></a>02871 
<a name="l02872"></a><a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a9f572139da0b47cf1420383053a78a58">02872</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a9f572139da0b47cf1420383053a78a58">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02873"></a>02873         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02874"></a>02874         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#a440da1020a6f0a0178306b9d14cd8824">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02875"></a>02875         <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html">ScoreAccumulatorNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ScoreAccumulatorNode.html#ae1d52f01737c5a17721ca2b8ae97b00d">ScoreAccumulatorNode</a>(duplicateChild);
<a name="l02876"></a>02876         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02877"></a>02877         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02878"></a>02878       }
<a name="l02879"></a>02879     };
<a name="l02880"></a>02880 
<a name="l02881"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">02881</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">AnnotatorNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1AccumulatorNode.html">AccumulatorNode</a> {
<a name="l02882"></a>02882     <span class="keyword">private</span>:
<a name="l02883"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">02883</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>;
<a name="l02884"></a>02884 
<a name="l02885"></a>02885     <span class="keyword">public</span>:
<a name="l02886"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#aaca917e0fb1c083470ac34670043c115">02886</a>       <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#aaca917e0fb1c083470ac34670043c115">AnnotatorNode</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode ) :
<a name="l02887"></a>02887         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>(scoredNode)
<a name="l02888"></a>02888       {
<a name="l02889"></a>02889       }
<a name="l02890"></a>02890 
<a name="l02891"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#ae0fcdd835292b585a4f5c0614233309a">02891</a>       <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#ae0fcdd835292b585a4f5c0614233309a">AnnotatorNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02892"></a>02892         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;scoredNode&quot;</span> );
<a name="l02893"></a>02893       }
<a name="l02894"></a>02894 
<a name="l02895"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a91de8ab63a213e577b7c647115a41184">02895</a>       std::string <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a91de8ab63a213e577b7c647115a41184">typeName</a>()<span class="keyword"> const </span>{
<a name="l02896"></a>02896         <span class="keywordflow">return</span> <span class="stringliteral">&quot;AnnotatorNode&quot;</span>;
<a name="l02897"></a>02897       }
<a name="l02898"></a>02898 
<a name="l02899"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#af4033cc488dff062fc9e9cf1d48cb30d">02899</a>       std::string <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#af4033cc488dff062fc9e9cf1d48cb30d">queryText</a>()<span class="keyword"> const </span>{
<a name="l02900"></a>02900         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l02901"></a>02901       }
<a name="l02902"></a>02902 
<a name="l02903"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a8ccd8aeddcf5190a0eef50f638dba0c8">02903</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a8ccd8aeddcf5190a0eef50f638dba0c8">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02904"></a>02904         <span class="comment">// we don&apos;t use hashCodes for accumulatorNodes</span>
<a name="l02905"></a>02905         <span class="keywordflow">return</span> 0;
<a name="l02906"></a>02906       }
<a name="l02907"></a>02907 
<a name="l02908"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a87666cb4dff23ac17b4c08b01e1175f3">02908</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a87666cb4dff23ac17b4c08b01e1175f3">getChild</a>() {
<a name="l02909"></a>02909         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>;
<a name="l02910"></a>02910       }
<a name="l02911"></a>02911 
<a name="l02912"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a33f5c21d999615359b4df7cbd32691f3">02912</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a33f5c21d999615359b4df7cbd32691f3">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02913"></a>02913         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02914"></a>02914         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;scoredNode&quot;</span>, <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a> );
<a name="l02915"></a>02915         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02916"></a>02916       }
<a name="l02917"></a>02917 
<a name="l02918"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a4b962ea930221df98581ea28942a95c8">02918</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a4b962ea930221df98581ea28942a95c8">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02919"></a>02919         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02920"></a>02920         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l02921"></a>02921         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02922"></a>02922       }
<a name="l02923"></a>02923 
<a name="l02924"></a><a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a3bff44495f49ec6a96a3a22ddb082fe3">02924</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#a3bff44495f49ec6a96a3a22ddb082fe3">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02925"></a>02925         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02926"></a>02926         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#adeccf69991f9899b24d0b62fec0195e8">_scoredNode</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l02927"></a>02927         <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html">AnnotatorNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1AnnotatorNode.html#aaca917e0fb1c083470ac34670043c115">AnnotatorNode</a>(duplicateChild);
<a name="l02928"></a>02928         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02929"></a>02929         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l02930"></a>02930       }
<a name="l02931"></a>02931     };
<a name="l02932"></a>02932 
<a name="l02933"></a>02933     
<a name="l02934"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">02934</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">FieldWildcard</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l02935"></a>02935     <span class="keyword">private</span>:
<a name="l02936"></a>02936 
<a name="l02937"></a>02937     <span class="keyword">public</span>:
<a name="l02938"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a8bb7680bb9ed88f236f8410fc24b3fdd">02938</a>       <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a8bb7680bb9ed88f236f8410fc24b3fdd">FieldWildcard</a>(  )
<a name="l02939"></a>02939       {
<a name="l02940"></a>02940       }
<a name="l02941"></a>02941 
<a name="l02942"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a1fe846a66b278ddd6b524be69345aecb">02942</a>       <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a1fe846a66b278ddd6b524be69345aecb">FieldWildcard</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l02943"></a>02943       }
<a name="l02944"></a>02944 
<a name="l02945"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a083c8c8433c58b7614b02bd4e7f29b52">02945</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a083c8c8433c58b7614b02bd4e7f29b52">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l02946"></a>02946         <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">FieldWildcard</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">FieldWildcard</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l02947"></a>02947         <span class="keywordflow">return</span> other != NULL; <span class="comment">// all instances are ==</span>
<a name="l02948"></a>02948       }
<a name="l02949"></a>02949 
<a name="l02950"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a6fb0f4f3aa4a4c33a1b05db72af9b104">02950</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a6fb0f4f3aa4a4c33a1b05db72af9b104">typeName</a>()<span class="keyword"> const </span>{
<a name="l02951"></a>02951         <span class="keywordflow">return</span> <span class="stringliteral">&quot;FieldWildcard&quot;</span>;
<a name="l02952"></a>02952       }
<a name="l02953"></a>02953 
<a name="l02954"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#aa3df384d63314df538b99efc1e5c4244">02954</a>       std::string <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#aa3df384d63314df538b99efc1e5c4244">queryText</a>()<span class="keyword"> const </span>{
<a name="l02955"></a>02955         std::stringstream qtext;
<a name="l02956"></a>02956         qtext &lt;&lt; <span class="stringliteral">&quot;*&quot;</span>;
<a name="l02957"></a>02957 
<a name="l02958"></a>02958         <span class="keywordflow">return</span> qtext.str();
<a name="l02959"></a>02959       }
<a name="l02960"></a>02960 
<a name="l02961"></a>02961 
<a name="l02962"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a770ede44d621d15c2bb4f4db7058a866">02962</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a770ede44d621d15c2bb4f4db7058a866">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l02963"></a>02963         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l02964"></a>02964         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l02965"></a>02965       }
<a name="l02966"></a>02966 
<a name="l02967"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a4a22e73fbfa1655457899cdf30532e0f">02967</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a4a22e73fbfa1655457899cdf30532e0f">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l02968"></a>02968         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l02969"></a>02969         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l02970"></a>02970       }
<a name="l02971"></a>02971 
<a name="l02972"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a02a047fd30cc19f2286bc71b0fdc5233">02972</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a02a047fd30cc19f2286bc71b0fdc5233">hashCode</a>()<span class="keyword"> const </span>{
<a name="l02973"></a>02973         <span class="keywordflow">return</span> 103;<span class="comment">//???????????????</span>
<a name="l02974"></a>02974       }
<a name="l02975"></a>02975 
<a name="l02976"></a><a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a56f60c4dc45e40bba52a7ddf53609272">02976</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html#a56f60c4dc45e40bba52a7ddf53609272">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l02977"></a>02977         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l02978"></a>02978 
<a name="l02979"></a>02979         <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">FieldWildcard</a>* fieldWildcardCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1FieldWildcard.html">FieldWildcard</a>;
<a name="l02980"></a>02980         fieldWildcardCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l02981"></a>02981 
<a name="l02982"></a>02982         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, fieldWildcardCopy);
<a name="l02983"></a>02983       }
<a name="l02984"></a>02984     };
<a name="l02985"></a>02985 
<a name="l02986"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html">02986</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html">NestedExtentInside</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> {
<a name="l02987"></a>02987 
<a name="l02988"></a>02988     <span class="keyword">public</span>:
<a name="l02989"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aeefbdb8d2b70ebde501558f67146d480">02989</a>       <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aeefbdb8d2b70ebde501558f67146d480">NestedExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer ) :
<a name="l02990"></a>02990         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( inner, outer )
<a name="l02991"></a>02991       {
<a name="l02992"></a>02992       }
<a name="l02993"></a>02993 
<a name="l02994"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#a408adf9dec5595409342b850b853de79">02994</a>       <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aeefbdb8d2b70ebde501558f67146d480">NestedExtentInside</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ):
<a name="l02995"></a>02995         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( unpacker ) 
<a name="l02996"></a>02996       { 
<a name="l02997"></a>02997       }
<a name="l02998"></a>02998 
<a name="l02999"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#a4c7d1b78ee71df909823496ef162653f">02999</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#a4c7d1b78ee71df909823496ef162653f">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l03000"></a>03000         <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html">NestedExtentInside</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html">NestedExtentInside</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l03001"></a>03001   
<a name="l03002"></a>03002         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l03003"></a>03003           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> &amp;&amp;
<a name="l03004"></a>03004           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>;
<a name="l03005"></a>03005       }
<a name="l03006"></a>03006       
<a name="l03007"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aca3bdc0d64bc3bdafcb5eca8d216d47d">03007</a>       std::string <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aca3bdc0d64bc3bdafcb5eca8d216d47d">typeName</a>()<span class="keyword"> const </span>{
<a name="l03008"></a>03008         <span class="keywordflow">return</span> <span class="stringliteral">&quot;NestedExtentInside&quot;</span>;
<a name="l03009"></a>03009       }
<a name="l03010"></a>03010 
<a name="l03011"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#ad7e895858c2842ca934ef32a2a69bf12">03011</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#ad7e895858c2842ca934ef32a2a69bf12">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03012"></a>03012         <span class="keywordflow">return</span> 107 + <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + (<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7);<span class="comment">//???????????????</span>
<a name="l03013"></a>03013       }
<a name="l03014"></a>03014 
<a name="l03015"></a><a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#a5eed8c9d060ac85d931509af24bc2610">03015</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#a5eed8c9d060ac85d931509af24bc2610">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03016"></a>03016         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03017"></a>03017         
<a name="l03018"></a>03018         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03019"></a>03019         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03020"></a>03020         <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html">NestedExtentInside</a>* extentInsideCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1NestedExtentInside.html#aeefbdb8d2b70ebde501558f67146d480">NestedExtentInside</a>( newInner, newOuter );
<a name="l03021"></a>03021         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03022"></a>03022 
<a name="l03023"></a>03023         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, extentInsideCopy);
<a name="l03024"></a>03024       }
<a name="l03025"></a>03025     };
<a name="l03026"></a>03026 
<a name="l03027"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html">03027</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html">NestedRawScorerNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a> {
<a name="l03028"></a>03028 
<a name="l03029"></a>03029     <span class="keyword">public</span>:
<a name="l03030"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a20ab4db1471241cdc6b5b3cac73de1de">03030</a>       <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a20ab4db1471241cdc6b5b3cac73de1de">NestedRawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* context, std::string smoothing = <span class="stringliteral">&quot;method:dirichlet,mu:2500&quot;</span> ) :
<a name="l03031"></a>03031         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>( raw, context, smoothing )
<a name="l03032"></a>03032       {
<a name="l03033"></a>03033       }
<a name="l03034"></a>03034 
<a name="l03035"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a6a8315a90b48eff24a6f9dc0cae1c0bf">03035</a>       <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a20ab4db1471241cdc6b5b3cac73de1de">NestedRawScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) :
<a name="l03036"></a>03036         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>( unpacker )
<a name="l03037"></a>03037       {
<a name="l03038"></a>03038       }
<a name="l03039"></a>03039 
<a name="l03040"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a690068493ecb7651f3aa21a42768e503">03040</a>       std::string <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a690068493ecb7651f3aa21a42768e503">typeName</a>()<span class="keyword"> const </span>{
<a name="l03041"></a>03041         <span class="keywordflow">return</span> <span class="stringliteral">&quot;NestedRawScorerNode&quot;</span>;
<a name="l03042"></a>03042       }
<a name="l03043"></a>03043 
<a name="l03044"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a7d9fdf4f2cf1ee7c0d0dd43f5f53b44f">03044</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a7d9fdf4f2cf1ee7c0d0dd43f5f53b44f">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03045"></a>03045         UINT64 hash = 0;
<a name="l03046"></a>03046 
<a name="l03047"></a>03047         hash += 105;
<a name="l03048"></a>03048         hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l03049"></a>03049 
<a name="l03050"></a>03050         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ) {
<a name="l03051"></a>03051           hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l03052"></a>03052         }
<a name="l03053"></a>03053 
<a name="l03054"></a>03054         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> gh;
<a name="l03055"></a>03055         hash += gh( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a>.c_str() );
<a name="l03056"></a>03056 
<a name="l03057"></a>03057         <span class="keywordflow">return</span> hash;
<a name="l03058"></a>03058       }
<a name="l03059"></a>03059 
<a name="l03060"></a><a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a64880d39860af3074f19d34a5d9442cf">03060</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a64880d39860af3074f19d34a5d9442cf">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03061"></a>03061         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03062"></a>03062 
<a name="l03063"></a>03063         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateContext = <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l03064"></a>03064         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l03065"></a>03065         <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html">NestedRawScorerNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1NestedRawScorerNode.html#a20ab4db1471241cdc6b5b3cac73de1de">NestedRawScorerNode</a>(*<span class="keyword">this</span>);
<a name="l03066"></a>03066         duplicate-&gt;setRawExtent( duplicateRaw );
<a name="l03067"></a>03067         duplicate-&gt;setContext( duplicateContext );
<a name="l03068"></a>03068 
<a name="l03069"></a>03069         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l03070"></a>03070       }
<a name="l03071"></a>03071     };
<a name="l03072"></a>03072    
<a name="l03073"></a>03073 
<a name="l03074"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html">03074</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html">ExtentEnforcement</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a> {
<a name="l03075"></a>03075 
<a name="l03076"></a>03076     <span class="keyword">public</span>:
<a name="l03077"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a7c70875439fed0df92246cdcec9ec299">03077</a>       <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a7c70875439fed0df92246cdcec9ec299">ExtentEnforcement</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) :
<a name="l03078"></a>03078         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a>( unpacker ) {
<a name="l03079"></a>03079       }
<a name="l03080"></a>03080 
<a name="l03081"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#ad9889fe88d549fe0e6656b21ee2c1259">03081</a>       <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a7c70875439fed0df92246cdcec9ec299">ExtentEnforcement</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* child, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* field ) :
<a name="l03082"></a>03082         <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html">ExtentRestriction</a>( child, field )
<a name="l03083"></a>03083       {
<a name="l03084"></a>03084       }
<a name="l03085"></a>03085 
<a name="l03086"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#aa47264c147d972cc4b26b3354ae7ff67">03086</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#aa47264c147d972cc4b26b3354ae7ff67">typeName</a>()<span class="keyword"> const </span>{
<a name="l03087"></a>03087         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentEnforcement&quot;</span>;
<a name="l03088"></a>03088       }
<a name="l03089"></a>03089 
<a name="l03090"></a>03090       
<a name="l03091"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a22eca93914112d487e56bc02cf5639c7">03091</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a22eca93914112d487e56bc02cf5639c7">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03092"></a>03092         <span class="keywordflow">return</span> 109 + <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7 + <a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();<span class="comment">//??????????????</span>
<a name="l03093"></a>03093       }
<a name="l03094"></a>03094 
<a name="l03095"></a>03095 
<a name="l03096"></a><a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#afc58ca5e33a997e6eb4cb4ff5302ebf1">03096</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#afc58ca5e33a997e6eb4cb4ff5302ebf1">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03097"></a>03097         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03098"></a>03098 
<a name="l03099"></a>03099         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* duplicateChild = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">indri::lang::ScoredExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#acc3992720b67ec1edc4662b01a81401e">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03100"></a>03100         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateField = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">indri::lang::RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentRestriction.html#aa5300eb0fabf4ddd9fbe4e318ec8da8e">_field</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03101"></a>03101         <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html">ExtentEnforcement</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentEnforcement.html#a7c70875439fed0df92246cdcec9ec299">ExtentEnforcement</a>( duplicateChild, duplicateField );
<a name="l03102"></a>03102         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03103"></a>03103         
<a name="l03104"></a>03104         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l03105"></a>03105       }
<a name="l03106"></a>03106     };
<a name="l03107"></a>03107 
<a name="l03108"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html">03108</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html">ContextInclusionNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l03109"></a>03109     <span class="keyword">protected</span>:
<a name="l03110"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">03110</a>       std::vector&lt;ScoredExtentNode*&gt; <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>;
<a name="l03111"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">03111</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a>;
<a name="l03112"></a>03112 
<a name="l03113"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ae9ce21bd5e10475d94d1cefada74ce35">03113</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ae9ce21bd5e10475d94d1cefada74ce35">_unpack</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l03114"></a>03114         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a77f655a597cde855304e9efa11969457">getScoredExtentVector</a>( <span class="stringliteral">&quot;children&quot;</span> );
<a name="l03115"></a>03115         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;preserveExtentsChild&quot;</span> );
<a name="l03116"></a>03116       }
<a name="l03117"></a>03117 
<a name="l03118"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a211cbb3d1c410709797a95292a07ca69">03118</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a211cbb3d1c410709797a95292a07ca69">_hashCode</a>()<span class="keyword"> const </span>{
<a name="l03119"></a>03119         UINT64 accumulator = 0;
<a name="l03120"></a>03120 
<a name="l03121"></a>03121         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>.size(); i++ ) {
<a name="l03122"></a>03122           accumulator += <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i]-&gt;hashCode();
<a name="l03123"></a>03123         }
<a name="l03124"></a>03124 
<a name="l03125"></a>03125         <span class="keywordflow">return</span> accumulator;
<a name="l03126"></a>03126       }
<a name="l03127"></a>03127 
<a name="l03128"></a>03128       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l03129"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a626705054d9e935c50ecd05eb8378cac">03129</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a626705054d9e935c50ecd05eb8378cac">_walk</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03130"></a>03130         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(ptr);
<a name="l03131"></a>03131 
<a name="l03132"></a>03132         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>.size(); i++ ) {
<a name="l03133"></a>03133           <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i]-&gt;walk(walker);
<a name="l03134"></a>03134         }
<a name="l03135"></a>03135         
<a name="l03136"></a>03136         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(ptr);
<a name="l03137"></a>03137       }
<a name="l03138"></a>03138 
<a name="l03139"></a>03139       <span class="keyword">template</span>&lt;<span class="keyword">class</span> _ThisType&gt;
<a name="l03140"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a3bfe881765bcfb0703a81754cb510ada">03140</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a3bfe881765bcfb0703a81754cb510ada">_copy</a>( _ThisType* ptr, <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03141"></a>03141         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(ptr);
<a name="l03142"></a>03142         
<a name="l03143"></a>03143         _ThisType* duplicate = <span class="keyword">new</span> _ThisType();
<a name="l03144"></a>03144         duplicate-&gt;setNodeName( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03145"></a>03145         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>.size(); i++ ) {
<a name="l03146"></a>03146           <span class="keywordtype">bool</span> preserveExtents = <span class="keyword">false</span>;
<a name="l03147"></a>03147           <span class="keywordflow">if</span> ( <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a> == <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i] ) {
<a name="l03148"></a>03148             preserveExtents = <span class="keyword">true</span>;
<a name="l03149"></a>03149           }
<a name="l03150"></a>03150           duplicate-&gt;addChild( dynamic_cast&lt;ScoredExtentNode*&gt;(<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i]-&gt;<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a61811623c14ff7e384b909513267ac19">copy</a>(copier)), preserveExtents );
<a name="l03151"></a>03151         } 
<a name="l03152"></a>03152 
<a name="l03153"></a>03153         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(ptr, duplicate);
<a name="l03154"></a>03154       }
<a name="l03155"></a>03155 
<a name="l03156"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#af006aaefde84c8617e3185735d3c89d9">03156</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#af006aaefde84c8617e3185735d3c89d9">_childText</a>( std::stringstream&amp; qtext )<span class="keyword"> const </span>{
<a name="l03157"></a>03157         <span class="keywordflow">if</span> ( <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a> != 0 ) {
<a name="l03158"></a>03158           qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l03159"></a>03159         }
<a name="l03160"></a>03160         <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>.size(); i++ ) {
<a name="l03161"></a>03161           <span class="keywordflow">if</span> ( <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i] != <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a> ) {
<a name="l03162"></a>03162             <span class="keywordflow">if</span>(i&gt;0) qtext &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l03163"></a>03163             qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>[i]-&gt;queryText();
<a name="l03164"></a>03164           }
<a name="l03165"></a>03165         }
<a name="l03166"></a>03166       }
<a name="l03167"></a>03167 
<a name="l03168"></a>03168     <span class="keyword">public</span>:
<a name="l03169"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a0822d83f45e962b143328d5adf88a5fc">03169</a>       <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a0822d83f45e962b143328d5adf88a5fc">ContextInclusionNode</a>( ) { }
<a name="l03170"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a7831f5c30e9a556c2c9c9867db9e999a">03170</a>       <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a7831f5c30e9a556c2c9c9867db9e999a">ContextInclusionNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a> &amp; unpacker ) {
<a name="l03171"></a>03171         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ae9ce21bd5e10475d94d1cefada74ce35">_unpack</a>( unpacker );
<a name="l03172"></a>03172       }
<a name="l03173"></a>03173 
<a name="l03174"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ad4012e4e5aca7f303bb29309a04bd6ae">03174</a>       <span class="keyword">const</span> std::vector&lt;ScoredExtentNode*&gt;&amp; <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ad4012e4e5aca7f303bb29309a04bd6ae">getChildren</a>() {
<a name="l03175"></a>03175         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>;
<a name="l03176"></a>03176       }
<a name="l03177"></a>03177       
<a name="l03178"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a86b6c79e89d9930361eb4184df832e14">03178</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> * <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a86b6c79e89d9930361eb4184df832e14">getPreserveExtentsChild</a>() {
<a name="l03179"></a>03179         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a>;
<a name="l03180"></a>03180       }
<a name="l03181"></a>03181 
<a name="l03182"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#aa21c2b3c7b656005c8976acf241b49da">03182</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#aa21c2b3c7b656005c8976acf241b49da">addChild</a>( <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* scoredNode, <span class="keywordtype">bool</span> preserveExtents = <span class="keyword">false</span> ) {
<a name="l03183"></a>03183         <span class="keywordflow">if</span> (preserveExtents == <span class="keyword">true</span>) {
<a name="l03184"></a>03184           <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a> = scoredNode;
<a name="l03185"></a>03185         }       
<a name="l03186"></a>03186         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a>.push_back( scoredNode );
<a name="l03187"></a>03187       }
<a name="l03188"></a>03188 
<a name="l03189"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#accbe03178a29a70eb26ee53fb595ea6a">03189</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#accbe03178a29a70eb26ee53fb595ea6a">typeName</a>()<span class="keyword"> const </span>{
<a name="l03190"></a>03190         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ContextInclusionNode&quot;</span>;
<a name="l03191"></a>03191       }
<a name="l03192"></a>03192 
<a name="l03193"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5bef54229c0d40528a344172be53fb55">03193</a>       std::string <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5bef54229c0d40528a344172be53fb55">queryText</a>()<span class="keyword"> const </span>{
<a name="l03194"></a>03194         std::stringstream qtext;
<a name="l03195"></a>03195         qtext &lt;&lt; <span class="stringliteral">&quot;#context(&quot;</span>;
<a name="l03196"></a>03196         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#af006aaefde84c8617e3185735d3c89d9">_childText</a>(qtext);
<a name="l03197"></a>03197         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l03198"></a>03198 
<a name="l03199"></a>03199         <span class="keywordflow">return</span> qtext.str();
<a name="l03200"></a>03200       } 
<a name="l03201"></a>03201 
<a name="l03202"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a38dfef6832ee21ae2c6e9e5f2fa22d2a">03202</a>       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a38dfef6832ee21ae2c6e9e5f2fa22d2a">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03203"></a>03203         <span class="keywordflow">return</span> 111 + <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a211cbb3d1c410709797a95292a07ca69">_hashCode</a>();<span class="comment">//?????????????</span>
<a name="l03204"></a>03204       }
<a name="l03205"></a>03205 
<a name="l03206"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ae40990d09dd54f3e3f60aeab35377f1c">03206</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ae40990d09dd54f3e3f60aeab35377f1c">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l03207"></a>03207         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l03208"></a>03208         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;children&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#ab90d038bb8741c97643a7d47beb2db36">_children</a> );
<a name="l03209"></a>03209         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;preserveExtentsChild&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a5e4e606edb88c561a262a80564fd91fd">_preserveExtentsChild</a>);
<a name="l03210"></a>03210         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l03211"></a>03211       }
<a name="l03212"></a>03212 
<a name="l03213"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a7e879f40f04f09cb6b86664014097993">03213</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a7e879f40f04f09cb6b86664014097993">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03214"></a>03214         <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a626705054d9e935c50ecd05eb8378cac">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l03215"></a>03215       }
<a name="l03216"></a>03216       
<a name="l03217"></a><a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a61811623c14ff7e384b909513267ac19">03217</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a61811623c14ff7e384b909513267ac19">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03218"></a>03218         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ContextInclusionNode.html#a3bfe881765bcfb0703a81754cb510ada">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l03219"></a>03219       }
<a name="l03220"></a>03220     };
<a name="l03221"></a>03221 
<a name="l03222"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html">03222</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1LengthPrior.html">LengthPrior</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> {
<a name="l03223"></a>03223     <span class="keyword">private</span>:
<a name="l03224"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">03224</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a>;
<a name="l03225"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">03225</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> * <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a>;
<a name="l03226"></a>03226 
<a name="l03227"></a>03227     <span class="keyword">public</span>:
<a name="l03228"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#aca5a04228bf471b3b18578196341f901">03228</a>       <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#aca5a04228bf471b3b18578196341f901">LengthPrior</a>(<a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> * child, <span class="keywordtype">double</span> exponent) :
<a name="l03229"></a>03229         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a>(child), 
<a name="l03230"></a>03230         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a>(exponent)
<a name="l03231"></a>03231       {
<a name="l03232"></a>03232         
<a name="l03233"></a>03233       }
<a name="l03234"></a>03234 
<a name="l03235"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a194860862d87657077bfad8171a5c886">03235</a>       <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a194860862d87657077bfad8171a5c886">LengthPrior</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l03236"></a>03236         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;exponent&quot;</span> );
<a name="l03237"></a>03237         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ab9ae17723dfbc4b8d35fba90fd6ddf8e">getScoredExtentNode</a>( <span class="stringliteral">&quot;child&quot;</span> );
<a name="l03238"></a>03238       }
<a name="l03239"></a>03239 
<a name="l03240"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#abbf95ca91295b08a2b2733ccacc66e37">03240</a>       std::string <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#abbf95ca91295b08a2b2733ccacc66e37">queryText</a>()<span class="keyword"> const </span>{
<a name="l03241"></a>03241         std::stringstream qtext;
<a name="l03242"></a>03242         <span class="comment">// with the definition of priors somewhat in flux, it&apos;s</span>
<a name="l03243"></a>03243         <span class="comment">// hard to know what would be good to put here.  It&apos;s also</span>
<a name="l03244"></a>03244         <span class="comment">// a little hard when there realy isn&apos;t a way to </span>
<a name="l03245"></a>03245         <span class="comment">// specify this in either of the indri/nexi query languages.</span>
<a name="l03246"></a>03246         qtext &lt;&lt;  <span class="stringliteral">&quot;#lengthprior(&quot;</span> &lt;&lt; <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l03247"></a>03247         <span class="keywordflow">return</span> qtext.str();
<a name="l03248"></a>03248       }
<a name="l03249"></a>03249 
<a name="l03250"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ad2e317d7c8fe25d3ac42ea136f6c3753">03250</a>       std::string <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ad2e317d7c8fe25d3ac42ea136f6c3753">nodeType</a>() {
<a name="l03251"></a>03251         <span class="keywordflow">return</span> <span class="stringliteral">&quot;LengthPrior&quot;</span>;
<a name="l03252"></a>03252       }
<a name="l03253"></a>03253 
<a name="l03254"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#af9155b5ddf124e177b3960c133b21c16">03254</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#af9155b5ddf124e177b3960c133b21c16">setExponent</a>( <span class="keywordtype">double</span> exponent ) {
<a name="l03255"></a>03255         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a> = exponent;
<a name="l03256"></a>03256       }
<a name="l03257"></a>03257 
<a name="l03258"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a9ed4f516d629748467e64dc65c70a1e4">03258</a>       <span class="keywordtype">double</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a9ed4f516d629748467e64dc65c70a1e4">getExponent</a>() {
<a name="l03259"></a>03259         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a>;
<a name="l03260"></a>03260       }
<a name="l03261"></a>03261 
<a name="l03262"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a99f28e7e4f5697080b13462eb40ff118">03262</a>       <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>* <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a99f28e7e4f5697080b13462eb40ff118">getChild</a>() {
<a name="l03263"></a>03263         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a>;
<a name="l03264"></a>03264       }
<a name="l03265"></a>03265       
<a name="l03266"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a410258e830e81932915e9d1e6e4eebfd">03266</a>       <span class="keyword">virtual</span> UINT64 <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a410258e830e81932915e9d1e6e4eebfd">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03267"></a>03267         <span class="keywordflow">return</span> 115; <span class="comment">//?????????</span>
<a name="l03268"></a>03268       }
<a name="l03269"></a>03269 
<a name="l03270"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a0ccbf2f958ea6bf75cfc18b3dbfafe23">03270</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a0ccbf2f958ea6bf75cfc18b3dbfafe23">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03271"></a>03271         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03272"></a>03272         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03273"></a>03273         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03274"></a>03274       }
<a name="l03275"></a>03275 
<a name="l03276"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ac3f389c011ce20c027ccd5c9867f5e12">03276</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">indri::lang::Node</a>* <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ac3f389c011ce20c027ccd5c9867f5e12">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03277"></a>03277         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03278"></a>03278         <a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a> * childCopy = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ScoredExtentNode.html">ScoredExtentNode</a>*<span class="keyword">&gt;</span> (<a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>( copier ) );
<a name="l03279"></a>03279         <a class="code" href="classindri_1_1lang_1_1LengthPrior.html">LengthPrior</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#aca5a04228bf471b3b18578196341f901">LengthPrior</a>( childCopy, <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a> );
<a name="l03280"></a>03280         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l03281"></a>03281       }
<a name="l03282"></a>03282 
<a name="l03283"></a><a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ad11776eb9b77bf501a77e72e00c16449">03283</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#ad11776eb9b77bf501a77e72e00c16449">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l03284"></a>03284         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l03285"></a>03285         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;exponent&quot;</span>, <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a23a2832fdfdc079ea1a0ed60054521e7">_exponent</a> );
<a name="l03286"></a>03286         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;child&quot;</span>, <a class="code" href="classindri_1_1lang_1_1LengthPrior.html#a358af10b2cb06fee4e3901f737461257">_child</a> );
<a name="l03287"></a>03287         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l03288"></a>03288       }
<a name="l03289"></a>03289     };
<a name="l03290"></a>03290 
<a name="l03291"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">03291</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a> {
<a name="l03292"></a>03292     <span class="keyword">public</span>:
<a name="l03293"></a>03293       
<a name="l03294"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#af9593e18db58792a6b96681fb0182ed5">03294</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#af9593e18db58792a6b96681fb0182ed5">DocumentStructureNode</a>( ) {        
<a name="l03295"></a>03295       }
<a name="l03296"></a>03296 
<a name="l03297"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a4ef8bacdbe149e4b359e76ac7cbfff83">03297</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a4ef8bacdbe149e4b359e76ac7cbfff83">DocumentStructureNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {     
<a name="l03298"></a>03298       }
<a name="l03299"></a>03299 
<a name="l03300"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a5b6081c60aeabd53015f7e0c00205c03">03300</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a5b6081c60aeabd53015f7e0c00205c03">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03301"></a>03301         <span class="keywordflow">return</span> 117; <span class="comment">//?????????</span>
<a name="l03302"></a>03302       }
<a name="l03303"></a>03303 
<a name="l03304"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a13a6c4fb40aeae6ac7d24391afe8e931">03304</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a13a6c4fb40aeae6ac7d24391afe8e931">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l03305"></a>03305         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l03306"></a>03306         <span class="keywordflow">return</span> other != NULL; <span class="comment">// all instances are ==</span>
<a name="l03307"></a>03307       }
<a name="l03308"></a>03308 
<a name="l03309"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8aee2a9043bf67c72e1c857a377793de">03309</a>       std::string <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8aee2a9043bf67c72e1c857a377793de">typeName</a>()<span class="keyword"> const </span>{
<a name="l03310"></a>03310         <span class="keywordflow">return</span> <span class="stringliteral">&quot;DocumentStructure&quot;</span>;
<a name="l03311"></a>03311       }
<a name="l03312"></a>03312       
<a name="l03313"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8bcf0881842fc56b99900a788102647e">03313</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8bcf0881842fc56b99900a788102647e">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l03314"></a>03314         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l03315"></a>03315         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l03316"></a>03316       }
<a name="l03317"></a>03317 
<a name="l03318"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">03318</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03319"></a>03319         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03320"></a>03320         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03321"></a>03321       }
<a name="l03322"></a>03322 
<a name="l03323"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8701c77e5cab28dfa1a9b58dfcadbcd0">03323</a>       std::string <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a8701c77e5cab28dfa1a9b58dfcadbcd0">queryText</a>()<span class="keyword"> const </span>{
<a name="l03324"></a>03324         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l03325"></a>03325       }
<a name="l03326"></a>03326 
<a name="l03327"></a><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">03327</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03328"></a>03328         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03329"></a>03329 
<a name="l03330"></a>03330         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* documentStructureCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>;
<a name="l03331"></a>03331         documentStructureCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03332"></a>03332 
<a name="l03333"></a>03333         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, documentStructureCopy);
<a name="l03334"></a>03334       }
<a name="l03335"></a>03335     };
<a name="l03336"></a>03336 
<a name="l03337"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html">03337</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html">ShrinkageScorerNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a> {
<a name="l03338"></a>03338     <span class="keyword">private</span>:
<a name="l03339"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">03339</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a>;
<a name="l03340"></a>03340       
<a name="l03341"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">03341</a>       std::vector&lt;std::string&gt; <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>;
<a name="l03342"></a>03342 
<a name="l03343"></a>03343     <span class="keyword">public</span>:
<a name="l03344"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a04c08a5ab881c6bba6f0d3f7b6cc144a">03344</a>       <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a04c08a5ab881c6bba6f0d3f7b6cc144a">ShrinkageScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* raw, 
<a name="l03345"></a>03345                            <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* documentStructure, 
<a name="l03346"></a>03346                            std::string smoothing = <span class="stringliteral">&quot;method:dirichlet,mu:2500&quot;</span> )
<a name="l03347"></a>03347         : <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>( raw, 0, smoothing ),
<a name="l03348"></a>03348           <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a>( documentStructure ), 
<a name="l03349"></a>03349           <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>( 0 )
<a name="l03350"></a>03350       {
<a name="l03351"></a>03351       }
<a name="l03352"></a>03352 
<a name="l03353"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a667ed827c5c9774760d6c57dc996aac7">03353</a>       <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a667ed827c5c9774760d6c57dc996aac7">ShrinkageScorerNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) : <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html">RawScorerNode</a>( 0, 0, <span class="stringliteral">&quot;&quot;</span> ) {
<a name="l03354"></a>03354         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#ad92cc88d61b4025923a3e3f5453692e1">getRawExtentNode</a>( <span class="stringliteral">&quot;raw&quot;</span> );
<a name="l03355"></a>03355         <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9047d614d0eb455339838bfa249b264b">getDocumentStructureNode</a>( <span class="stringliteral">&quot;documentStructureNode&quot;</span> );
<a name="l03356"></a>03356         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;occurrences&quot;</span> );
<a name="l03357"></a>03357         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a21eac96c42104532ac554156ef811108">getDouble</a>( <span class="stringliteral">&quot;contextSize&quot;</span> );
<a name="l03358"></a>03358         <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;smoothing&quot;</span> );
<a name="l03359"></a>03359         <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#aaa43346bc3797ad85052b3be8fa2c199">getStringVector</a>( <span class="stringliteral">&quot;shrinkageRules&quot;</span> );
<a name="l03360"></a>03360       }
<a name="l03361"></a>03361 
<a name="l03362"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a09c143a41a1f96185d818fd519800f96">03362</a>       std::string <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a09c143a41a1f96185d818fd519800f96">typeName</a>()<span class="keyword"> const </span>{
<a name="l03363"></a>03363         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ShrinkageScorerNode&quot;</span>;
<a name="l03364"></a>03364       }
<a name="l03365"></a>03365 
<a name="l03366"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a3bd36d0467935dd1f52548e50967be52">03366</a>       std::string <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a3bd36d0467935dd1f52548e50967be52">queryText</a>()<span class="keyword"> const </span>{
<a name="l03367"></a>03367         std::stringstream qtext;
<a name="l03368"></a>03368         
<a name="l03369"></a>03369         qtext &lt;&lt; <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af8e313250268e1495bd9817514fc0d7c">queryText</a>();
<a name="l03370"></a>03370 
<a name="l03371"></a>03371         <span class="keywordflow">return</span> qtext.str();
<a name="l03372"></a>03372       }
<a name="l03373"></a>03373 
<a name="l03374"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#ad017520cc68879e2a6f5ce15d86d4799">03374</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#ad017520cc68879e2a6f5ce15d86d4799">addShrinkageRule</a>( std::string rule ) {
<a name="l03375"></a>03375         <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>.push_back( rule );
<a name="l03376"></a>03376       }
<a name="l03377"></a>03377       
<a name="l03378"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#afecf86bbb2ffc8a4a15294023801dc72">03378</a>       std::vector&lt;std::string&gt; <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#afecf86bbb2ffc8a4a15294023801dc72">getShrinkageRules</a>() {
<a name="l03379"></a>03379         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>;
<a name="l03380"></a>03380       }
<a name="l03381"></a>03381 
<a name="l03382"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a54636a05a1c7402a3a29af7402ebedd0">03382</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a54636a05a1c7402a3a29af7402ebedd0">setDocumentStructure</a>( <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* docStruct ) {
<a name="l03383"></a>03383         <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a> = docStruct;
<a name="l03384"></a>03384       }
<a name="l03385"></a>03385 
<a name="l03386"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a6064ea18ad28ef117378e987dac5f856">03386</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a6064ea18ad28ef117378e987dac5f856">getDocumentStructure</a>() {
<a name="l03387"></a>03387         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a>;
<a name="l03388"></a>03388       }
<a name="l03389"></a>03389 
<a name="l03390"></a>03390 
<a name="l03391"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a15d888ca87e25c7a85da88c540c74d04">03391</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a15d888ca87e25c7a85da88c540c74d04">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03392"></a>03392         UINT64 hash = 0;
<a name="l03393"></a>03393 
<a name="l03394"></a>03394         hash += 119;
<a name="l03395"></a>03395         hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l03396"></a>03396 
<a name="l03397"></a>03397         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a> ) {
<a name="l03398"></a>03398           hash += <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ae3322cb0a4e8bb7581290432b50fe743">_context</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>();
<a name="l03399"></a>03399         }
<a name="l03400"></a>03400 
<a name="l03401"></a>03401         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> gh;
<a name="l03402"></a>03402         hash += gh( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a>.c_str() );
<a name="l03403"></a>03403 
<a name="l03404"></a>03404         <span class="keywordflow">return</span> hash;
<a name="l03405"></a>03405       }
<a name="l03406"></a>03406 
<a name="l03407"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a215f8d853985c605ef4abd1b4eb3cdc8">03407</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a215f8d853985c605ef4abd1b4eb3cdc8">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l03408"></a>03408         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l03409"></a>03409         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;raw&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> );
<a name="l03410"></a>03410         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;documentStructure&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a> );
<a name="l03411"></a>03411         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;occurrences&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ade39cbc9a6027e6a08334f69c26c7fd8">_occurrences</a> );
<a name="l03412"></a>03412         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;contextSize&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a8dd6f3fd3fc61ab6cd52436d641140af">_contextSize</a> );
<a name="l03413"></a>03413         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;smoothing&quot;</span>, <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#ab85b6a8784cc6cfa547364eac2d644b1">_smoothing</a> );
<a name="l03414"></a>03414         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;shrinkageRules&quot;</span>, <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a> );
<a name="l03415"></a>03415         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l03416"></a>03416       }
<a name="l03417"></a>03417 
<a name="l03418"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a1d8cc27386166977b9cdd1de63a832a5">03418</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a1d8cc27386166977b9cdd1de63a832a5">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03419"></a>03419         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03420"></a>03420         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> )
<a name="l03421"></a>03421           <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03422"></a>03422         <span class="keywordflow">if</span>( <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a> ) 
<a name="l03423"></a>03423           <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">walk</a>(walker);
<a name="l03424"></a>03424         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03425"></a>03425       }
<a name="l03426"></a>03426 
<a name="l03427"></a><a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a42312cb97c740a7ab410b6017476bc49">03427</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a42312cb97c740a7ab410b6017476bc49">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03428"></a>03428         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03429"></a>03429 
<a name="l03430"></a>03430         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* duplicateRaw = <a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1RawScorerNode.html#a1fb57e0baf707aae80565c8651f50f21">_raw</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier)) : 0;
<a name="l03431"></a>03431         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* duplicateDocStruct = <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a> ? <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a16c1e719179bac7c43b6bb809fc6404d">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">copy</a>(copier)) : 0;
<a name="l03432"></a>03432         <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html">ShrinkageScorerNode</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a04c08a5ab881c6bba6f0d3f7b6cc144a">ShrinkageScorerNode</a>(*<span class="keyword">this</span>);
<a name="l03433"></a>03433         duplicate-&gt;setRawExtent( duplicateRaw );
<a name="l03434"></a>03434         duplicate-&gt;setDocumentStructure( duplicateDocStruct );
<a name="l03435"></a>03435 
<a name="l03436"></a>03436         std::vector&lt;std::string&gt;::iterator ruleIter = <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>.begin();
<a name="l03437"></a>03437         <span class="keywordflow">while</span>( ruleIter != <a class="code" href="classindri_1_1lang_1_1ShrinkageScorerNode.html#a68dc2f9ddc668e2fb78924531898c629">_shrinkageRules</a>.end() ) {
<a name="l03438"></a>03438           duplicate-&gt;addShrinkageRule( *ruleIter );
<a name="l03439"></a>03439           ruleIter++;
<a name="l03440"></a>03440         }
<a name="l03441"></a>03441 
<a name="l03442"></a>03442         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l03443"></a>03443       }
<a name="l03444"></a>03444     };
<a name="l03445"></a>03445 
<a name="l03446"></a>03446 
<a name="l03447"></a>03447 
<a name="l03448"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html">03448</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html">ExtentDescendant</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> {
<a name="l03449"></a>03449     <span class="keyword">protected</span>:
<a name="l03450"></a>03450 
<a name="l03451"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">03451</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>;
<a name="l03452"></a>03452       
<a name="l03453"></a>03453     <span class="keyword">public</span>:
<a name="l03454"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1627b155d768d0b68a8558780dfc52ad">03454</a>       <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1627b155d768d0b68a8558780dfc52ad">ExtentDescendant</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer, <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * docStruct ) :
<a name="l03455"></a>03455         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( inner, outer ),
<a name="l03456"></a>03456         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>( docStruct)
<a name="l03457"></a>03457       {
<a name="l03458"></a>03458       }
<a name="l03459"></a>03459 
<a name="l03460"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a962a56b9c585a88a4c14303d44907ce4">03460</a>       <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1627b155d768d0b68a8558780dfc52ad">ExtentDescendant</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ):
<a name="l03461"></a>03461         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( unpacker ) 
<a name="l03462"></a>03462       { 
<a name="l03463"></a>03463         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9047d614d0eb455339838bfa249b264b">getDocumentStructureNode</a>( <span class="stringliteral">&quot;documentStructureNode&quot;</span> );
<a name="l03464"></a>03464       }
<a name="l03465"></a>03465 
<a name="l03466"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a25439cda2a620f5b774d87b269ba7be6">03466</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a25439cda2a620f5b774d87b269ba7be6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l03467"></a>03467         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html">ExtentDescendant</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html">ExtentDescendant</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l03468"></a>03468   
<a name="l03469"></a>03469         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l03470"></a>03470           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> &amp;&amp;
<a name="l03471"></a>03471           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> &amp;&amp;
<a name="l03472"></a>03472           *<a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>;
<a name="l03473"></a>03473       }
<a name="l03474"></a>03474       
<a name="l03475"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1ee89899c9e96de25220c5ae256c155f">03475</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1ee89899c9e96de25220c5ae256c155f">setDocumentStructure</a>( <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* docStruct ) {
<a name="l03476"></a>03476         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a> = docStruct;
<a name="l03477"></a>03477       }
<a name="l03478"></a>03478 
<a name="l03479"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a758a2fbad05256cc44319e11a145d562">03479</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a758a2fbad05256cc44319e11a145d562">getDocumentStructure</a>() {
<a name="l03480"></a>03480         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>;
<a name="l03481"></a>03481       }
<a name="l03482"></a>03482 
<a name="l03483"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#ab189e3891ce767763a5ca4ea7428b310">03483</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#ab189e3891ce767763a5ca4ea7428b310">typeName</a>()<span class="keyword"> const </span>{
<a name="l03484"></a>03484         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentDescendant&quot;</span>;
<a name="l03485"></a>03485       }
<a name="l03486"></a>03486 
<a name="l03487"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#aaaf090186ae15628737055b199e17330">03487</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#aaaf090186ae15628737055b199e17330">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03488"></a>03488         <span class="keywordflow">return</span> 125 + <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + (<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7);<span class="comment">//???????????????</span>
<a name="l03489"></a>03489       }
<a name="l03490"></a>03490 
<a name="l03491"></a>03491 
<a name="l03492"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a255ce9960201e48eedf731ffca59d841">03492</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a255ce9960201e48eedf731ffca59d841">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03493"></a>03493         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03494"></a>03494         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03495"></a>03495         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03496"></a>03496         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">walk</a>(walker);
<a name="l03497"></a>03497         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03498"></a>03498       }
<a name="l03499"></a>03499 
<a name="l03500"></a><a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1b981170219c5ed75cefb7d27e1fdf51">03500</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1b981170219c5ed75cefb7d27e1fdf51">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03501"></a>03501         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03502"></a>03502         
<a name="l03503"></a>03503         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03504"></a>03504         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03505"></a>03505         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * newDocStruct = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a810c1d24b3a8c26bd3fb9e31c5913b91">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">copy</a>(copier));
<a name="l03506"></a>03506         <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html">ExtentDescendant</a>* extentInsideCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentDescendant.html#a1627b155d768d0b68a8558780dfc52ad">ExtentDescendant</a>( newInner, newOuter, newDocStruct );
<a name="l03507"></a>03507         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03508"></a>03508 
<a name="l03509"></a>03509         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, extentInsideCopy);
<a name="l03510"></a>03510       }
<a name="l03511"></a>03511     };
<a name="l03512"></a>03512 
<a name="l03513"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html">03513</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentChild.html">ExtentChild</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> {
<a name="l03514"></a>03514     <span class="keyword">protected</span>:
<a name="l03515"></a>03515 
<a name="l03516"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">03516</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>;
<a name="l03517"></a>03517       
<a name="l03518"></a>03518     <span class="keyword">public</span>:
<a name="l03519"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a7d794b51f886e0b85bdfedd283dbb9f5">03519</a>       <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a7d794b51f886e0b85bdfedd283dbb9f5">ExtentChild</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer, <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * docStruct ) :
<a name="l03520"></a>03520         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( inner, outer ),
<a name="l03521"></a>03521         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>( docStruct)
<a name="l03522"></a>03522       {
<a name="l03523"></a>03523       }
<a name="l03524"></a>03524 
<a name="l03525"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a88ef3016874138764ec8516794d51c88">03525</a>       <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a7d794b51f886e0b85bdfedd283dbb9f5">ExtentChild</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ):
<a name="l03526"></a>03526         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( unpacker ) 
<a name="l03527"></a>03527       { 
<a name="l03528"></a>03528         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9047d614d0eb455339838bfa249b264b">getDocumentStructureNode</a>( <span class="stringliteral">&quot;documentStructureNode&quot;</span> );
<a name="l03529"></a>03529       }
<a name="l03530"></a>03530 
<a name="l03531"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a9f64bc4bf10292280dbe2a2424d2cff6">03531</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a9f64bc4bf10292280dbe2a2424d2cff6">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l03532"></a>03532         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html">ExtentChild</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentChild.html">ExtentChild</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l03533"></a>03533   
<a name="l03534"></a>03534         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l03535"></a>03535           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> &amp;&amp;
<a name="l03536"></a>03536           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> &amp;&amp;
<a name="l03537"></a>03537           *<a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>;
<a name="l03538"></a>03538       }
<a name="l03539"></a>03539 
<a name="l03540"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a64595a9c2304324f01a72085989c1fa6">03540</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a64595a9c2304324f01a72085989c1fa6">setDocumentStructure</a>( <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* docStruct ) {
<a name="l03541"></a>03541         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a> = docStruct;
<a name="l03542"></a>03542       }
<a name="l03543"></a>03543 
<a name="l03544"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a2c96ad74d9e1ce8f842f61c386590643">03544</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a2c96ad74d9e1ce8f842f61c386590643">getDocumentStructure</a>() {
<a name="l03545"></a>03545         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>;
<a name="l03546"></a>03546       }
<a name="l03547"></a>03547      
<a name="l03548"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a89578c78c00f19718b0f64f85eeeb77b">03548</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a89578c78c00f19718b0f64f85eeeb77b">typeName</a>()<span class="keyword"> const </span>{
<a name="l03549"></a>03549         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentChild&quot;</span>;
<a name="l03550"></a>03550       }
<a name="l03551"></a>03551 
<a name="l03552"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a0d1c6fce6a65ee9559b564eb4176bce2">03552</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a0d1c6fce6a65ee9559b564eb4176bce2">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03553"></a>03553         <span class="keywordflow">return</span> 129 + <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + (<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7);<span class="comment">//???????????????</span>
<a name="l03554"></a>03554       }
<a name="l03555"></a>03555 
<a name="l03556"></a>03556 
<a name="l03557"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#ad0782f3c2ce9397010125c59ab27b90d">03557</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#ad0782f3c2ce9397010125c59ab27b90d">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03558"></a>03558         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03559"></a>03559         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03560"></a>03560         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03561"></a>03561         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">walk</a>(walker);
<a name="l03562"></a>03562         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03563"></a>03563       }
<a name="l03564"></a>03564 
<a name="l03565"></a><a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a67799f3e7937b1b3797523f6739319ba">03565</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a67799f3e7937b1b3797523f6739319ba">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03566"></a>03566         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03567"></a>03567         
<a name="l03568"></a>03568         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03569"></a>03569         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03570"></a>03570         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * newDocStruct = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a3baac04f7a123c7f73975c16064d8254">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">copy</a>(copier));
<a name="l03571"></a>03571         <a class="code" href="classindri_1_1lang_1_1ExtentChild.html">ExtentChild</a>* extentInsideCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentChild.html#a7d794b51f886e0b85bdfedd283dbb9f5">ExtentChild</a>( newInner, newOuter, newDocStruct );
<a name="l03572"></a>03572         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03573"></a>03573 
<a name="l03574"></a>03574         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, extentInsideCopy);
<a name="l03575"></a>03575       }
<a name="l03576"></a>03576     };
<a name="l03577"></a>03577 
<a name="l03578"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html">03578</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1ExtentParent.html">ExtentParent</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a> {
<a name="l03579"></a>03579     <span class="keyword">protected</span>:
<a name="l03580"></a>03580 
<a name="l03581"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">03581</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>;
<a name="l03582"></a>03582       
<a name="l03583"></a>03583     <span class="keyword">public</span>:
<a name="l03584"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab063727776048dc01ece82cfd4648f4b">03584</a>       <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab063727776048dc01ece82cfd4648f4b">ExtentParent</a>( <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* inner, <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* outer, <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * docStruct ) :
<a name="l03585"></a>03585         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( inner, outer ),
<a name="l03586"></a>03586         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>( docStruct)
<a name="l03587"></a>03587       {
<a name="l03588"></a>03588       }
<a name="l03589"></a>03589 
<a name="l03590"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#acf59c7613e72303ca8b7b3a83553c5b7">03590</a>       <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab063727776048dc01ece82cfd4648f4b">ExtentParent</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ):
<a name="l03591"></a>03591         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html">ExtentInside</a>( unpacker ) 
<a name="l03592"></a>03592       { 
<a name="l03593"></a>03593         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a9047d614d0eb455339838bfa249b264b">getDocumentStructureNode</a>( <span class="stringliteral">&quot;documentStructureNode&quot;</span> );
<a name="l03594"></a>03594       }
<a name="l03595"></a>03595 
<a name="l03596"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a5e03dc3dea7d65d2e35eb9840831d32f">03596</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a5e03dc3dea7d65d2e35eb9840831d32f">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; o ) {
<a name="l03597"></a>03597         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html">ExtentParent</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1ExtentParent.html">ExtentParent</a>*<span class="keyword">&gt;</span>(&amp;o);
<a name="l03598"></a>03598   
<a name="l03599"></a>03599         <span class="keywordflow">return</span> other &amp;&amp;
<a name="l03600"></a>03600           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a> &amp;&amp;
<a name="l03601"></a>03601           *<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a> &amp;&amp;
<a name="l03602"></a>03602           *<a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a> == *other-&gt;<a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>;
<a name="l03603"></a>03603       }
<a name="l03604"></a>03604 
<a name="l03605"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a5314b83dc627ded100fbd64817971eb1">03605</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a5314b83dc627ded100fbd64817971eb1">setDocumentStructure</a>( <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* docStruct ) {
<a name="l03606"></a>03606         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a> = docStruct;
<a name="l03607"></a>03607       }
<a name="l03608"></a>03608 
<a name="l03609"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a6b8cad03dd8cef9a54d19566242468fc">03609</a>       <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>* <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a6b8cad03dd8cef9a54d19566242468fc">getDocumentStructure</a>() {
<a name="l03610"></a>03610         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>;
<a name="l03611"></a>03611       }
<a name="l03612"></a>03612      
<a name="l03613"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#afc1472315c3cbcf36a5033e057dc5750">03613</a>       std::string <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#afc1472315c3cbcf36a5033e057dc5750">typeName</a>()<span class="keyword"> const </span>{
<a name="l03614"></a>03614         <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExtentParent&quot;</span>;
<a name="l03615"></a>03615       }
<a name="l03616"></a>03616 
<a name="l03617"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a4806fc2006c547f1076696933a996a5e">03617</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a4806fc2006c547f1076696933a996a5e">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03618"></a>03618         <span class="keywordflow">return</span> 129 + <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() + (<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#af1ce3126ab39121016d6fc447875b055">hashCode</a>() * 7);<span class="comment">//???????????????</span>
<a name="l03619"></a>03619       }
<a name="l03620"></a>03620 
<a name="l03621"></a>03621 
<a name="l03622"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a1106312e7ca8fbf4f9ae13c1abd78a17">03622</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a1106312e7ca8fbf4f9ae13c1abd78a17">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03623"></a>03623         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03624"></a>03624         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03625"></a>03625         <a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#abc02bfefb2bad666122372b0d5cf1d6f">walk</a>(walker);
<a name="l03626"></a>03626         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a63c47774a545898bbfe26025b7b66446">walk</a>(walker);
<a name="l03627"></a>03627         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03628"></a>03628       }
<a name="l03629"></a>03629 
<a name="l03630"></a><a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab100a9bae4e2a9af3149dd4883892ac4">03630</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab100a9bae4e2a9af3149dd4883892ac4">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03631"></a>03631         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03632"></a>03632         
<a name="l03633"></a>03633         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newInner = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#af7c3babd60e031a06569f8a9d1437460">_inner</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03634"></a>03634         <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>* newOuter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentInside.html#a727c6a485f622ec51521a4e5eca4dc29">_outer</a>-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#a0325d3de47e37c31762a18f1b2b322f5">copy</a>(copier));
<a name="l03635"></a>03635         <a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a> * newDocStruct = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html">DocumentStructureNode</a>*<span class="keyword">&gt;</span>(<a class="code" href="classindri_1_1lang_1_1ExtentParent.html#a88b284cfc59eeb0ba686bacd008470b6">_documentStructure</a>-&gt;<a class="code" href="classindri_1_1lang_1_1DocumentStructureNode.html#a243a16350957632ce05dba9dcd0f9289">copy</a>(copier));
<a name="l03636"></a>03636         <a class="code" href="classindri_1_1lang_1_1ExtentParent.html">ExtentParent</a>* extentInsideCopy = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1ExtentParent.html#ab063727776048dc01ece82cfd4648f4b">ExtentParent</a>( newInner, newOuter, newDocStruct );
<a name="l03637"></a>03637         extentInsideCopy-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03638"></a>03638 
<a name="l03639"></a>03639         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, extentInsideCopy);
<a name="l03640"></a>03640       }
<a name="l03641"></a>03641     }; <span class="comment">// end ExtentParent</span>
<a name="l03642"></a>03642 
<a name="l03643"></a>03643                 <span class="comment">//</span>
<a name="l03644"></a>03644                 <span class="comment">// WildcardTerm</span>
<a name="l03645"></a>03645                 <span class="comment">//</span>
<a name="l03646"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html">03646</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html">WildcardTerm</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1RawExtentNode.html">RawExtentNode</a> {
<a name="l03647"></a>03647     <span class="keyword">private</span>:
<a name="l03648"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">03648</a>                         std::string <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>;
<a name="l03649"></a>03649 
<a name="l03650"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a294f5e2d04c1d9406897faca9080c6bb">03650</a>                         <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a294f5e2d04c1d9406897faca9080c6bb">normalizeTerm</a>() {
<a name="l03651"></a>03651                                 <span class="comment">// remove the wildcard character</span>
<a name="l03652"></a>03652                                 std::string::size_type wpos=<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>.rfind(<span class="stringliteral">&quot;*&quot;</span>);
<a name="l03653"></a>03653                                 <span class="keywordflow">if</span> (wpos!=std::string::npos) {
<a name="l03654"></a>03654           <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>=<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>.substr(0, wpos);
<a name="l03655"></a>03655                                 }
<a name="l03656"></a>03656 
<a name="l03657"></a>03657                                 <span class="comment">// lowercase the term</span>
<a name="l03658"></a>03658                                 <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i &lt; <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>.size(); ++i) {
<a name="l03659"></a>03659                                         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>[i]=tolower(<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>[i]);
<a name="l03660"></a>03660                                 }
<a name="l03661"></a>03661                         }
<a name="l03662"></a>03662 
<a name="l03663"></a>03663     <span class="keyword">public</span>:
<a name="l03664"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#abfcc376fbc263142ad6923b7a07cdc57">03664</a>       <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#abfcc376fbc263142ad6923b7a07cdc57">WildcardTerm</a>() {}
<a name="l03665"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a367b18475e4a543c596a4318c9b4c0bc">03665</a>                         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#abfcc376fbc263142ad6923b7a07cdc57">WildcardTerm</a>( std::string text) :
<a name="l03666"></a>03666                         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>(text)
<a name="l03667"></a>03667       {
<a name="l03668"></a>03668         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a294f5e2d04c1d9406897faca9080c6bb">normalizeTerm</a>();
<a name="l03669"></a>03669       }
<a name="l03670"></a>03670 
<a name="l03671"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a74b84f5d9726f0780c6b383c55ac6c54">03671</a>       <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a74b84f5d9726f0780c6b383c55ac6c54">WildcardTerm</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l03672"></a>03672         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a> = unpacker.<a class="code" href="classindri_1_1lang_1_1Unpacker.html#a93ac36a8e076b81c0fd79e7c7002029f">getString</a>( <span class="stringliteral">&quot;normalizedTerm&quot;</span> );
<a name="l03673"></a>03673       } 
<a name="l03674"></a>03674 
<a name="l03675"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#aadf951de6d20dfc9810fcb41b248913a">03675</a>       std::string <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#aadf951de6d20dfc9810fcb41b248913a">typeName</a>()<span class="keyword"> const </span>{
<a name="l03676"></a>03676         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WildcardTerm&quot;</span>;
<a name="l03677"></a>03677       }
<a name="l03678"></a>03678 
<a name="l03679"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ad65490babef32b550da3b3ac2328ac23">03679</a>       std::string <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ad65490babef32b550da3b3ac2328ac23">queryText</a>()<span class="keyword"> const </span>{
<a name="l03680"></a>03680                                 <span class="keywordflow">return</span> (<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a> + <span class="stringliteral">&quot;*&quot;</span>);
<a name="l03681"></a>03681       }
<a name="l03682"></a>03682 
<a name="l03683"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#acd652d37625140279ed4e56081a00eaf">03683</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#acd652d37625140279ed4e56081a00eaf">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03684"></a>03684         <span class="keywordtype">int</span> accumulator = 7;
<a name="l03685"></a>03685 
<a name="l03686"></a>03686         <a class="code" href="classindri_1_1utility_1_1GenericHash_3_01const_01char_01_5_01_4.html">indri::utility::GenericHash&lt;const char*&gt;</a> hash;
<a name="l03687"></a>03687         <span class="keywordflow">return</span> accumulator + hash( <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>.c_str() );
<a name="l03688"></a>03688       }
<a name="l03689"></a>03689 
<a name="l03690"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a8a248d14db713af6cda55d963c28033c">03690</a>                         <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a8a248d14db713af6cda55d963c28033c">setTerm</a>( std::string term ) {
<a name="l03691"></a>03691                                 <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>=term;
<a name="l03692"></a>03692                                 <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a294f5e2d04c1d9406897faca9080c6bb">normalizeTerm</a>();
<a name="l03693"></a>03693       }
<a name="l03694"></a>03694 
<a name="l03695"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a03bd33ce594d0ce252084d24e18d3e0a">03695</a>                         std::string <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a03bd33ce594d0ce252084d24e18d3e0a">getTerm</a>() {
<a name="l03696"></a>03696         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>;
<a name="l03697"></a>03697       }
<a name="l03698"></a>03698 
<a name="l03699"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ac730f1b992133f606de340857c69fc0e">03699</a>       <span class="keywordtype">bool</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ac730f1b992133f606de340857c69fc0e">operator== </a>( <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>&amp; node ) {
<a name="l03700"></a>03700         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html">WildcardTerm</a>* other = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html">WildcardTerm</a>*<span class="keyword">&gt;</span>(&amp;node);
<a name="l03701"></a>03701 
<a name="l03702"></a>03702         <span class="keywordflow">if</span>( other == <span class="keyword">this</span> )
<a name="l03703"></a>03703           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03704"></a>03704 
<a name="l03705"></a>03705         <span class="keywordflow">if</span>( !other )
<a name="l03706"></a>03706           <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l03707"></a>03707 
<a name="l03708"></a>03708         <span class="keywordflow">if</span> (other-&gt;<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a03bd33ce594d0ce252084d24e18d3e0a">getTerm</a>()==<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>) 
<a name="l03709"></a>03709                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03710"></a>03710 
<a name="l03711"></a>03711                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l03712"></a>03712       }
<a name="l03713"></a>03713 
<a name="l03714"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a8e9e2ce5761e4c6cfb5cd0786907aee9">03714</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a8e9e2ce5761e4c6cfb5cd0786907aee9">pack</a>( <a class="code" href="classindri_1_1lang_1_1Packer.html">Packer</a>&amp; packer ) {
<a name="l03715"></a>03715         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#acb07927c27b0aa6c05185df66f03f40d">before</a>(<span class="keyword">this</span>);
<a name="l03716"></a>03716         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#ae60b20e4d38626d3d7017d900e3b98c3">put</a>( <span class="stringliteral">&quot;normalizedTerm&quot;</span>, <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a> );
<a name="l03717"></a>03717         packer.<a class="code" href="classindri_1_1lang_1_1Packer.html#a63294684ea17e7c838ebb123813defe2">after</a>(<span class="keyword">this</span>);
<a name="l03718"></a>03718       }
<a name="l03719"></a>03719 
<a name="l03720"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ada39cdf1f9f31fe08d89acfacf9cbff1">03720</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ada39cdf1f9f31fe08d89acfacf9cbff1">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03721"></a>03721         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a4ca370acb69791fa95b58448b540171b">before</a>(<span class="keyword">this</span>);
<a name="l03722"></a>03722         walker.<a class="code" href="classindri_1_1lang_1_1Walker.html#a54ea2e40580e009bb2d1fd9ea631c508">after</a>(<span class="keyword">this</span>);
<a name="l03723"></a>03723       }
<a name="l03724"></a>03724 
<a name="l03725"></a><a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ada28ab5ab90b61728b5439060004c954">03725</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#ada28ab5ab90b61728b5439060004c954">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03726"></a>03726         copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a98a0ec71bb055c7e6e0d61824b608350">before</a>(<span class="keyword">this</span>);
<a name="l03727"></a>03727         
<a name="l03728"></a>03728         <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html">WildcardTerm</a>* duplicate = <span class="keyword">new</span> <a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#abfcc376fbc263142ad6923b7a07cdc57">WildcardTerm</a>(<a class="code" href="classindri_1_1lang_1_1WildcardTerm.html#a3c56c1414e0258d792e906db3619346e">_normalizedTerm</a>);
<a name="l03729"></a>03729         duplicate-&gt;<a class="code" href="classindri_1_1lang_1_1Node.html#ac90150e1bf9eee224f7731573a20c80a">setNodeName</a>( <a class="code" href="classindri_1_1lang_1_1Node.html#aba3b104075bcb6b329fbe7f76ce52aba">nodeName</a>() );
<a name="l03730"></a>03730 
<a name="l03731"></a>03731         <span class="keywordflow">return</span> copier.<a class="code" href="classindri_1_1lang_1_1Copier.html#a95e12633426bc357165eec9684bd6a5e">after</a>(<span class="keyword">this</span>, duplicate);
<a name="l03732"></a>03732       }
<a name="l03733"></a>03733     };
<a name="l03734"></a>03734 
<a name="l03735"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html">03735</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1PlusNode.html">PlusNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html">UnweightedCombinationNode</a> {
<a name="l03736"></a>03736     <span class="keyword">public</span>:
<a name="l03737"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#ad61c128b404159e19898f5a787b2c0bf">03737</a>       <a class="code" href="classindri_1_1lang_1_1PlusNode.html#ad61c128b404159e19898f5a787b2c0bf">PlusNode</a>() {}
<a name="l03738"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#a55ffaec4d546b119772973bc767bd838">03738</a>       <a class="code" href="classindri_1_1lang_1_1PlusNode.html#a55ffaec4d546b119772973bc767bd838">PlusNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l03739"></a>03739         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a70ee6758ffcf2ca6d9c9095b5b1acb31">_unpack</a>( unpacker );
<a name="l03740"></a>03740       }
<a name="l03741"></a>03741 
<a name="l03742"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#aa1415ecdeac3f3a7299cd4b3359e5cdd">03742</a>       std::string <a class="code" href="classindri_1_1lang_1_1PlusNode.html#aa1415ecdeac3f3a7299cd4b3359e5cdd">typeName</a>()<span class="keyword"> const </span>{
<a name="l03743"></a>03743         <span class="keywordflow">return</span> <span class="stringliteral">&quot;PlusNode&quot;</span>;
<a name="l03744"></a>03744       }
<a name="l03745"></a>03745 
<a name="l03746"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#a4e707edbb999f4b294f998d11eb26d97">03746</a>       std::string <a class="code" href="classindri_1_1lang_1_1PlusNode.html#a4e707edbb999f4b294f998d11eb26d97">queryText</a>()<span class="keyword"> const </span>{
<a name="l03747"></a>03747         std::stringstream qtext;
<a name="l03748"></a>03748         qtext &lt;&lt; <span class="stringliteral">&quot;#plus(&quot;</span>;
<a name="l03749"></a>03749         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a613fc1d8355f1df748033fb08c4e43fb">_childText</a>(qtext);
<a name="l03750"></a>03750         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l03751"></a>03751 
<a name="l03752"></a>03752         <span class="keywordflow">return</span> qtext.str();
<a name="l03753"></a>03753       } 
<a name="l03754"></a>03754 
<a name="l03755"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#a516fa21e6e29d58f457a0634b64ee76f">03755</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1PlusNode.html#a516fa21e6e29d58f457a0634b64ee76f">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03756"></a>03756         <span class="keywordflow">return</span> 259 + <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0340711a4ac738a7fa1830db1d610ba1">_hashCode</a>();
<a name="l03757"></a>03757       }
<a name="l03758"></a>03758 
<a name="l03759"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#a1ec38d01d5756ffd28cb1c55b899abba">03759</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1PlusNode.html#a1ec38d01d5756ffd28cb1c55b899abba">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03760"></a>03760         <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a15f280e6f5db8744c9263720aa9e5a15">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l03761"></a>03761       }
<a name="l03762"></a>03762       
<a name="l03763"></a><a class="code" href="classindri_1_1lang_1_1PlusNode.html#a7e6c16155c0a071ee32c5ac647ecebb4">03763</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1PlusNode.html#a7e6c16155c0a071ee32c5ac647ecebb4">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03764"></a>03764         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1UnweightedCombinationNode.html#a0e6fad70f1a7c1598ac64975b1c850e1">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l03765"></a>03765       }
<a name="l03766"></a>03766     };
<a name="l03767"></a>03767 
<a name="l03768"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html">03768</a>     <span class="keyword">class </span><a class="code" href="classindri_1_1lang_1_1WPlusNode.html">WPlusNode</a> : <span class="keyword">public</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html">WeightedCombinationNode</a> {
<a name="l03769"></a>03769     <span class="keyword">public</span>:
<a name="l03770"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#ae56e4cce10bef66e356e109fc99a838a">03770</a>       <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#ae56e4cce10bef66e356e109fc99a838a">WPlusNode</a>() {}
<a name="l03771"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a4b75dfef658ec6fab7922cbfde6bdbf9">03771</a>       <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a4b75dfef658ec6fab7922cbfde6bdbf9">WPlusNode</a>( <a class="code" href="classindri_1_1lang_1_1Unpacker.html">Unpacker</a>&amp; unpacker ) {
<a name="l03772"></a>03772         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a429b19b2d2c032d6358896ad436f471e">_unpack</a>( unpacker );
<a name="l03773"></a>03773       }
<a name="l03774"></a>03774 
<a name="l03775"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#aa6f083cedbcad7d8de47bbf8fa223711">03775</a>       std::string <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#aa6f083cedbcad7d8de47bbf8fa223711">typeName</a>()<span class="keyword"> const </span>{
<a name="l03776"></a>03776         <span class="keywordflow">return</span> <span class="stringliteral">&quot;WPlusNode&quot;</span>;
<a name="l03777"></a>03777       }
<a name="l03778"></a>03778 
<a name="l03779"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a02c52af3222c6ad1c021243b4d0750ac">03779</a>       std::string <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a02c52af3222c6ad1c021243b4d0750ac">queryText</a>()<span class="keyword"> const </span>{
<a name="l03780"></a>03780         std::stringstream qtext;
<a name="l03781"></a>03781         qtext &lt;&lt; <span class="stringliteral">&quot;#wplus(&quot;</span>;
<a name="l03782"></a>03782         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#af5558f7199803c2dfe969cbc68189b84">_childText</a>(qtext);
<a name="l03783"></a>03783         qtext &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l03784"></a>03784 
<a name="l03785"></a>03785         <span class="keywordflow">return</span> qtext.str();
<a name="l03786"></a>03786       } 
<a name="l03787"></a>03787 
<a name="l03788"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a42fd9e797921962c1de244ac745fbdd1">03788</a>       UINT64 <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a42fd9e797921962c1de244ac745fbdd1">hashCode</a>()<span class="keyword"> const </span>{
<a name="l03789"></a>03789         <span class="keywordflow">return</span> 261 + <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#aef111fe3f711d013de361619ac5cc8a4">_hashCode</a>();
<a name="l03790"></a>03790       }
<a name="l03791"></a>03791 
<a name="l03792"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#affcccb8686a7c18f36ae6e47c627abf6">03792</a>       <span class="keywordtype">void</span> <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#affcccb8686a7c18f36ae6e47c627abf6">walk</a>( <a class="code" href="classindri_1_1lang_1_1Walker.html">Walker</a>&amp; walker ) {
<a name="l03793"></a>03793         <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a8e38bd4fc3e39a20e41c2f6eaf8ef3a6">_walk</a>( <span class="keyword">this</span>, walker );
<a name="l03794"></a>03794       }
<a name="l03795"></a>03795       
<a name="l03796"></a><a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a5f3aa33607482be7b513a53436aeec41">03796</a>       <a class="code" href="classindri_1_1lang_1_1Node.html">Node</a>* <a class="code" href="classindri_1_1lang_1_1WPlusNode.html#a5f3aa33607482be7b513a53436aeec41">copy</a>( <a class="code" href="classindri_1_1lang_1_1Copier.html">Copier</a>&amp; copier ) {
<a name="l03797"></a>03797         <span class="keywordflow">return</span> <a class="code" href="classindri_1_1lang_1_1WeightedCombinationNode.html#a08e04e9412ad5e37367bf93b68d0b3a0">_copy</a>( <span class="keyword">this</span>, copier );
<a name="l03798"></a>03798       }
<a name="l03799"></a>03799     };
<a name="l03800"></a>03800 
<a name="l03801"></a>03801 
<a name="l03802"></a>03802   }
<a name="l03803"></a>03803 }
<a name="l03804"></a>03804 
<a name="l03805"></a>03805 <span class="preprocessor">#endif // INDRI_QUERYSPEC_HPP</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 17 Dec 2014 for Indri by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
